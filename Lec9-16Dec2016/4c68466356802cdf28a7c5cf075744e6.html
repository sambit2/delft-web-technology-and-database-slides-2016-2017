<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1024">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>4c68466356802cdf28a7c5cf075744e6 | slide2html</title>
    
    <meta name="description" content="impress.js is a presentation tool based on the power of CSS3 transforms and transitions in modern browsers and inspired by the idea behind prezi.com.">
    <meta name="author" content="slide2html">
    <meta name="generator" content="slide2html">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!--
        
        Impress.js doesn't depend on any external stylesheets. It adds all of the styles it needs for the
        presentation to work.
        
        This style below contains styles only for demo presentation. Browse it to see how impress.js
        classes are used to style presentation steps, or how to apply fallback styles, but I don't want
        you to use them directly in your presentation.
        
        Be creative, build your own. We don't really want all impress.js presentations to look the same,
        do we?
        
        When creating your own presentation get rid of this file. Start from scratch, it's fun!
        
    -->
    <link rel="stylesheet" href="css/atom-one-light.min.css">
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="frameworkData/impress.css">
    <link rel="stylesheet" href="css/ASQBasicImpress.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/base.min.css">
    <link rel="stylesheet" href="css/4c68466356802cdf28a7c5cf075744e6.css">
<script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
<script>
    window.Polymer = window.Polymer || {};
    window.Polymer.dom = 'shadow';
  </script>
<link rel="import" href="bower_components/asq-elements/asq-elements.html"><link rel="import" href="shared-styles.html"><style is="custom-style" include="shared-styles"></style></head>
<body class="impress-not-supported">

<!-- Modify the `data-transition-duration` attribute to change the time it takes 
to advance a slide -->
<div id="impress" data-transition-duration="200">
    


    <div id="pf1" class="pf w0 h0 step slide flash" data-page-no="1" data-x="0" data-y="0">
    <div style="position: absolute; z-index: 2;">
            <div class="small">slack-channel: <a style="color: rgb(232,164,51); background: none;" href="ti1506-students.slack.nl">ti1506-students.slack.nl</a> </div>
        </div>

        <div class="small" style="position: absolute;
  z-index: 2;
  top: 60px;
  left: 87px;
  width: 850px;
  height: 100px;
  background: rgba(0,0,0, 0.7);">
            <asq-welcome class="small"></asq-welcome>
        </div>
    <div class="pc pc1 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1.png"><div class="t m0 x1 h1 y1 ff1 fs0 fc0 sc0 ls0 ws1">Claudia Hauff</div><div class="t m0 x2 h2 y2 ff2 fs0 fc0 sc0 ls0 ws1">TI1506: W<span class="_ _0"></span>eb and Database T<span class="_ _1"></span>echnology </div><div class="t m0 x3 h1 y3 ff1 fs0 fc0 sc0 ls0 ws0">ti1506-ewi@tudelft.nl</div><div class="t m0 x4 h3 y4 ff2 fs1 fc1 sc0 ls0 ws1">Lets take another look at </div><div class="t m0 x5 h3 y5 ff2 fs1 fc1 sc0 ls0 ws1">Ajax &amp; node.js</div><a class="l" href="mailto:ti1506-ewi@tudelft.nl"><div class="d m1" style="border-style:none;position:absolute;left:352.375000px;bottom:199.875000px;width:319.250000px;height:38.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div></div>



    <div id="pf2" class="pf w0 h0 step slide flash" data-page-no="2" data-x="0" data-y="0"><div class="pc pc2 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">At the end of this lectur<span class="_ _2"></span>e<span class="_ _3"></span>,<span class="_ _4"></span> y<span class="_ _2"></span>ou </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws1">should be able to …</div><div class="t m0 x7 h5 y8 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc3 ls2 ws2 v1">Implement<span class="fc2 ls0 ws1"> <span class="ff2">client-side code using “plain” Ajax  </span></span></span></div><div class="t m0 x7 h6 y9 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc4 ls0 ws0 v1">Organize</span><span class="fs0 ls0 ws1 v1"> node.js code into modules </span></div><div class="t m0 x7 h7 ya ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc4 ls0 ws1 v1">Understand and employ<span class="ff2 fc2"> the concept of middlewar<span class="_ _0"></span>e </span></span></div><div class="t m0 x7 h8 yb ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc4 ls0 ws1 v1">Employ <span class="ff2 fc2">r<span class="_ _0"></span>outing </span></span></div><div class="t m0 x7 h9 yc ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc4 ls0 ws1 v1">Employ <span class="ff2 fc2">templating</span></span></div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">2</div></div></div>



    <div id="pf3" class="pf w0 h0 step slide flash" data-page-no="3" data-x="0" data-y="0"><div class="pc pc3 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg3.png"><div class="t m0 x9 hb ye ff3 fs5 fc2 sc0 ls0 ws1">A f<span class="_ _0"></span>e<span class="_ _2"></span>w mor<span class="_ _5"></span>e details … </div><div class="t m0 xa hb yf ff3 fs5 fc2 sc0 ls0 ws3">Ajax</div></div></div>



    <div id="pf4" class="pf w0 h0 step slide flash" data-page-no="4" data-x="0" data-y="0"><div class="pc pc4 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> basic HTML</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">4</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 xc hd y12 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">&lt;!doctype</span><span class="fc2"> html<span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y13 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="ff5 fc2">&lt;html&gt;</span></div><div class="t m0 xc hd y14 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">    <span class="ff5">&lt;head&gt;</span></span></div><div class="t m0 xc hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        <span class="ff5 ws4">&lt;title&gt;</span>Plain text TODOs<span class="ff5">&lt;/title&gt;</span></span></div><div class="t m0 xc hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        <span class="ff5 ws4">&lt;script</span> <span class="fc6 ws4">src</span><span class="ls4">=</span><span class="fc7">&quot;http://code.jquery.</span></span></div><div class="t m0 xc hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc7">                    com/jquery-1.11.1.js&quot;<span class="fc2 ls0"> </span></span></div><div class="t m0 xc hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                    <span class="fc6 ws4">type</span>=<span class="fc7 ws4">&quot;text/javascript&quot;</span><span class="ff5">&gt;</span><span class="ws4">&lt;/script<span class="ff5 ls0">&gt;</span></span></span></div><div class="t m0 xc hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">        <span class="ff5 ws4">&lt;script</span> <span class="fc6 ws4">src</span><span class="ls4">=</span><span class="fc7 ws4">“javascript/client-app.js”</span><span class="ls0"> </span></span></div><div class="t m0 xc hd y1a ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">                    <span class="fc6 ws4">type</span>=<span class="fc7 ws4">&quot;text/javascript&quot;</span><span class="ff5">&gt;</span><span class="ws4">&lt;/script<span class="ff5 ls0">&gt;</span></span></span></div><div class="t m0 xc hd y1b ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">    <span class="ff5">&lt;/head&gt;</span></span></div><div class="t m0 xc hd y1c ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">    <span class="ff5">&lt;body&gt;</span></span></div><div class="t m0 xc hd y1d ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2">    <span class="_ _6"> </span><span class="ff5">&lt;main&gt;</span></span></div><div class="t m0 xc hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2">    <span class="_ _7"> </span><span class="ff5 ws4">&lt;section</span><span class="ls4"> </span><span class="fc6 ws4">id</span><span class="ls4">=</span><span class="fc7 ws4">&quot;todo-section&quot;</span><span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2">    <span class="_ _8"> </span><span class="ff5 ws4">&lt;p&gt;</span>My list of TODOS:<span class="ff5">&lt;/p&gt;</span></span></div><div class="t m0 xc hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 17 <span class="fc2">    <span class="_ _8"> </span><span class="ff5 ws4">&lt;ul</span> <span class="fc6 ws4">id</span><span class="ls4">=</span><span class="fc7 ws4">&quot;todo-list&quot;</span><span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 18 <span class="fc2">    <span class="_ _8"> </span><span class="ff5">&lt;/ul&gt;</span></span></div><div class="t m0 xc hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 19 <span class="fc2">    <span class="_ _7"> </span><span class="ff5">&lt;/section&gt;</span></span></div><div class="t m0 xc hd y23 ff4 fs3 fc5 sc0 ls3 ws1"> 20 <span class="fc2">    <span class="_ _6"> </span><span class="ff5">&lt;/main&gt;</span></span></div><div class="t m0 xc hd y24 ff4 fs3 fc5 sc0 ls3 ws1"> 21 <span class="fc2">    <span class="ff5">&lt;/body&gt;</span></span></div><div class="t m0 xc hd y25 ff4 fs3 fc5 sc0 ls3 ws1"> 22 <span class="ff5 fc2">&lt;/html&gt;</span></div><div class="c xd y26 w1 he"><div class="t m2 xe hf y27 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div></div></div>

    <div id="pf5" class="pf w0 h0 step slide flash" data-page-no="5" data-x="0" data-y="0"><div class="pc pc4 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg5.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> basic HTML</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">4</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 xc hd y12 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">&lt;!doctype</span><span class="fc2"> html<span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y13 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="ff5 fc2">&lt;html&gt;</span></div><div class="t m0 xc hd y14 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">    <span class="ff5">&lt;head&gt;</span></span></div><div class="t m0 xc hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        <span class="ff5 ws4">&lt;title&gt;</span>Plain text TODOs<span class="ff5">&lt;/title&gt;</span></span></div><div class="t m0 xc hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        <span class="ff5 ws4">&lt;script</span> <span class="fc6 ws4">src</span><span class="ls4">=</span><span class="fc7">&quot;http://code.jquery.</span></span></div><div class="t m0 xc hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc7">                    com/jquery-1.11.1.js&quot;<span class="fc2 ls0"> </span></span></div><div class="t m0 xc hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                    <span class="fc6 ws4">type</span>=<span class="fc7 ws4">&quot;text/javascript&quot;</span><span class="ff5">&gt;</span><span class="ws4">&lt;/script<span class="ff5 ls0">&gt;</span></span></span></div><div class="t m0 xc hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">        <span class="ff5 ws4">&lt;script</span> <span class="fc6 ws4">src</span><span class="ls4">=</span><span class="fc7 ws4">“javascript/client-app.js”</span><span class="ls0"> </span></span></div><div class="t m0 xc hd y1a ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">                    <span class="fc6 ws4">type</span>=<span class="fc7 ws4">&quot;text/javascript&quot;</span><span class="ff5">&gt;</span><span class="ws4">&lt;/script<span class="ff5 ls0">&gt;</span></span></span></div><div class="t m0 xc hd y1b ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">    <span class="ff5">&lt;/head&gt;</span></span></div><div class="t m0 xc hd y1c ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">    <span class="ff5">&lt;body&gt;</span></span></div><div class="t m0 xc hd y1d ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2">    <span class="_ _6"> </span><span class="ff5">&lt;main&gt;</span></span></div><div class="t m0 xc hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2">    <span class="_ _7"> </span><span class="ff5 ws4">&lt;section</span><span class="ls4"> </span><span class="fc6 ws4">id</span><span class="ls4">=</span><span class="fc7 ws4">&quot;todo-section&quot;</span><span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2">    <span class="_ _8"> </span><span class="ff5 ws4">&lt;p&gt;</span>My list of TODOS:<span class="ff5">&lt;/p&gt;</span></span></div><div class="t m0 xc hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 17 <span class="fc2">    <span class="_ _8"> </span><span class="ff5 ws4">&lt;ul</span> <span class="fc6 ws4">id</span><span class="ls4">=</span><span class="fc7 ws4">&quot;todo-list&quot;</span><span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 18 <span class="fc2">    <span class="_ _8"> </span><span class="ff5">&lt;/ul&gt;</span></span></div><div class="t m0 xc hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 19 <span class="fc2">    <span class="_ _7"> </span><span class="ff5">&lt;/section&gt;</span></span></div><div class="t m0 xc hd y23 ff4 fs3 fc5 sc0 ls3 ws1"> 20 <span class="fc2">    <span class="_ _6"> </span><span class="ff5">&lt;/main&gt;</span></span></div><div class="t m0 xc hd y24 ff4 fs3 fc5 sc0 ls3 ws1"> 21 <span class="fc2">    <span class="ff5">&lt;/body&gt;</span></span></div><div class="t m0 xc hd y25 ff4 fs3 fc5 sc0 ls3 ws1"> 22 <span class="ff5 fc2">&lt;/html&gt;</span></div><div class="c xd y26 w1 he"><div class="t m2 xe hf y27 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div><div class="c xf y28 w2 h10"><div class="t m0 x10 hc y29 ff2 fs3 fc2 sc0 ls0 ws1">Load the JavaScript </div><div class="t m0 x11 h11 y2a ff2 fs3 fc2 sc0 ls0 ws1">files, <span class="ff1">start with jQuery</span></div></div></div></div>

    <div id="pf6" class="pf w0 h0 step slide flash" data-page-no="6" data-x="0" data-y="0"><div class="pc pc4 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> basic HTML</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">4</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 xc hd y12 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">&lt;!doctype</span><span class="fc2"> html<span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y13 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="ff5 fc2">&lt;html&gt;</span></div><div class="t m0 xc hd y14 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">    <span class="ff5">&lt;head&gt;</span></span></div><div class="t m0 xc hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        <span class="ff5 ws4">&lt;title&gt;</span>Plain text TODOs<span class="ff5">&lt;/title&gt;</span></span></div><div class="t m0 xc hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        <span class="ff5 ws4">&lt;script</span> <span class="fc6 ws4">src</span><span class="ls4">=</span><span class="fc7">&quot;http://code.jquery.</span></span></div><div class="t m0 xc hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc7">                    com/jquery-1.11.1.js&quot;<span class="fc2 ls0"> </span></span></div><div class="t m0 xc hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                    <span class="fc6 ws4">type</span>=<span class="fc7 ws4">&quot;text/javascript&quot;</span><span class="ff5">&gt;</span><span class="ws4">&lt;/script<span class="ff5 ls0">&gt;</span></span></span></div><div class="t m0 xc hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">        <span class="ff5 ws4">&lt;script</span> <span class="fc6 ws4">src</span><span class="ls4">=</span><span class="fc7 ws4">“javascript/client-app.js”</span><span class="ls0"> </span></span></div><div class="t m0 xc hd y1a ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">                    <span class="fc6 ws4">type</span>=<span class="fc7 ws4">&quot;text/javascript&quot;</span><span class="ff5">&gt;</span><span class="ws4">&lt;/script<span class="ff5 ls0">&gt;</span></span></span></div><div class="t m0 xc hd y1b ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">    <span class="ff5">&lt;/head&gt;</span></span></div><div class="t m0 xc hd y1c ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">    <span class="ff5">&lt;body&gt;</span></span></div><div class="t m0 xc hd y1d ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2">    <span class="_ _6"> </span><span class="ff5">&lt;main&gt;</span></span></div><div class="t m0 xc hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2">    <span class="_ _7"> </span><span class="ff5 ws4">&lt;section</span><span class="ls4"> </span><span class="fc6 ws4">id</span><span class="ls4">=</span><span class="fc7 ws4">&quot;todo-section&quot;</span><span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2">    <span class="_ _8"> </span><span class="ff5 ws4">&lt;p&gt;</span>My list of TODOS:<span class="ff5">&lt;/p&gt;</span></span></div><div class="t m0 xc hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 17 <span class="fc2">    <span class="_ _8"> </span><span class="ff5 ws4">&lt;ul</span> <span class="fc6 ws4">id</span><span class="ls4">=</span><span class="fc7 ws4">&quot;todo-list&quot;</span><span class="ff5 ls0">&gt;</span></span></div><div class="t m0 xc hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 18 <span class="fc2">    <span class="_ _8"> </span><span class="ff5">&lt;/ul&gt;</span></span></div><div class="t m0 xc hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 19 <span class="fc2">    <span class="_ _7"> </span><span class="ff5">&lt;/section&gt;</span></span></div><div class="t m0 xc hd y23 ff4 fs3 fc5 sc0 ls3 ws1"> 20 <span class="fc2">    <span class="_ _6"> </span><span class="ff5">&lt;/main&gt;</span></span></div><div class="t m0 xc hd y24 ff4 fs3 fc5 sc0 ls3 ws1"> 21 <span class="fc2">    <span class="ff5">&lt;/body&gt;</span></span></div><div class="t m0 xc hd y25 ff4 fs3 fc5 sc0 ls3 ws1"> 22 <span class="ff5 fc2">&lt;/html&gt;</span></div><div class="c xd y26 w1 he"><div class="t m2 xe hf y27 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div><div class="c xf y28 w2 h10"><div class="t m0 x10 hc y29 ff2 fs3 fc2 sc0 ls0 ws1">Load the JavaScript </div><div class="t m0 x11 h11 y2a ff2 fs3 fc2 sc0 ls0 ws1">files, <span class="ff1">start with jQuery</span></div></div><div class="c x12 y2b w3 h10"><div class="t m0 x13 h11 y2c ff1 fs3 fc1 sc0 ls0 ws1">Define where the T<span class="_ _0"></span>ODOs </div><div class="t m0 x14 h11 y2d ff1 fs3 fc1 sc0 ls5 ws1">will be added.</div></div></div></div>


    <div id="pf7" class="pf w0 h0 step slide flash" data-page-no="7" data-x="0" data-y="0"><div class="pc pc7 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">5</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x15 hd y2e ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var main = <span class="fc8 ws4">function</span> () {</span></div><div class="t m0 x15 hd y2f ff4 fs3 fc5 sc0 ls3 ws1">  2  <span class="fc7">&quot;use strict&quot;<span class="fc2 ls0">;</span></span></div><div class="t m0 x15 hd y30 ff4 fs3 fc5 sc0 ls3 ws1">  3 </div><div class="t m0 x15 hd y31 ff4 fs3 fc5 sc0 ls3 ws1">  4  <span class="fc2">var addTodosToList = <span class="fc8 ws4">function</span> (todos) {</span></div><div class="t m0 x15 hd y32 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="_ _b"> </span><span class="fc2">var todolist = document.<span class="fc8 ws4">getElementById</span><span class="ls4">(</span><span class="fc7 ws4">&quot;todo-</span>list&quot;);</span></div><div class="t m0 x15 hd y33 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc7">                </span></div><div class="t m0 x15 hd y34 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="_ _b"> </span><span class="ff5 fc2 ws4">for</span><span class="fc2"> (var key <span class="ff5 ws4">in</span> todos) {</span></div><div class="t m0 x15 hd y35 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    <span class="_ _7"> </span>var li = document.<span class="fc8 ws4">createElement</span><span class="ls4">(</span><span class="fc7 ws4">&quot;li&quot;</span>);</span></div><div class="t m0 x15 hd y36 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">    <span class="_ _7"> </span>li.innerHTML = <span class="fc7">&quot;TODO: “</span><span class="ws4">+todos[key].message;</span></span></div><div class="t m0 x15 hd y37 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">    <span class="_ _7"> </span>todolist.<span class="fc8 ws4">appendChild</span>(li);</span></div><div class="t m0 x15 hd y38 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="_ _b"> </span><span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y2 ff4 fs3 fc5 sc0 ls3 ws1"> 12  <span class="fc2">};</span></div><div class="t m0 x15 hd y39 ff4 fs3 fc5 sc0 ls3 ws1"> 13 </div><div class="t m0 x15 hd y3a ff4 fs3 fc5 sc0 ls3 ws1"> 14  <span class="fc2 ws4">$.<span class="fc8">getJSON</span><span class="ls4">(</span><span class="fc7">&quot;todos&quot;</span><span class="ws1">, addTodosToList);</span></span></div><div class="t m0 x15 hd y3b ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y3c ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2 ws4">$(document).<span class="fc8">ready</span>(main);</span></div><div class="c x16 y3d w4 h10"><div class="t m0 x17 hc y3e ff2 fs3 fc1 sc0 ls0 ws1">when the document is </div><div class="t m0 x18 hc y3f ff2 fs3 fc1 sc0 ls0 ws1">loaded, execute main()</div></div><div class="c x19 y40 w5 h12"><div class="t m2 xe hf y41 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div></div></div>

    <div id="pf8" class="pf w0 h0 step slide flash" data-page-no="8" data-x="0" data-y="0"><div class="pc pc7 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg8.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">5</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x15 hd y2e ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var main = <span class="fc8 ws4">function</span> () {</span></div><div class="t m0 x15 hd y2f ff4 fs3 fc5 sc0 ls3 ws1">  2  <span class="fc7">&quot;use strict&quot;<span class="fc2 ls0">;</span></span></div><div class="t m0 x15 hd y30 ff4 fs3 fc5 sc0 ls3 ws1">  3 </div><div class="t m0 x15 hd y31 ff4 fs3 fc5 sc0 ls3 ws1">  4  <span class="fc2">var addTodosToList = <span class="fc8 ws4">function</span> (todos) {</span></div><div class="t m0 x15 hd y32 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="_ _b"> </span><span class="fc2">var todolist = document.<span class="fc8 ws4">getElementById</span><span class="ls4">(</span><span class="fc7 ws4">&quot;todo-</span>list&quot;);</span></div><div class="t m0 x15 hd y33 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc7">                </span></div><div class="t m0 x15 hd y34 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="_ _b"> </span><span class="ff5 fc2 ws4">for</span><span class="fc2"> (var key <span class="ff5 ws4">in</span> todos) {</span></div><div class="t m0 x15 hd y35 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    <span class="_ _7"> </span>var li = document.<span class="fc8 ws4">createElement</span><span class="ls4">(</span><span class="fc7 ws4">&quot;li&quot;</span>);</span></div><div class="t m0 x15 hd y36 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">    <span class="_ _7"> </span>li.innerHTML = <span class="fc7">&quot;TODO: “</span><span class="ws4">+todos[key].message;</span></span></div><div class="t m0 x15 hd y37 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">    <span class="_ _7"> </span>todolist.<span class="fc8 ws4">appendChild</span>(li);</span></div><div class="t m0 x15 hd y38 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="_ _b"> </span><span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y2 ff4 fs3 fc5 sc0 ls3 ws1"> 12  <span class="fc2">};</span></div><div class="t m0 x15 hd y39 ff4 fs3 fc5 sc0 ls3 ws1"> 13 </div><div class="t m0 x15 hd y3a ff4 fs3 fc5 sc0 ls3 ws1"> 14  <span class="fc2 ws4">$.<span class="fc8">getJSON</span><span class="ls4">(</span><span class="fc7">&quot;todos&quot;</span><span class="ws1">, addTodosToList);</span></span></div><div class="t m0 x15 hd y3b ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y3c ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2 ws4">$(document).<span class="fc8">ready</span>(main);</span></div><div class="c x16 y3d w4 h10"><div class="t m0 x17 hc y3e ff2 fs3 fc1 sc0 ls0 ws1">when the document is </div><div class="t m0 x18 hc y3f ff2 fs3 fc1 sc0 ls0 ws1">loaded, execute main()</div></div><div class="c x19 y40 w5 h12"><div class="t m2 xe hf y41 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div><div class="c x1a y42 w6 h13"><div class="t m0 x1b h11 y43 ff1 fs3 fc2 sc0 ls6 ws5">Callback<span class="ff2 ls0 ws1">: define what happens </span></div><div class="t m0 x1c hc y44 ff2 fs3 fc2 sc0 ls0 ws1">when a todo object is available</div></div></div></div>

    <div id="pf9" class="pf w0 h0 step slide flash" data-page-no="9" data-x="0" data-y="0"><div class="pc pc7 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg9.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">5</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x15 hd y2e ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var main = <span class="fc8 ws4">function</span> () {</span></div><div class="t m0 x15 hd y2f ff4 fs3 fc5 sc0 ls3 ws1">  2  <span class="fc7">&quot;use strict&quot;<span class="fc2 ls0">;</span></span></div><div class="t m0 x15 hd y30 ff4 fs3 fc5 sc0 ls3 ws1">  3 </div><div class="t m0 x15 hd y31 ff4 fs3 fc5 sc0 ls3 ws1">  4  <span class="fc2">var addTodosToList = <span class="fc8 ws4">function</span> (todos) {</span></div><div class="t m0 x15 hd y32 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="_ _b"> </span><span class="fc2">var todolist = document.<span class="fc8 ws4">getElementById</span><span class="ls4">(</span><span class="fc7 ws4">&quot;todo-</span>list&quot;);</span></div><div class="t m0 x15 hd y33 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc7">                </span></div><div class="t m0 x15 hd y34 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="_ _b"> </span><span class="ff5 fc2 ws4">for</span><span class="fc2"> (var key <span class="ff5 ws4">in</span> todos) {</span></div><div class="t m0 x15 hd y35 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    <span class="_ _7"> </span>var li = document.<span class="fc8 ws4">createElement</span><span class="ls4">(</span><span class="fc7 ws4">&quot;li&quot;</span>);</span></div><div class="t m0 x15 hd y36 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">    <span class="_ _7"> </span>li.innerHTML = <span class="fc7">&quot;TODO: “</span><span class="ws4">+todos[key].message;</span></span></div><div class="t m0 x15 hd y37 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">    <span class="_ _7"> </span>todolist.<span class="fc8 ws4">appendChild</span>(li);</span></div><div class="t m0 x15 hd y38 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="_ _b"> </span><span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y2 ff4 fs3 fc5 sc0 ls3 ws1"> 12  <span class="fc2">};</span></div><div class="t m0 x15 hd y39 ff4 fs3 fc5 sc0 ls3 ws1"> 13 </div><div class="t m0 x15 hd y3a ff4 fs3 fc5 sc0 ls3 ws1"> 14  <span class="fc2 ws4">$.<span class="fc8">getJSON</span><span class="ls4">(</span><span class="fc7">&quot;todos&quot;</span><span class="ws1">, addTodosToList);</span></span></div><div class="t m0 x15 hd y3b ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y3c ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2 ws4">$(document).<span class="fc8">ready</span>(main);</span></div><div class="c x16 y3d w4 h10"><div class="t m0 x17 hc y3e ff2 fs3 fc1 sc0 ls0 ws1">when the document is </div><div class="t m0 x18 hc y3f ff2 fs3 fc1 sc0 ls0 ws1">loaded, execute main()</div></div><div class="c x19 y40 w5 h12"><div class="t m2 xe hf y41 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div><div class="c x1a y42 w6 h13"><div class="t m0 x1b h11 y43 ff1 fs3 fc2 sc0 ls6 ws5">Callback<span class="ff2 ls0 ws1">: define what happens </span></div><div class="t m0 x1c hc y44 ff2 fs3 fc2 sc0 ls0 ws1">when a todo object is available</div></div><div class="c x1d y45 w7 h14"><div class="t m0 x1e h15 y46 ff1 fs7 fc1 sc0 ls0 ws1">this is <span class="_ _c"></span>Ajax</div></div></div></div>

    <div id="pf10" class="pf w0 h0 step slide flash" data-page-no="10" data-x="0" data-y="0"><div class="pc pc7 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">On the client:<span class="_ _4"></span> Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">5</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x15 hd y2e ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var main = <span class="fc8 ws4">function</span> () {</span></div><div class="t m0 x15 hd y2f ff4 fs3 fc5 sc0 ls3 ws1">  2  <span class="fc7">&quot;use strict&quot;<span class="fc2 ls0">;</span></span></div><div class="t m0 x15 hd y30 ff4 fs3 fc5 sc0 ls3 ws1">  3 </div><div class="t m0 x15 hd y31 ff4 fs3 fc5 sc0 ls3 ws1">     <span class="fc2">              List = <span class="fc8 ws4">function</span> (todos) {</span></div><div class="t m0 x15 hd y32 ff4 fs3 fc5 sc0 ls3 ws1">    <span class="_ _b"> </span><span class="fc2">           t = document.<span class="fc8 ws4">getElementById</span><span class="ls4">(</span><span class="fc7 ws4">&quot;todo-</span>list&quot;);</span></div><div class="t m0 x15 hd y33 ff4 fs3 fc5 sc0 ls3 ws1">    <span class="fc7">                </span></div><div class="t m0 x15 hd y34 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="_ _b"> </span><span class="ff5 fc2 ws4">for</span><span class="fc2"> (va  key <span class="ff5 ws4">in</span> todos) {</span></div><div class="t m0 x15 hd y35 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    <span class="_ _7"> </span>var li = document.<span class="fc8 ws4">createElement</span><span class="ls4">(</span><span class="fc7 ws4">&quot;li&quot;</span>);</span></div><div class="t m0 x15 hd y36 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">    <span class="_ _7"> </span>li.innerHTML = <span class="fc7">&quot;TODO: “</span><span class="ws4">+todos[key].message;</span></span></div><div class="t m0 x15 hd y37 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2">    <span class="_ _7"> </span>todolist.<span class="fc8 ws4">appendChild</span>(li);</span></div><div class="t m0 x15 hd y38 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="_ _b"> </span><span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y2 ff4 fs3 fc5 sc0 ls3 ws1"> 12  <span class="fc2">};</span></div><div class="t m0 x15 hd y39 ff4 fs3 fc5 sc0 ls3 ws1"> 13 </div><div class="t m0 x15 hd y3a ff4 fs3 fc5 sc0 ls3 ws1"> 14  <span class="fc2 ws4">$.<span class="fc8">getJSON</span><span class="ls4">(</span><span class="fc7">&quot;todos&quot;</span><span class="ws1">, addTodosToList);</span></span></div><div class="t m0 x15 hd y3b ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ls0">}</span></div><div class="t m0 x15 hd y3c ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2 ws4">$(document).<span class="fc8">ready</span>(main);</span></div><div class="c x16 y3d w4 h10"><div class="t m0 x17 hc y3e ff2 fs3 fc1 sc0 ls0 ws1">when the document is </div><div class="t m0 x18 hc y3f ff2 fs3 fc1 sc0 ls0 ws1">loaded, execute main()</div></div><div class="c x19 y40 w5 h12"><div class="t m2 xe hf y41 ff2 fs6 fc1 sc0 ls0 ws1">jQuer<span class="_ _9"></span>y way</div></div><div class="c x1a y42 w6 h13"><div class="t m0 x1b h11 y43 ff1 fs3 fc2 sc0 ls6 ws5">Callback<span class="ff2 ls0 ws1">: define what happens </span></div><div class="t m0 x1c hc y44 ff2 fs3 fc2 sc0 ls0 ws1">when a todo object is available</div></div><div class="c x1d y45 w7 h14"><div class="t m0 x1e h15 y46 ff1 fs7 fc1 sc0 ls0 ws1">this is <span class="_ _c"></span>Ajax</div></div><div class="c x1f y47 w4 h10"><div class="t m0 x11 h11 y48 ff1 fs3 fc1 sc0 ls0 ws1">Dynamic insert of list </div><div class="t m0 x20 h11 y49 ff1 fs3 fc1 sc0 ls0 ws1">elements into the DOM</div></div></div></div>


    <div id="pf11" class="pf w0 h0 step slide flash" data-page-no="11" data-x="0" data-y="0"><div class="pc pcb w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bgb.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> ho<span class="_ _0"></span>w does it w<span class="_ _5"></span>ork?</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">6</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div></div></div>

    <div id="pf12" class="pf w0 h0 step slide flash" data-page-no="12" data-x="0" data-y="0"><div class="pc pcb w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bgc.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> ho<span class="_ _0"></span>w does it w<span class="_ _5"></span>ork?</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">6</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x21 h16 y4a ff2 fs8 fc2 sc0 ls0 ws6">1. <span class="ws1 v2">W<span class="_ _0"></span>eb br<span class="_ _0"></span>owser cr<span class="_ _c"></span>eates a <span class="ff5 fc9 ls7 ws7">XMLHttpRequest</span> object</span></div></div></div>

    <div id="pf13" class="pf w0 h0 step slide flash" data-page-no="13" data-x="0" data-y="0"><div class="pc pcb w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bgd.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> ho<span class="_ _0"></span>w does it w<span class="_ _5"></span>ork?</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">6</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x21 h16 y4a ff2 fs8 fc2 sc0 ls0 ws6">1. <span class="ws1 v2">W<span class="_ _0"></span>eb br<span class="_ _0"></span>owser cr<span class="_ _c"></span>eates a <span class="ff5 fc9 ls7 ws7">XMLHttpRequest</span> object</span></div><div class="t m0 x21 h17 y4b ff2 fs8 fc2 sc0 ls0 ws6">2. <span class="ff4 ls7 ws7 v0">XMLHttpRequest</span><span class="ws1 v0"> <span class="ff1 fc9">requests data</span> fr<span class="_ _0"></span>om a W<span class="_ _0"></span>eb </span></div>
<div class="t m0 x22 h18 y4c ff2 fs8 fc2 sc0 ls0">server</div></div></div>

    <div id="pf14" class="pf w0 h0 step slide flash" data-page-no="14" data-x="0" data-y="0"><div class="pc pcb w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bge.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> ho<span class="_ _0"></span>w does it w<span class="_ _5"></span>ork?</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">6</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x21 h16 y4a ff2 fs8 fc2 sc0 ls0 ws6">1. <span class="ws1 v2">W<span class="_ _0"></span>eb br<span class="_ _0"></span>owser cr<span class="_ _c"></span>eates a <span class="ff5 fc9 ls7 ws7">XMLHttpRequest</span> object</span></div><div class="t m0 x21 h17 y4b ff2 fs8 fc2 sc0 ls0 ws6">2. <span class="ff4 ls7 ws7 v0">XMLHttpRequest</span><span class="ws1 v0"> <span class="ff1 fc9">requests data</span> fr<span class="_ _0"></span>om a W<span class="_ _0"></span>eb </span></div>
<div class="t m0 x22 h18 y4c ff2 fs8 fc2 sc0 ls0">server</div><div class="t m0 x21 h19 y4d ff2 fs8 fc2 sc0 ls0 ws6">3. <span class="ff1 fc9 ws1 v2">Data is sent back</span><span class="ws1 v2"> fr<span class="_ _0"></span>om the server</span></div></div></div>

     <div id="pf15" class="pf w0 h0 step slide flash" data-page-no="15" data-x="0" data-y="0"><div class="pc pcb w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bgf.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> ho<span class="_ _0"></span>w does it w<span class="_ _5"></span>ork?</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">6</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div><div class="t m0 x21 h16 y4a ff2 fs8 fc2 sc0 ls0 ws6">1. <span class="ws1 v2">W<span class="_ _0"></span>eb br<span class="_ _0"></span>owser cr<span class="_ _c"></span>eates a <span class="ff5 fc9 ls7 ws7">XMLHttpRequest</span> object</span></div><div class="t m0 x21 h17 y4b ff2 fs8 fc2 sc0 ls0 ws6">2. <span class="ff4 ls7 ws7 v0">XMLHttpRequest</span><span class="ws1 v0"> <span class="ff1 fc9">requests data</span> fr<span class="_ _0"></span>om a W<span class="_ _0"></span>eb </span></div>
<div class="t m0 x22 h18 y4c ff2 fs8 fc2 sc0 ls0">server</div><div class="t m0 x21 h19 y4d ff2 fs8 fc2 sc0 ls0 ws6">3. <span class="ff1 fc9 ws1 v2">Data is sent back</span><span class="ws1 v2"> fr<span class="_ _0"></span>om the server</span></div><div class="t m0 x21 h1a y4e ff2 fs8 fc2 sc0 ls0 ws6">4. <span class="ws1 v2">On the client, <span class="ff1 fc9">JavaScript code injects the data</span> </span></div>
<div class="t m0 x22 h18 y4f ff2 fs8 fc2 sc0 ls0 ws1">into the page</div></div></div>


    <div id="pf16" class="pf w0 h0 step slide flash" data-page-no="16" data-x="0" data-y="0"><div class="pc pc10 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg10.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> ho<span class="_ _0"></span>w does it w<span class="_ _5"></span>ork?</div><div class="t m0 x8 ha yd ff2 fs4 fc2 sc0 ls0">7</div><div class="t m0 xb hc y11 ff2 fs3 fc1 sc0 ls0">(</div></div></div>


    <div id="pf17" class="pf w0 h0 step slide flash" data-page-no="17" data-x="0" data-y="0"><div class="pc pc11 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg11.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Without <span class="_ _4"></span>Ajax …</div><div class="t m0 x25 h1c y57 ff2 fs9 fc2 sc0 ls0 ws1">Image sour<span class="_ _0"></span>ce: Web Pr<span class="_ _0"></span>ogramming Step by Step</div><a class="l" href="http://www.webstepbook.com/supplements-2ed/slides/chapter12-ajax-xml-json.shtml#slide2"><div class="d m1" style="border-style:none;position:absolute;left:434.968800px;bottom:5.500000px;width:288.187400px;height:24.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div></div>



    <div id="pf18" class="pf w0 h0 step slide flash" data-page-no="18" data-x="0" data-y="0"><div class="pc pc12 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg12.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax w<span class="_ _2"></span>orks diff<span class="_ _0"></span>er<span class="_ _2"></span>entl<span class="_ _0"></span>y</div><div class="t m0 x25 h1c y57 ff2 fs9 fc2 sc0 ls0 ws1">Image sour<span class="_ _0"></span>ce: Web Pr<span class="_ _0"></span>ogramming Step by Step</div><a class="l" href="http://www.webstepbook.com/supplements-2ed/slides/chapter12-ajax-xml-json.shtml#slide2"><div class="d m1" style="border-style:none;position:absolute;left:434.968800px;bottom:5.500000px;width:288.187400px;height:24.000000px;background-color:rgba(255,255,255,0.000001);"></div></a></div></div>



    <!--asq-1 <div id="pf19" class="pf w0 h0 step slide flash" data-page-no="13" data-x="0" data-y="0"><div class="pc pc13 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg13.png"></div></div>-->

    <div id="pf20" class="pf w0 h0 step slide flash" data-page-no="20" data-x="0" data-y="0"><div class="pc pc13 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg14.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> synchr<span class="_ _5"></span>onous r<span class="_ _2"></span>equest</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">11</div>
<div class="t m0 x27 hd y5f ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff6 fca">//IE6 and prior IE versions use Microsoft.</span></div>
<div class="t m0 x27 hd y60 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="ff6 fca">XMLHTTP instead</span></div>
<div class="t m0 x27 hd y61 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var ajax = <span class="ff5 ws4">new</span><span class="ls4"> </span><span class="fc8 ws4">XMLHttpRequest</span>();</span></div>
<div class="t m0 x27 hd y62 ff4 fs3 fc5 sc0 ls3 ws1">  4 </div>
<div class="t m0 x27 hd y63 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="ff6 fca">//retrieve data from URL (file) of interest</span></div>
<div class="t m0 x27 hd y64 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="ff6 fca">//false parameter: synchronous request</span></div>
<div class="t m0 x27 hd y65 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2 ws4">ajax.<span class="fc8">open</span><span class="ls4">(</span><span class="fc7">&apos;GET&apos;</span><span class="ws1">, </span><span class="fc7">&apos;example.txt&apos;</span><span class="ws1">, false);</span></span></div>
<div class="t m0 x27 hd y66 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">ajax.<span class="fc8">send</span>(null);</span></div>
<div class="t m0 x27 hd y67 ff4 fs3 fc5 sc0 ls3 ws1">  9 </div>
<div class="t m0 x27 hd y68 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff6 fca">//response data in ajax.responseText</span></div>
<div class="t m0 x27 hd y5d ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2 ws4">document.<span class="fc8">getElementById</span><span class="ls4">(</span><span class="fc7">&apos;ttExampleText&apos;</span><span class="ws1">).value </span></span></div>
<div class="t m0 x27 hd y69 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">                        = ajax.responseText;</span></div>
<div class="c x28 y6a w3 h10"><div class="t m0 x29 h11 y6b ff1 fs3 fc1 sc0 ls0 ws1">line of code is executed </div><div class="t m0 x18 h11 y6c ff1 fs3 fc1 sc0 ls0 ws1">after line 7/8 are executed.</div></div>
<div class="c x2a y6d w8 h1d"><div class="t m2 x2b hf y6e ff2 fs6 fc1 sc0 ls0 ws1">plain JS</div></div></div></div>



    <div id="pf21" class="pf w0 h0 step slide flash" data-page-no="21" data-x="0" data-y="0"><div class="pc pc15 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg15.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> an <span class="fcb ws8">asynchr<span class="_ _5"></span>onous<span class="fc2 ws1"> r<span class="_ _2"></span>equest</span></span></div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">12</div><div class="t m0 x2c hd y12 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ajax = <span class="ff5 ws4">new</span><span class="ls4"> </span><span class="fc8 ws4">XMLHttpRequest</span>();</span></div><div class="t m0 x2c hd y13 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x2c hd y14 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff6 fca">//function to be called when the data has </span></div><div class="t m0 x2c hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff6 fca">arrived</span></div><div class="t m0 x2c hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">ajax.onreadystatechange = <span class="fc8 ws4">function</span>() {</span></div><div class="t m0 x2c hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  6 </div><div class="t m0 x2c hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">   <span class="ff6 fca">//the only state we care about</span></span></div><div class="t m0 x2c hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">   <span class="ff5 ws4">if<span class="ff4">(ajax.readyState==<span class="fcc ls4">4</span></span></span>) {</span></div><div class="t m0 x2c hd y1a ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">      <span class="ff6 fca">/*</span></span></div><div class="t m0 x2c hd y1b ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff6 fca">       * process received data</span></div><div class="t m0 x2c hd y1c ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="ff6 fca">       */</span></div><div class="t m0 x2c hd y1d ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">   }</span></div><div class="t m0 x2c hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">}; <span class="ff6 fca">//end of function </span></span></div><div class="t m0 x2c hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x2c hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">ajax.<span class="fc8">open</span><span class="ls4">(</span><span class="fc7">&quot;GET&quot;</span><span class="ws1">, </span><span class="fc7">&quot;url&quot;</span><span class="ws1">, true); <span class="ff6 fca">//true indicates </span></span></span></div><div class="t m0 x2c hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="ff6 fca">                               //asynchronous request</span></div><div class="t m0 x2c hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 17 </div><div class="t m0 x2c hd y23 ff4 fs3 fc5 sc0 ls3 ws1"> 18 <span class="fc2 ws4">ajax.<span class="fc8">send</span>(null);</span></div><div class="c x2a y6d w8 h1d"><div class="t m2 x2b hf y6e ff2 fs6 fc1 sc0 ls0 ws1">plain JS</div></div></div></div>

    <div id="pf22" class="pf w0 h0 step slide flash" data-page-no="22" data-x="0" data-y="0"><div class="pc pc15 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg16.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax:<span class="_ _4"></span> an <span class="fcb ws8">asynchr<span class="_ _5"></span>onous<span class="fc2 ws1"> r<span class="_ _2"></span>equest</span></span></div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">12</div><div class="t m0 x2c hd y12 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ajax = <span class="ff5 ws4">new</span><span class="ls4"> </span><span class="fc8 ws4">XMLHttpRequest</span>();</span></div><div class="t m0 x2c hd y13 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x2c hd y14 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff6 fca">                                 data has</span></div><div class="t m0 x2c hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff6 fca">       </span></div><div class="t m0 x2c hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">ajax.onreadystatechange = <span class="fc8 ws4">function</span>() {</span></div><div class="t m0 x2c hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  6 </div><div class="t m0 x2c hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">   <span class="ff6 fca">//the only state we care about</span></span></div><div class="t m0 x2c hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">   <span class="ff5 ws4">if<span class="ff4">(ajax.readyState==<span class="fcc ls4">4</span></span></span>) {</span></div><div class="t m0 x2c hd y1a ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">      <span class="ff6 fca">/*</span></span></div><div class="t m0 x2c hd y1b ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff6 fca">       * process received data</span></div><div class="t m0 x2c hd y1c ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="ff6 fca">       */</span></div><div class="t m0 x2c hd y1d ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">   }</span></div><div class="t m0 x2c hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">}; <span class="ff6 fca">//end of function </span></span></div><div class="t m0 x2c hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x2c hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">ajax.<span class="fc8">open</span><span class="ls4">(</span><span class="fc7">&quot;GET&quot;</span><span class="ws1">, </span><span class="fc7">&quot;url&quot;</span><span class="ws1">, true); <span class="ff6 fca">//true indicates </span></span></span></div><div class="t m0 x2c hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="ff6 fca">                               //asynchronous request</span></div><div class="t m0 x2c hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 17 </div><div class="t m0 x2c hd y23 ff4 fs3 fc5 sc0 ls3 ws1"> 18 <span class="fc2 ws4">ajax.<span class="fc8">send</span>(null);</span></div><div class="c x2a y6d w8 h1d"><div class="t m2 x2b hf y6e ff2 fs6 fc1 sc0 ls0 ws1">plain JS</div></div><div class="c x2d y6f w9 h10"><div class="t m0 x2e hc y70 ff2 fs3 fc1 sc0 ls0 ws1">event <span class="ff4 ls3 ws4">onreadystatechange</span> is fir<span class="_ _0"></span>ed </div><div class="t m0 x2f hc y71 ff2 fs3 fc1 sc0 ls0 ws1">when the status of the r<span class="_ _0"></span>equest changes.</div></div></div></div>


    <div id="asq-1" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="22a" data-timer="30">
      <h4 class="small" style="background: rgba(255, 255, 255, 0.7); height: 50px; padding: 20px 20px;">What does the “same-origin” policy refer to?</h4>
            
      <asq-exercise style="height: 300px; padding: 20px 20px; background: rgba(255, 255, 255, 0.7);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 style="display: none;">What does the “same-origin” policy refer to?</h4></asq-stem>
            <asq-option class="smaller" name="A.">A Web server permits scripts contained in page A to access data contained in page B only if they originate from the same client</asq-option>
            <asq-option class="smaller" name="B." correct>A Web browser permits scripts contained in page A to access data contained in page B only if they originate from the same serverside component</asq-option>
            <asq-option class="smaller" name="C.">A Web browser permits a Web server running on a URI scheme/hostname/port to only access data from a server running on the same host (on a different port)</asq-option>
            <asq-option class="smaller" name="D.">A Web server permits browsers A and B to exchange data only if they originate from the same client</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      <div class="flickr-credit">flickr@johnnylcy</div>
    </div>


    <div id="pf23" class="pf w0 h0 step slide flash" data-page-no="23" data-x="0" data-y="0"><div class="pc pc17 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg17.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax security</div><div class="t m0 x21 h1b y72 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Conveniently we always r<span class="_ _0"></span>equested data fr<span class="_ _0"></span>om &quot;our&quot; W<span class="_ _0"></span>eb </span></div><div class="t m0 x24 h2 y73 ff2 fs0 fc2 sc0 ls0 ws1">server </div><div class="t m0 x21 h5 y74 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">Security restriction of <span class="_ _2"></span>Ajax<span class="ff2 fc2">: can only fetch files fr<span class="_ _0"></span>om the </span></span></div><div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">same W<span class="_ _0"></span>eb server as the calling page (<span class="ff7">Same-origin policy</span>) </div><div class="t m0 x23 h1e y76 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Same origin when pr<span class="_ _0"></span>otocol, por<span class="_ _9"></span>t, and host ar<span class="_ _0"></span>e the same </span></div><div class="t m0 x2c h2 y77 ff2 fs0 fc2 sc0 ls0 ws1">for two pages </div><div class="t m0 x21 h6 y78 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Ajax <span class="ff1 fc9 ls8 ws9">cannot</span> be executed fr<span class="_ _0"></span>om a W<span class="_ _0"></span>eb page stor<span class="_ _0"></span>ed locally </span></div><div class="t m0 x24 h2 y79 ff2 fs0 fc2 sc0 ls0 ws1">on disk</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">13</div></div></div>

    <div id="pf24" class="pf w0 h0 step slide flash" data-page-no="24" data-x="0" data-y="0"><div class="pc pc17 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg18.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Ajax security</div><div class="t m0 x21 h1b y72 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Conveniently we always r<span class="_ _0"></span>equested data fr<span class="_ _0"></span>om &quot;our&quot; W<span class="_ _0"></span>eb </span></div><div class="t m0 x24 h2 y73 ff2 fs0 fc2 sc0 ls0 ws1">server </div><div class="t m0 x21 h5 y74 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">Security restriction of <span class="_ _2"></span>Ajax<span class="ff2 fc2">: can only fetch files fr<span class="_ _0"></span>om the </span></span></div><div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">same W<span class="_ _0"></span>eb server as the calling page (<span class="ff7">Same-origin policy</span>) </div><div class="t m0 x23 h1e y76 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Same origin when pr<span class="_ _0"></span>otocol, por<span class="_ _9"></span>t, and host ar<span class="_ _0"></span>e the same </span></div><div class="t m0 x2c h2 y77 ff2 fs0 fc2 sc0 ls0 ws1">for two pages </div><div class="t m0 x21 h6 y78 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Ajax <span class="ff1 fc9 ls8 ws9">cannot</span> be executed fr<span class="_ _0"></span>om a W<span class="_ _0"></span>eb page stor<span class="_ _0"></span>ed locally </span></div><div class="t m0 x24 h2 y79 ff2 fs0 fc2 sc0 ls0 ws1">on disk</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">13</div><div class="c x30 y7a wa h1f"><div class="t m0 x31 h11 y7b ff1 fs3 fc1 sc0 ls0 ws1">The course book explains how to get </div><div class="t m0 x32 h11 y7c ff1 fs3 fc1 sc0 ls0 ws1">around this restriction. Don’t forget to </div><div class="t m0 x10 h11 y7d ff1 fs3 fc1 sc0 ls0 ws1">switch this safety restriction back on!!!</div></div></div></div>

   
    <div id="pf25" class="pf w0 h0 step slide flash" data-page-no="25" data-x="0" data-y="0"><div class="pc pc19 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg19.png"><div class="t m0 x33 h20 y60 ff3 fsa fc2 sc0 ls0 ws1">Organization and </div><div class="t m0 x34 h20 y7e ff3 fsa fc2 sc0 ls0 ws1">r<span class="_ _5"></span>eusability of node<span class="_ _d"></span>.js code</div></div></div>



    <div id="pf26" class="pf w0 h0 step slide flash" data-page-no="26" data-x="0" data-y="0"><div class="pc pc1a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1a.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">So far…</div><div class="t m0 x35 h21 y7f ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">All server<span class="_ _5"></span>-side code maintained <span class="ff1 fc9">within a single file</span></span></div><div class="t m0 x35 h22 y80 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Possible for small pr<span class="_ _0"></span>ojects </span></div><div class="t m0 x35 h22 y81 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Larger pr<span class="_ _0"></span>ojects suf<span class="_ _0"></span>fer in this setting </span></div><div class="t m0 x36 h23 y82 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws9 v3">Debugging</span><span class="fs0 ls0 ws1 v3"> is cumbersome </span></div><div class="t m0 x36 h24 y83 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v3">T<span class="_ _a"></span>eam-work <span class="ff2 fc2">is cumbersome </span></span></div><div class="t m0 x36 h25 y84 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v3">Programming</span><span class="fs0 ls0 ws1 v3"> is cumbersome</span></div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">15</div></div></div>



    <div id="pf27" class="pf w0 h0 step slide flash" data-page-no="27" data-x="0" data-y="0"><div class="pc pc1b w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1b.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">node<span class="_ _3"></span>.js modules</div><div class="t m0 x31 h5 y86 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">Code can be organised in <span class="ff1 fc9 ls8 ws9">modules</span> </span></div><div class="t m0 x31 h1e y87 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">Not all functions and variables in a module ar<span class="_ _0"></span>e exposed to </span></div><div class="t m0 x24 h2 y88 ff2 fs0 fc2 sc0 ls0 ws1">the application </div><div class="t m0 x23 h1e y89 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">Exposed elements have to be made known explicitly </span></div><div class="t m0 x31 h6 y8a ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">Modules can be <span class="ff1 fc9 ls2 ws2">published</span> to the <span class="ff1 fc9 ls2 ws2">npm</span> </span></div><div class="t m0 x23 h26 y8b ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">Distribution of modules to other developers is made </span></div><div class="t m0 x2c h2 y8c ff2 fs0 fc2 sc0 ls0">easy</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">16</div></div></div>


    <div id="pf28" class="pf w0 h0 step slide flash" data-page-no="28" data-x="0" data-y="0"><div class="pc pc1c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1c.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">node<span class="_ _3"></span>.js modules</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">17</div></div></div>


    <div id="pf29" class="pf w0 h0 step slide flash" data-page-no="29" data-x="0" data-y="0"><div class="pc pc1d w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1d.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">18</div><div class="t m0 x37 h27 y8d ff4 fsb fc1 sc0 lsa ws1">npm list</div></div></div>

    <div id="pf30" class="pf w0 h0 step slide flash" data-page-no="30" data-x="0" data-y="0"><div class="pc pc1d w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1e.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">18</div><div class="t m0 x37 h27 y8d ff4 fsb fc1 sc0 lsa ws1">npm list</div></div></div>

    <div id="pf31" class="pf w0 h0 step slide flash" data-page-no="31" data-x="0" data-y="0"><div class="pc pc1d w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg1f.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">18</div><div class="t m0 x37 h27 y8d ff4 fsb fc1 sc0 lsa ws1">npm list</div></div></div>

    
    <div id="asq-mark" class="flash step break flex-cc" data-x="0" data-y="0" data-scale="0.4" data-rotate="0" data-timer="300">
<asq-exercise>
  <asq-highlight-q theme="" mode="javascript" font-size="0.55em">
    <asq-solution>{
  "5cb85c": [
    {
      "start": {
        "row": 0,
        "column": 0
      },
      "end": {
        "row": 0,
        "column": 27
      },
      "id": 67
    },
    {
      "start": {
        "row": 2,
        "column": 0
      },
      "end": {
        "row": 2,
        "column": 17
      },
      "id": 145
    },
    {
      "start": {
        "row": 3,
        "column": 2
      },
      "end": {
        "row": 3,
        "column": 12
      },
      "id": 222
    },
    {
      "start": {
        "row": 4,
        "column": 4
      },
      "end": {
        "row": 5,
        "column": 27
      },
      "id": 273
    },
    {
      "start": {
        "row": 9,
        "column": 0
      },
      "end": {
        "row": 9,
        "column": 56
      },
      "id": 89
    }
  ],
  "ffd700": [
    {
      "start": {
        "row": 2,
        "column": 18
      },
      "end": {
        "row": 2,
        "column": 39
      },
      "id": 177
    },
    {
      "start": {
        "row": 3,
        "column": 13
      },
      "end": {
        "row": 3,
        "column": 26
      },
      "id": 244
    }
  ]
}</asq-solution>
    <asq-stem>Highlight</asq-stem>
    <asq-hl-color-task color="ffd700" colorName="ffd700">Asynchronous</asq-hl-color-task>
    <asq-hl-color-task color="5cb85c" colorName="5cb85c">Synchronous</asq-hl-color-task>
    <code>var http = require('http');

http.createServer(function (req, res) {
  setTimeout(function () {
    res.writeHead(200, {'Content-Type': 'text/plain'});
    res.end('Hello World');
  }, 2000);
}).listen(8000);

console.log('Server running at http://127.0.0.1:8000/');</code>
  </asq-highlight-q>
</asq-exercise>
</div>

    <div id="pf33" class="pf w0 h0 step slide flash" data-page-no="33" data-x="0" data-y="0"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg21.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A file-based module system</div></div></div>

    <div id="pf34" class="pf w0 h0 step slide flash" data-page-no="34" data-x="0" data-y="0"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg22.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A file-based module system</div><div class="t m0 x31 h5 y8e ff2 fs3 fc9 sc0 ls9">•<span class="ff1 fs0 lsb v1">A<span class="ff2 ls0 ws1"> <span class="ff1">file is its own module</span><span class="fc2">; no pollution of the global </span></span></span></div>
<div class="t m0 x24 h2 y8f ff2 fs0 fc2 sc0 ls0">namespace</div></div></div>

    <div id="pf35" class="pf w0 h0 step slide flash" data-page-no="35" data-x="0" data-y="0"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg23.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A file-based module system</div><div class="t m0 x31 h5 y8e ff2 fs3 fc9 sc0 ls9">•<span class="ff1 fs0 lsb v1">A<span class="ff2 ls0 ws1"> <span class="ff1">file is its own module</span><span class="fc2">; no pollution of the global </span></span></span></div>
<div class="t m0 x24 h2 y8f ff2 fs0 fc2 sc0 ls0">namespace</div><div class="c x38 y90 wb h28"><div class="t m0 x1b hc y91 ff2 fs3 fc1 sc0 ls0 ws1">Do you r<span class="_ _0"></span>emember how much ef<span class="_ _e"></span>for<span class="_ _9"></span>t we put </div><div class="t m0 x39 hc y92 ff2 fs3 fc1 sc0 ls0 ws1">into the module design patter<span class="_ _9"></span>n?</div></div></div></div>

    <div id="pf36" class="pf w0 h0 step slide flash" data-page-no="36" data-x="0" data-y="0"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg24.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A file-based module system</div><div class="t m0 x31 h5 y8e ff2 fs3 fc9 sc0 ls9">•<span class="ff1 fs0 lsb v1">A<span class="ff2 ls0 ws1"> <span class="ff1">file is its own module</span><span class="fc2">; no pollution of the global </span></span></span></div>
<div class="t m0 x24 h2 y8f ff2 fs0 fc2 sc0 ls0">namespace</div><div class="c x38 y90 wb h28"><div class="t m0 x1b hc y91 ff2 fs3 fc1 sc0 ls0 ws1">Do you r<span class="_ _0"></span>emember how much ef<span class="_ _e"></span>for<span class="_ _9"></span>t we put </div><div class="t m0 x39 hc y92 ff2 fs3 fc1 sc0 ls0 ws1">into the module design patter<span class="_ _9"></span>n?</div></div><div class="t m0 x31 h1e y93 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">A file accesses its module definition thr<span class="_ _0"></span>ough the <span class="ff8">!</span></span></div>
<div class="t m0 x24 h2 y94 ff4 fs0 fc2 sc0 lsc wsa">module<span class="ff2 ls0 ws1"> variable</span></div></div></div>

    <div id="pf37" class="pf w0 h0 step slide flash" data-page-no="37" data-x="0" data-y="0"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg25.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A file-based module system</div><div class="t m0 x31 h5 y8e ff2 fs3 fc9 sc0 ls9">•<span class="ff1 fs0 lsb v1">A<span class="ff2 ls0 ws1"> <span class="ff1">file is its own module</span><span class="fc2">; no pollution of the global </span></span></span></div>
<div class="t m0 x24 h2 y8f ff2 fs0 fc2 sc0 ls0">namespace</div><div class="c x38 y90 wb h28"><div class="t m0 x1b hc y91 ff2 fs3 fc1 sc0 ls0 ws1">Do you r<span class="_ _0"></span>emember how much ef<span class="_ _e"></span>for<span class="_ _9"></span>t we put </div><div class="t m0 x39 hc y92 ff2 fs3 fc1 sc0 ls0 ws1">into the module design patter<span class="_ _9"></span>n?</div></div><div class="t m0 x31 h1e y93 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">A file accesses its module definition thr<span class="_ _0"></span>ough the <span class="ff8">!</span></span></div>
<div class="t m0 x24 h2 y94 ff4 fs0 fc2 sc0 lsc wsa">module<span class="ff2 ls0 ws1"> variable</span></div><div class="t m0 x31 h29 y95 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v3">The expor<span class="_ _9"></span>t of the curr<span class="_ _0"></span>ent module is deter<span class="_ _9"></span>mined by the </span></div>
<div class="t m0 x24 h1 y96 ff5 fs0 fc9 sc0 lsc wsa">module.exports<span class="ff2 fc2 ls0 ws1"> variable (or its alias <span class="ff1 fc9 ws0">exports</span>)</span></div></div></div>

    <div id="pf38" class="pf w0 h0 step slide flash" data-page-no="38" data-x="0" data-y="0"><div class="pc pc20 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg26.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A file-based module system</div><div class="t m0 x31 h5 y8e ff2 fs3 fc9 sc0 ls9">•<span class="ff1 fs0 lsb v1">A<span class="ff2 ls0 ws1"> <span class="ff1">file is its own module</span><span class="fc2">; no pollution of the global </span></span></span></div>
<div class="t m0 x24 h2 y8f ff2 fs0 fc2 sc0 ls0">namespace</div><div class="c x38 y90 wb h28"><div class="t m0 x1b hc y91 ff2 fs3 fc1 sc0 ls0 ws1">Do you r<span class="_ _0"></span>emember how much ef<span class="_ _e"></span>for<span class="_ _9"></span>t we put </div><div class="t m0 x39 hc y92 ff2 fs3 fc1 sc0 ls0 ws1">into the module design patter<span class="_ _9"></span>n?</div></div><div class="t m0 x31 h1e y93 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">A file accesses its module definition thr<span class="_ _0"></span>ough the <span class="ff8">!</span></span></div>
<div class="t m0 x24 h2 y94 ff4 fs0 fc2 sc0 lsc wsa">module<span class="ff2 ls0 ws1"> variable</span></div><div class="t m0 x31 h29 y95 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v3">The expor<span class="_ _9"></span>t of the curr<span class="_ _0"></span>ent module is deter<span class="_ _9"></span>mined by the </span></div>
<div class="t m0 x24 h1 y96 ff5 fs0 fc9 sc0 lsc wsa">module.exports<span class="ff2 fc2 ls0 ws1"> variable (or its alias <span class="ff1 fc9 ws0">exports</span>)</span></div><div class="t m0 x31 h2a y97 ff2 fs3 fc2 sc0 ls9">•<span class="fs0 ls0 ws1 v1">T<span class="_ _1"></span>o impor<span class="_ _9"></span>t a module, use the globally available <span class="ff8">!</span></span></div>
<div class="t m0 x24 h2 y79 ff5 fs0 fc9 sc0 lsc wsa">require<span class="ff2 fc2 ls0 ws1"> function</span></div></div></div>

    

    <div id="pf39" class="pf w0 h0 step slide flash" data-page-no="39" data-x="0" data-y="0"><div class="pc pc27 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg27.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">module<span class="_ _3"></span>.expor<span class="_ _3"></span>ts or expor<span class="_ _3"></span>ts</div><div class="c x13 y98 wc h2b"><div class="t m0 x2e h2c y99 ff1 fsc fc1 sc0 ls0 wsb">Application</div></div><div class="c x3a y98 wd h2b"><div class="t m0 x3b h2c y99 ff1 fsc fc1 sc0 ls0 wsb">Module</div></div><div class="c x3c y9a we h2d"><div class="t m0 x3d h2e y9b ff5 fsd fc1 sc0 lsd">module.exports</div><div class="t m0 x3e h2e y9c ff5 fsd fc1 sc0 lsd">exports</div></div><div class="t m0 x3f h2f y9d ff2 fsd fc2 sc0 ls0 ws1">module populates </div><div class="t m0 x3f h2f y9e ff4 fsd fc2 sc0 lsd wsc">module.exports<span class="ff2 ls0 ws1"> <span class="ff8">!</span></span></div><div class="t m0 x3f h2f y1d ff2 fsd fc2 sc0 ls0 ws1">or <span class="ff4 lsd">exports</span></div><div class="t m0 x40 h2f y75 ff2 fsd fc2 sc0 ls0 ws1">contents of </div><div class="t m0 x40 h2f y9f ff4 fsd fc2 sc0 lsd wsc">module.exports<span class="ff2 ls0 ws1"> <span class="ff8">!</span></span></div><div class="t m0 x40 h2f ya0 ff2 fsd fc2 sc0 ls0 ws1">or <span class="ff4 lsd wsc">exports</span> r<span class="_ _0"></span>etur<span class="_ _9"></span>ned </div><div class="t m0 x40 h2f ya1 ff2 fsd fc2 sc0 ls0 ws1">at <span class="ff4 lsd">require()</span></div><div class="t m0 x41 h2e ya2 ff4 fsd fc2 sc0 lsd">require(module)</div></div></div>



    <div id="pf40" class="pf w0 h0 step slide flash" data-page-no="40" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg28.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div></div></div>

    <div id="pf41" class="pf w0 h0 step slide flash" data-page-no="41" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg29.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div></div></div>

    <div id="pf42" class="pf w0 h0 step slide flash" data-page-no="42" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2a.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div></div></div>

    <div id="pf43" class="pf w0 h0 step slide flash" data-page-no="43" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2b.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div></div></div>

    <div id="pf44" class="pf w0 h0 step slide flash" data-page-no="44" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2c.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div></div></div>

    <div id="pf45" class="pf w0 h0 step slide flash" data-page-no="45" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2d.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div></div></div>

    <div id="pf46" class="pf w0 h0 step slide flash" data-page-no="46" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2e.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div></div></div>

    <div id="pf47" class="pf w0 h0 step slide flash" data-page-no="47" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg2f.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div><div class="c x48 yba w12 h34"><div class="t m0 x49 h35 ybb ff4 fs10 fc2 sc0 ls10 ws1">function () {</div><div class="t m0 x4a h35 ybc ff4 fs10 fc2 sc0 ls10 ws1">console.log(&quot;Hi from foo!&quot;);</div><div class="t m0 x49 h35 ybd ff4 fs10 fc2 sc0 ls0">}</div></div></div></div>

    <div id="pf48" class="pf w0 h0 step slide flash" data-page-no="48" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg30.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div><div class="c x48 yba w12 h34"><div class="t m0 x49 h35 ybb ff4 fs10 fc2 sc0 ls10 ws1">function () {</div><div class="t m0 x4a h35 ybc ff4 fs10 fc2 sc0 ls10 ws1">console.log(&quot;Hi from foo!&quot;);</div><div class="t m0 x49 h35 ybd ff4 fs10 fc2 sc0 ls0">}</div></div></div></div>

    <div id="pf49" class="pf w0 h0 step slide flash" data-page-no="49" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg31.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div><div class="c x48 yba w12 h34"><div class="t m0 x49 h35 ybb ff4 fs10 fc2 sc0 ls10 ws1">function () {</div><div class="t m0 x4a h35 ybc ff4 fs10 fc2 sc0 ls10 ws1">console.log(&quot;Hi from foo!&quot;);</div><div class="t m0 x49 h35 ybd ff4 fs10 fc2 sc0 ls0">}</div></div><div class="c x4b ybe w13 h32"><div class="t m0 x29 h33 ybf ff4 fsf fc2 sc0 lsf">ReferenceError</div></div></div></div>

    <div id="pf50" class="pf w0 h0 step slide flash" data-page-no="50" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg32.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div><div class="c x48 yba w12 h34"><div class="t m0 x49 h35 ybb ff4 fs10 fc2 sc0 ls10 ws1">function () {</div><div class="t m0 x4a h35 ybc ff4 fs10 fc2 sc0 ls10 ws1">console.log(&quot;Hi from foo!&quot;);</div><div class="t m0 x49 h35 ybd ff4 fs10 fc2 sc0 ls0">}</div></div><div class="c x4b ybe w13 h32"><div class="t m0 x29 h33 ybf ff4 fsf fc2 sc0 lsf">ReferenceError</div></div></div></div>

    <div id="pf51" class="pf w0 h0 step slide flash" data-page-no="51" data-x="0" data-y="0"><div class="pc pc28 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg33.png"><div class="t m0 x6 h4 y85 ff3 fs2 fc2 sc0 ls0 ws1">A first example</div><div class="t m0 x21 h30 ya3 ff4 fse fc9 sc0 lse">foo.js</div><div class="t m0 x42 hd ya4 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> fooA = <span class="fcc ls4">1</span><span class="ls0">;</span></span></div><div class="t m0 x42 hd ya5 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="fcd ws4">&quot;Hello!&quot;</span><span class="ls0">;</span></div><div class="t m0 x42 hd ya6 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>() {</div><div class="t m0 x43 hd ya7 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Hi from foo!&quot;</span>);</div><div class="t m0 x42 hd ya8 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x21 h30 ya9 ff4 fse fc9 sc0 lse">bar.js</div><div class="t m0 x44 hd yaa ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x44 hd yab ff4 fs3 fc8 sc0 ls3 ws4">foo<span class="fc2">();</span></div><div class="t m0 x44 hd yac ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./foo&apos;</span>)();</span></div><div class="t m0 x44 hd yad ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo);</div><div class="t m0 x44 hd yae ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(foo.<span class="fc8">toString</span>());</div><div class="t m0 x44 hd yaf ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(fooA);</div><div class="t m0 x44 hd yb0 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span>(module.exports);</div><div class="c x45 yb1 wf h31"><div class="t m0 x1b h11 yb2 ff2 fs3 fc1 sc0 ls0 ws1">node.js <span class="ff1 ls6 ws5">runs</span> the r<span class="_ _0"></span>efer<span class="_ _e"></span>enced </div><div class="t m0 x1b h11 yb3 ff2 fs3 fc1 sc0 ls0 ws1">JavaScript file in <span class="ff1 ls6">a new scope</span> </div><div class="t m0 x1b h11 yb4 ff2 fs3 fc1 sc0 ls0 ws1">and r<span class="_ _0"></span>etur<span class="_ _9"></span>ns the <span class="ff1 ls5">final value</span> of </div><div class="t m0 x1b hd yb5 ff5 fs3 fc1 sc0 ls3">module.exports</div></div><div class="c x46 yb6 w10 h32"><div class="t m0 x47 h33 yb7 ff4 fsf fc2 sc0 lsf ws1">Hi from foo!</div></div><div class="c x9 yb8 w11 h32"><div class="t m0 x18 h33 yb9 ff4 fsf fc2 sc0 lsf">[Function]</div></div><div class="c x48 yba w12 h34"><div class="t m0 x49 h35 ybb ff4 fs10 fc2 sc0 ls10 ws1">function () {</div><div class="t m0 x4a h35 ybc ff4 fs10 fc2 sc0 ls10 ws1">console.log(&quot;Hi from foo!&quot;);</div><div class="t m0 x49 h35 ybd ff4 fs10 fc2 sc0 ls0">}</div></div><div class="c x4b ybe w13 h32"><div class="t m0 x29 h33 ybf ff4 fsf fc2 sc0 lsf">ReferenceError</div></div><div class="c x4c y0 w14 h36"><div class="t m0 x47 h33 yc0 ff4 fsf fc2 sc0 lsf">{}</div></div></div></div>

    <!--<div class="substep" data-bg-src="img/bg29.png">
</div><div class="substep" data-bg-src="img/bg2a.png"></div><div class="substep" data-bg-src="img/bg2b.png">
</div><div class="substep" data-bg-src="img/bg2c.png"></div><div class="substep" data-bg-src="img/bg2d.png">
</div><div class="substep" data-bg-src="img/bg2e.png"></div><div class="substep" data-bg-src="img/bg2f.png">
</div><div class="substep" data-bg-src="img/bg30.png"></div><div class="substep" data-bg-src="img/bg31.png">
</div><div class="substep" data-bg-src="img/bg32.png"></div><div class="substep" data-bg-src="img/bg33.png">
</div></div>-->


    <div id="pf53" class="pf w0 h0 step slide flash" data-page-no="53" data-x="0" data-y="0"><div class="pc pc34 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg35.png"><div class="t m0 x6 h37 y85 ff4 fs2 fc2 sc0 ls14">require()</div>
<div class="t m0 x31 h38 yc1 ff2 fs11 fc2 sc0 ls11">•<span class="ff4 fs12 ls12 ws1 v3">require() <span class="ff2 ls0">is blocking</span></span></div>
<div class="t m0 x31 h39 yc2 ff2 fs11 fc2 sc0 ls11">•<span class="fs12 ls0 ws1 v1">module.expor<span class="_ _9"></span>ts is <span class="ff1 fc9 ls13 wsd">cached</span>, i.e. the first time </span></div>
<div class="t m0 x4d h3a yc3 ff4 fs12 fc2 sc0 ls12 ws1">require(a_file) <span class="ff2 ls0">is called, </span><span class="wse">a_file</span><span class="ff2 ls0"> is r<span class="_ _0"></span>ead fr<span class="_ _0"></span>om disk, </span></div>
<div class="t m0 x4d h3a yc4 ff2 fs12 fc2 sc0 ls0 ws1">and subsequently the in-memor<span class="_ _9"></span>y object is r<span class="_ _0"></span>etur<span class="_ _9"></span>ned </div>
</div></div>

    <div id="pf54" class="pf w0 h0 step slide flash" data-page-no="54" data-x="0" data-y="0"><div class="pc pc34 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg36.png"><div class="t m0 x6 h37 y85 ff4 fs2 fc2 sc0 ls14">require()</div>
<div class="t m0 x31 h38 yc1 ff2 fs11 fc2 sc0 ls11">•<span class="ff4 fs12 ls12 ws1 v3">require() <span class="ff2 ls0">is blocking</span></span></div>
<div class="t m0 x31 h39 yc2 ff2 fs11 fc2 sc0 ls11">•<span class="fs12 ls0 ws1 v1">module.expor<span class="_ _9"></span>ts is <span class="ff1 fc9 ls13 wsd">cached</span>, i.e. the first time </span></div>
<div class="t m0 x4d h3a yc3 ff4 fs12 fc2 sc0 ls12 ws1">require(a_file) <span class="ff2 ls0">is called, </span><span class="wse">a_file</span><span class="ff2 ls0"> is r<span class="_ _0"></span>ead fr<span class="_ _0"></span>om disk, </span></div>
<div class="t m0 x4d h3a yc4 ff2 fs12 fc2 sc0 ls0 ws1">and subsequently the in-memor<span class="_ _9"></span>y object is r<span class="_ _0"></span>etur<span class="_ _9"></span>ned </div>
<div class="c x4e yc6 w15 h3c"><div class="t m0 x49 hd yc7 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> t1 = </span>new<span class="ff4 ws1"> <span class="fc8 ws4">Date<span class="fc2">().</span>getTime</span>();</span></div><div class="t m0 x49 hd yc8 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo1 = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x49 hd yc9 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="ff5">new</span><span class="ls4 ws1"> </span><span class="fc8">Date</span>().<span class="fc8">getTime</span><span class="ws1">() - t1); <span class="ff6 fca">// &gt; 0</span></span></div><div class="t m0 x49 hd yca ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> t2 = </span>new<span class="ff4 ws1"> <span class="fc8 ws4">Date<span class="fc2">().</span>getTime</span>();</span></div><div class="t m0 x49 hd ycb ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> foo2 = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;./foo&apos;</span>);</span></div><div class="t m0 x49 hd ycc ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="ff5">new</span><span class="ls4 ws1"> </span><span class="fc8">Date</span>().<span class="fc8">getTime</span><span class="ws1">() - t2); <span class="ff6 fca">// approx 0</span></span></div></div></div></div>


<div id="asq-3" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="54a" data-timer="60">
    <div style="display: flex; margin-top: 20px;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px;"><code style="background-color: transparent;"><b>
                   module.exports.pi = 3.1415;
<span style="color: blue;">constants.js</span>       module.exports.one = 1;
                   module.exports.login = "root";
                   module.exports.password = "root";
</b></code></pre>
      </div>
      <div style="display: flex; margin-top: 20px;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px;"><code style="background-color: transparent;"><b>
                   var constants1 = require('./constants');
                   constants1.password = "admin";
                   var constants2 = require('./constants');
<span style="color: blue;">bar.js</span>             console.log(constants2.password);
                   var constants3 = require('./constants');
                   constants2.pi = 3;
                   console.log(constants3.pi);
</b></code></pre>
      </div>

      <asq-exercise style="margin-top: 20px; height: 150px; padding: 10px 20px; background: rgba(255, 255, 255, 0.8);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">What is the console output of node bar.js?</h4></asq-stem>
            <asq-option style="display: inline-block;" class="smaller" name="A." correct>admin/3</asq-option>
     <asq-option style="display: inline-block; margin-left: 60px;" class="smaller" name="B.">root/2</asq-option>
     <asq-option style="display: inline-block; margin-left: 60px;" class="smaller" name="C.">admin/3.1415</asq-option>
     <asq-option style="display: inline-block; margin-left: 60px;" class="smaller" name="D.">root/3</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@lidok</div>
    </div>


    <div id="pf55" class="pf w0 h0 step slide flash" data-page-no="55" data-x="0" data-y="0"><div class="pc pc37 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg37.png"><div class="t m0 x6 h37 y85 ff4 fs2 fc2 sc0 ls14">module.exports</div><div class="t m0 x31 h38 yc1 ff2 fs11 fc2 sc0 ls11">•<span class="ff4 fs12 ls12 wse v3">module.exports={}</span><span class="fs12 ls0 ws1 v3"> is implicitly pr<span class="_ _0"></span>esent in ever<span class="_ _9"></span>y </span></div><div class="t m0 x4d h3a ycd ff2 fs12 fc2 sc0 ls0 ws1">node.js file (a new empty object) </div><div class="t m0 x31 h3d yce ff2 fs11 fc2 sc0 ls11">•<span class="fs12 ls0 ws1 v3">node.js pr<span class="_ _0"></span>ovides an alias: <span class="ff4 ls12">exports = module.exports</span></span></div></div></div>

    <div id="pf56" class="pf w0 h0 step slide flash" data-page-no="56" data-x="0" data-y="0"><div class="pc pc37 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg38.png"><div class="t m0 x6 h37 y85 ff4 fs2 fc2 sc0 ls14">module.exports</div><div class="t m0 x31 h38 yc1 ff2 fs11 fc2 sc0 ls11">•<span class="ff4 fs12 ls12 wse v3">module.exports={}</span><span class="fs12 ls0 ws1 v3"> is implicitly pr<span class="_ _0"></span>esent in ever<span class="_ _9"></span>y </span></div><div class="t m0 x4d h3a ycd ff2 fs12 fc2 sc0 ls0 ws1">node.js file (a new empty object) </div><div class="t m0 x31 h3d yce ff2 fs11 fc2 sc0 ls11">•<span class="fs12 ls0 ws1 v3">node.js pr<span class="_ _0"></span>ovides an alias: <span class="ff4 ls12">exports = module.exports</span></span></div><div class="c x18 ycf w16 h3c"><div class="t m0 x49 hd yd0 ff4 fs3 fc2 sc0 ls3 ws1">module.exports.foo = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd1 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;foo called&apos;</span>);</div><div class="t m0 x49 hd yd2 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x49 hd yd3 ff4 fs3 fc2 sc0 ls3 ws1">module.exports.bar = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd4 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;bar called&apos;</span>);</div><div class="t m0 x49 hd yd5 ff4 fs3 fc2 sc0 ls3">};</div></div>
<div class="c x4f ycf w17 h3c"><div class="t m0 x49 hd yd0 ff4 fs3 fc2 sc0 ls3 ws1">exports.foo = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd1 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;foo called&apos;</span>);</div><div class="t m0 x49 hd yd2 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x49 hd yd3 ff4 fs3 fc2 sc0 ls3 ws1">exports.bar = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd4 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;bar called&apos;</span>);</div><div class="t m0 x49 hd yd5 ff4 fs3 fc2 sc0 ls3">};</div></div>
<div class="c x50 yd6 w18 h3e"><div class="t m0 x1e h11 yd7 ff1 fs3 fc1 sc0 ls6">equivalent</div></div></div></div>

   

    <div id="pf57" class="pf w0 h0 step slide flash" data-page-no="57" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg39.png"><div class="t m0 x6 h37 y85 ff4 fs2 fc2 sc0 ls14">module.exports</div><div class="t m0 x31 h3f yd8 ff2 fs13 fc2 sc0 ls15">•<span class="ff4 fs14 ls16 wsf v3">module.exports={}</span><span class="fs14 ls0 ws1 v3"> is implicitly pr<span class="_ _0"></span>esent in ever<span class="_ _9"></span>y </span></div><div class="t m0 x4d h40 yd9 ff2 fs14 fc2 sc0 ls0 ws1">node.js file (a new empty object) </div><div class="t m0 x31 h41 yda ff2 fs13 fc2 sc0 ls15">•<span class="fs14 ls0 ws1 v1">node.js pr<span class="_ _0"></span>ovides an alias: <span class="ff4 ls16">exports = module.exports</span></span></div><div class="t m0 x31 h42 ydb ff2 fs13 fc2 sc0 ls15">•<span class="fs14 ls0 ws1 v3">Impor<span class="_ _9"></span>tant: do <span class="ff1 fc9 ls19 ws10">not</span><span class="ls17"> <span class="ff1 fc9 ls18 ws11">assign</span></span> to <span class="ff4 ls16">exports </span>dir<span class="_ _0"></span>ectly<span class="_ _f"></span>, <span class="ff1 fc9 ws12">attach</span> to it </span></div><div class="t m0 x4d h40 ydc ff2 fs14 fc2 sc0 ls0 ws1">instead (otherwise the r<span class="_ _0"></span>efer<span class="_ _0"></span>ence to <span class="ff4 ls16 wsf">module.exports</span> is </div><div class="t m0 x4d h40 ydd ff2 fs14 fc2 sc0 ls0 ws1">br<span class="_ _0"></span>oken); assign only to <span class="ff4 ls16">module.exports</span></div><div class="c x18 ycf w16 h3c"><div class="t m0 x49 hd yd0 ff4 fs3 fc2 sc0 ls3 ws1">module.exports.foo = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd1 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;foo called&apos;</span>);</div><div class="t m0 x49 hd yd2 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x49 hd yd3 ff4 fs3 fc2 sc0 ls3 ws1">module.exports.bar = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd4 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;bar called&apos;</span>);</div><div class="t m0 x49 hd yd5 ff4 fs3 fc2 sc0 ls3">};</div></div><div class="c x4f ycf w17 h3c"><div class="t m0 x49 hd yd0 ff4 fs3 fc2 sc0 ls3 ws1">exports.foo = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd1 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;foo called&apos;</span>);</div><div class="t m0 x49 hd yd2 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x49 hd yd3 ff4 fs3 fc2 sc0 ls3 ws1">exports.bar = <span class="ff5 ws4">function</span> () {</div><div class="t m0 x49 hd yd4 ff4 fs3 fc2 sc0 ls3 ws1">    console.<span class="fc8 ws4">log</span><span class="ls4">(</span><span class="fc7">&apos;bar called&apos;</span>);</div><div class="t m0 x49 hd yd5 ff4 fs3 fc2 sc0 ls3">};</div></div><div class="c x50 yd6 w18 h3e"><div class="t m0 x1e h11 yd7 ff1 fs3 fc1 sc0 ls6">equivalent</div></div></div></div>

    <div id="asq-4" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="57aa" data-timer="60">
    <div style="display: flex;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px;"><code style="background-color: transparent;"><b>
                          exports = function() {
                            return {
                              pi: 3.1415,
<span style="color: blue;">constants.js</span>                  one: 1,
                              login: "root",
                              password: "root"
                            }
                          };
</b></code></pre>
      </div>
      <div style="display: flex; margin-top: 10px;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px;"><code style="background-color: transparent;"><b>
                          var constants1 = require('./constants');
                          console.log(constants1);
 <span style="color: blue;">bar.js</span>                   constants1["password"] = "admin";
                          var constants2 = require('./constants');
                          console.log(constants2["password"]);
</b></code></pre>
      </div>

      <asq-exercise style="margin-top: 10px; height: 300px; padding: 10px 20px; background: rgba(255, 255, 255, 0.8);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">What is the console output of node bar.js?</h4></asq-stem>
            <asq-option class="smaller" style="" name="A.">{ pi: 3.1415, one: 1, login: "root", password: "root"}  /  admin</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="B.">{ pi: 3.1415, one: 1, login: "root", password: "root"}  /  {}</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="C.">{}  /  {}</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="D." correct>{}  /  admin</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@lidok</div>
    </div>

    <div id="pf57a" class="pf w0 h0 step slide flash" data-page-no="57a" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/1.jpg"></div></div>

    <div id="pf57b" class="pf w0 h0 step slide flash" data-page-no="57b" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/2.jpg"></div></div>

    <div id="pf57c" class="pf w0 h0 step slide flash" data-page-no="57c" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/3.jpg"></div></div>

    <div id="pf57d" class="pf w0 h0 step slide flash" data-page-no="57d" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/4.jpg"></div></div>

    <div id="pf57e" class="pf w0 h0 step slide flash" data-page-no="57e" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/5.jpg"></div></div>

    <div id="pf57f" class="pf w0 h0 step slide flash" data-page-no="57f" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/6.jpg"></div></div>

    <div id="pf57g" class="pf w0 h0 step slide flash" data-page-no="57g" data-x="0" data-y="0"><div class="pc pc39 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/7.jpg"></div></div>


    <div id="asq-5" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="57ga" data-timer="60">
    <div style="display: flex;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px;"><code style="background-color: transparent;"><b>
                          exports = function() {
                            return {
                              pi: 3.1415,
<span style="color: blue;">constants.js</span>                  one: 1,
                              login: "root",
                              password: "root"
                            }
                          };
</b></code></pre>
      </div>
      <div style="display: flex; margin-top: 10px;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px;"><code style="background-color: transparent;"><b>
                          var constants1 = require('./constants')();
                          constants1["password"] = "admin";
                          var constants2 = require('./constants')();
<span style="color: blue;">bar.js</span>                    console.log(constants2["password"]);
                          var constants3 = require('./constants')();
                          constants2["pi"] = 3;
                          console.log(constants3["pi"]);
</b></code></pre>
      </div>

      <asq-exercise style="margin-top: 10px; height: 150px; padding: 10px 20px; background: rgba(255, 255, 255, 0.8);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">What is the console output of node bar.js?</h4></asq-stem>
            <asq-option style="display: inline-block;" class="smaller" name="A.">root/3</asq-option>
     <asq-option style="display: inline-block; margin-left: 60px;" class="smaller" name="B.">admin/3.1415</asq-option>
     <asq-option style="display: inline-block; margin-left: 60px;" class="smaller" name="C." correct>root/3.1415</asq-option>
     <asq-option style="display: inline-block; margin-left: 60px;" class="smaller" name="D.">admin/3</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@rennac</div>
    </div>

    <div id="pf59" class="pf w0 h0 step slide flash" data-page-no="59" data-x="0" data-y="0"><div class="pc pc3a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg3b.png"><div class="t m0 x51 hb y7e ff3 fs5 fc2 sc0 ls0 ws1">Expr<span class="_ _5"></span>ess and Connect</div></div></div>

    
    <div id="pf60" class="pf w0 h0 step slide flash" data-page-no="60" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg3c.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div></div></div>

    <div id="pf61" class="pf w0 h0 step slide flash" data-page-no="61" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg3d.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h43 yde ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 ls8 ws9 v3">Connect</span><span class="fs0 ls0 ws1 v3">: <span class="ff1 fc9 ls8 ws9">framework</span> whose components (“<span class="ff1 fc9 ls8 ws9">middleware</span>”) </span></div>
<div class="t m0 x24 h2 ydf ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used to cr<span class="_ _0"></span>eate W<span class="_ _0"></span>eb application logics <span class="ff8">!</span></div>
<div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">(inspir<span class="_ _0"></span>ed by Ruby’<span class="_ _a"></span>s Rack framework)</div></div></div>

     <div id="pf62" class="pf w0 h0 step slide flash" data-page-no="62" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg3e.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h43 yde ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 ls8 ws9 v3">Connect</span><span class="fs0 ls0 ws1 v3">: <span class="ff1 fc9 ls8 ws9">framework</span> whose components (“<span class="ff1 fc9 ls8 ws9">middleware</span>”) </span></div>
<div class="t m0 x24 h2 ydf ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used to cr<span class="_ _0"></span>eate W<span class="_ _0"></span>eb application logics <span class="ff8">!</span></div>
<div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">(inspir<span class="_ _0"></span>ed by Ruby’<span class="_ _a"></span>s Rack framework)</div><div class="t m0 x21 h44 ye0 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e: <span class="ff1 fc9 ws0">function</span> which <span class="ff1 fc9 ws0">intercepts</span> the HTTP r<span class="_ _0"></span>equest </span></div>
<div class="t m0 x24 h1 y77 ff2 fs0 fc2 sc0 ls0 ws1">&amp; r<span class="_ _0"></span>esponse objects, <span class="ff1 fc9">executes logic</span> and ends the </div>
<div class="t m0 x24 h2 ye1 ff2 fs0 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>esponse or passes them to the next component</div></div></div>

    <div id="pf63" class="pf w0 h0 step slide flash" data-page-no="63" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg3f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h43 yde ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 ls8 ws9 v3">Connect</span><span class="fs0 ls0 ws1 v3">: <span class="ff1 fc9 ls8 ws9">framework</span> whose components (“<span class="ff1 fc9 ls8 ws9">middleware</span>”) </span></div>
<div class="t m0 x24 h2 ydf ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used to cr<span class="_ _0"></span>eate W<span class="_ _0"></span>eb application logics <span class="ff8">!</span></div>
<div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">(inspir<span class="_ _0"></span>ed by Ruby’<span class="_ _a"></span>s Rack framework)</div><div class="t m0 x21 h44 ye0 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e: <span class="ff1 fc9 ws0">function</span> which <span class="ff1 fc9 ws0">intercepts</span> the HTTP r<span class="_ _0"></span>equest </span></div>
<div class="t m0 x24 h1 y77 ff2 fs0 fc2 sc0 ls0 ws1">&amp; r<span class="_ _0"></span>esponse objects, <span class="ff1 fc9">executes logic</span> and ends the </div>
<div class="t m0 x24 h2 ye1 ff2 fs0 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>esponse or passes them to the next component</div><div class="t m0 x21 h45 ye2 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v3">Dispatcher</span><span class="fs0 ls0 ws1 v3"> connects the components (thus “Connect”)</span></div></div></div>

    <div id="pf64" class="pf w0 h0 step slide flash" data-page-no="64" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg40.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h43 yde ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 ls8 ws9 v3">Connect</span><span class="fs0 ls0 ws1 v3">: <span class="ff1 fc9 ls8 ws9">framework</span> whose components (“<span class="ff1 fc9 ls8 ws9">middleware</span>”) </span></div>
<div class="t m0 x24 h2 ydf ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used to cr<span class="_ _0"></span>eate W<span class="_ _0"></span>eb application logics <span class="ff8">!</span></div>
<div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">(inspir<span class="_ _0"></span>ed by Ruby’<span class="_ _a"></span>s Rack framework)</div><div class="t m0 x21 h44 ye0 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e: <span class="ff1 fc9 ws0">function</span> which <span class="ff1 fc9 ws0">intercepts</span> the HTTP r<span class="_ _0"></span>equest </span></div>
<div class="t m0 x24 h1 y77 ff2 fs0 fc2 sc0 ls0 ws1">&amp; r<span class="_ _0"></span>esponse objects, <span class="ff1 fc9">executes logic</span> and ends the </div>
<div class="t m0 x24 h2 ye1 ff2 fs0 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>esponse or passes them to the next component</div><div class="t m0 x21 h45 ye2 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v3">Dispatcher</span><span class="fs0 ls0 ws1 v3"> connects the components (thus “Connect”)</span></div><div class="t m0 x21 h46 ye3 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">T<span class="_ _10"></span>ypical components: r<span class="_ _0"></span>equest logging, r<span class="_ _0"></span>equest body </span></div>
<div class="t m0 x24 h2 y23 ff2 fs0 fc2 sc0 ls0 ws1">parsing, session managing, etc.</div></div></div>

    <div id="pf65" class="pf w0 h0 step slide flash" data-page-no="65" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg41.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h43 yde ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 ls8 ws9 v3">Connect</span><span class="fs0 ls0 ws1 v3">: <span class="ff1 fc9 ls8 ws9">framework</span> whose components (“<span class="ff1 fc9 ls8 ws9">middleware</span>”) </span></div>
<div class="t m0 x24 h2 ydf ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used to cr<span class="_ _0"></span>eate W<span class="_ _0"></span>eb application logics <span class="ff8">!</span></div>
<div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">(inspir<span class="_ _0"></span>ed by Ruby’<span class="_ _a"></span>s Rack framework)</div><div class="t m0 x21 h44 ye0 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e: <span class="ff1 fc9 ws0">function</span> which <span class="ff1 fc9 ws0">intercepts</span> the HTTP r<span class="_ _0"></span>equest </span></div>
<div class="t m0 x24 h1 y77 ff2 fs0 fc2 sc0 ls0 ws1">&amp; r<span class="_ _0"></span>esponse objects, <span class="ff1 fc9">executes logic</span> and ends the </div>
<div class="t m0 x24 h2 ye1 ff2 fs0 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>esponse or passes them to the next component</div><div class="t m0 x21 h45 ye2 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v3">Dispatcher</span><span class="fs0 ls0 ws1 v3"> connects the components (thus “Connect”)</span></div><div class="t m0 x21 h46 ye3 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">T<span class="_ _10"></span>ypical components: r<span class="_ _0"></span>equest logging, r<span class="_ _0"></span>equest body </span></div>
<div class="t m0 x24 h2 y23 ff2 fs0 fc2 sc0 ls0 ws1">parsing, session managing, etc.</div><div class="c x0 ye4 w0 h47"><div class="t m0 x52 h48 ye5 ff1 fs15 fc1 sc0 ls0 ws1">Express is built on top of Connect. </div></div></div></div>

    <div id="pf66" class="pf w0 h0 step slide flash" data-page-no="66" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg42.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h43 yde ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 ls8 ws9 v3">Connect</span><span class="fs0 ls0 ws1 v3">: <span class="ff1 fc9 ls8 ws9">framework</span> whose components (“<span class="ff1 fc9 ls8 ws9">middleware</span>”) </span></div>
<div class="t m0 x24 h2 ydf ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used to cr<span class="_ _0"></span>eate W<span class="_ _0"></span>eb application logics <span class="ff8">!</span></div>
<div class="t m0 x24 h2 y75 ff2 fs0 fc2 sc0 ls0 ws1">(inspir<span class="_ _0"></span>ed by Ruby’<span class="_ _a"></span>s Rack framework)</div><div class="t m0 x21 h44 ye0 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e: <span class="ff1 fc9 ws0">function</span> which <span class="ff1 fc9 ws0">intercepts</span> the HTTP r<span class="_ _0"></span>equest </span></div>
<div class="t m0 x24 h1 y77 ff2 fs0 fc2 sc0 ls0 ws1">&amp; r<span class="_ _0"></span>esponse objects, <span class="ff1 fc9">executes logic</span> and ends the </div>
<div class="t m0 x24 h2 ye1 ff2 fs0 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>esponse or passes them to the next component</div><div class="t m0 x21 h45 ye2 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v3">Dispatcher</span><span class="fs0 ls0 ws1 v3"> connects the components (thus “Connect”)</span></div><div class="t m0 x21 h46 ye3 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">T<span class="_ _10"></span>ypical components: r<span class="_ _0"></span>equest logging, r<span class="_ _0"></span>equest body </span></div>
<div class="t m0 x24 h2 y23 ff2 fs0 fc2 sc0 ls0 ws1">parsing, session managing, etc.</div><div class="c x0 ye4 w0 h47"><div class="t m0 x52 h48 ye5 ff1 fs15 fc1 sc0 ls0 ws1">Express is built on top of Connect. </div></div><div class="t m0 x53 h49 ya5 ff1 fsf fce sc0 ls0 ws1">T<span class="_ _11"></span>rue up to express@3.</div></div></div>

    <div id="pf67" class="pf w0 h0 step slide flash" data-page-no="67" data-x="0" data-y="0"><div class="pc pc3c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg43.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">What is Connect?</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">29</div><div class="t m0 x21 h44 ye0 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e: <span class="ff1 fc9 ws0">function</span> which <span class="ff1 fc9 ws0">intercepts</span> the HTTP r<span class="_ _0"></span>equest </span></div>
<div class="t m0 x24 h1 y77 ff2 fs0 fc2 sc0 ls0 ws1">&amp; r<span class="_ _0"></span>esponse objects, <span class="ff1 fc9">executes logic</span> and ends the </div>
<div class="t m0 x24 h2 ye1 ff2 fs0 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>esponse or passes them to the next component</div><div class="t m0 x21 h45 ye2 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v3">Dispatcher</span><span class="fs0 ls0 ws1 v3"> connects the components (thus “Connect”)</span></div><div class="t m0 x21 h46 ye3 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">T<span class="_ _10"></span>ypical components: r<span class="_ _0"></span>equest logging, r<span class="_ _0"></span>equest body </span></div>
<div class="t m0 x24 h2 y23 ff2 fs0 fc2 sc0 ls0 ws1">parsing, session managing, etc.</div><div class="c x0 ye4 w0 h47"><div class="t m0 x52 h48 ye5 ff1 fs15 fc1 sc0 ls0 ws1">Express is built on top of Connect. </div></div><div class="t m0 x53 h49 ya5 ff1 fsf fce sc0 ls0 ws1">T<span class="_ _11"></span>rue up to express@3.</div><div class="c x0 ye6 w0 h4a"><div class="t m0 x52 h48 ye7 ff1 fs15 fc1 sc0 ls0 ws1">Express and Connect are now decoupled (<span class="fce ls1a ws13">express@4</span>), in </div><div class="t m0 x52 h48 ye8 ff1 fs15 fc1 sc0 ls0 ws1">practice few things have changed.</div></div></div></div>

    
    <!-- asq-5 <div id="pf68" class="pf w0 h0 step slide flash" data-page-no="44" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg44.png"></div></div>-->

    <div id="pf69" class="pf w0 h0 step slide flash" data-page-no="69" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg45.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Connect example</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">31</div>
<div class="t m0 x54 h4b y57 ff1 fs16 fc4 sc0 ls0 ws1">Image source: <span class="ff9">Node.js in <span class="_ _0"></span>Action<span class="ff1 ls1b">, page 124</span></span></div></div></div>

    <div id="pf70" class="pf w0 h0 step slide flash" data-page-no="70" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg46.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Connect example</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">31</div>
<div class="t m0 x54 h4b y57 ff1 fs16 fc4 sc0 ls0 ws1">Image source: <span class="ff9">Node.js in <span class="_ _0"></span>Action<span class="ff1 ls1b">, page 124</span></span></div></div></div>

    <div id="pf71" class="pf w0 h0 step slide flash" data-page-no="71" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg47.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Connect example</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">31</div>
<div class="t m0 x54 h4b y57 ff1 fs16 fc4 sc0 ls0 ws1">Image source: <span class="ff9">Node.js in <span class="_ _0"></span>Action<span class="ff1 ls1b">, page 124</span></span></div></div></div>

    <div id="pf72" class="pf w0 h0 step slide flash" data-page-no="72" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg48.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Connect example</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">31</div>
<div class="t m0 x54 h4b y57 ff1 fs16 fc4 sc0 ls0 ws1">Image source: <span class="ff9">Node.js in <span class="_ _0"></span>Action<span class="ff1 ls1b">, page 124</span></span></div></div></div>


    <div id="pf73" class="pf w0 h0 step slide flash" data-page-no="73" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg49.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Connect example</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">31</div>
<div class="t m0 x54 h4b y57 ff1 fs16 fc4 sc0 ls0 ws1">Image source: <span class="ff9">Node.js in <span class="_ _0"></span>Action<span class="ff1 ls1b">, page 124</span></span></div></div></div>


    <div id="pf74" class="pf w0 h0 step slide flash" data-page-no="74" data-x="0" data-y="0"><div class="pc pc44 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4a.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Connect example</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">31</div>
<div class="t m0 x54 h4b y57 ff1 fs16 fc4 sc0 ls0 ws1">Image source: <span class="ff9">Node.js in <span class="_ _0"></span>Action<span class="ff1 ls1b">, page 124</span></span></div></div></div>


    <div id="pf75" class="pf w0 h0 step slide flash" data-page-no="75" data-x="0" data-y="0"><div class="pc pc4b w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4b.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Mid<span class="_ _0"></span>dle<span class="_ _c"></span>war<span class="_ _2"></span>e components</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">32</div></div></div>

    <div id="pf76" class="pf w0 h0 step slide flash" data-page-no="76" data-x="0" data-y="0"><div class="pc pc4b w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4c.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Mid<span class="_ _0"></span>dle<span class="_ _c"></span>war<span class="_ _2"></span>e components</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">32</div><div class="t m0 x21 h5 ye9 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Middlewar<span class="_ _0"></span>e components take <span class="ff1 fc9">three arguments</span>: </span></div>
<div class="t m0 x23 h6 yea ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws1 v1">HTTP<span class="_ _0"></span> request<span class="ff2 fc2 ls0"> object </span></span></div>
<div class="t m0 x23 h7 yeb ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws1 v1">HTTP<span class="_ _0"></span> response<span class="ff2 fc2 ls0"> object </span></span></div>
<div class="t m0 x23 h4c yec ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Callback function (<span class="ff5 fc9 lsc wsa">next()</span> ) to indicate that the </span></div>
<div class="t m0 x2c h2 yed ff2 fs0 fc2 sc0 ls0 ws1">component is finished and the dispatcher can move to </div>
<div class="t m0 x2c h2 yee ff2 fs0 fc2 sc0 ls0 ws1">the next component</div></div></div>

     <div id="pf77" class="pf w0 h0 step slide flash" data-page-no="77" data-x="0" data-y="0"><div class="pc pc4b w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4d.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Mid<span class="_ _0"></span>dle<span class="_ _c"></span>war<span class="_ _2"></span>e components</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">32</div><div class="t m0 x21 h5 ye9 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Middlewar<span class="_ _0"></span>e components take <span class="ff1 fc9">three arguments</span>: </span></div>
<div class="t m0 x23 h6 yea ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws1 v1">HTTP<span class="_ _0"></span> request<span class="ff2 fc2 ls0"> object </span></span></div>
<div class="t m0 x23 h7 yeb ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws1 v1">HTTP<span class="_ _0"></span> response<span class="ff2 fc2 ls0"> object </span></span></div>
<div class="t m0 x23 h4c yec ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Callback function (<span class="ff5 fc9 lsc wsa">next()</span> ) to indicate that the </span></div>
<div class="t m0 x2c h2 yed ff2 fs0 fc2 sc0 ls0 ws1">component is finished and the dispatcher can move to </div>
<div class="t m0 x2c h2 yee ff2 fs0 fc2 sc0 ls0 ws1">the next component</div><div class="t m0 x21 h4d yef ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Middlewar<span class="_ _0"></span>e components ar<span class="_ _0"></span>e <span class="ff1 fc9 ls8 ws9">small</span>, <span class="ff1 fc9 ws0">self-contained</span> and </span></div>
<div class="t m0 x24 h1 yf0 ff1 fs0 fc9 sc0 ls8 ws9">reusable<span class="ff2 fc2 ls0 ws1"> acr<span class="_ _0"></span>oss applications</span></div></div></div>


    <div id="pf78" class="pf w0 h0 step slide flash" data-page-no="78" data-x="0" data-y="0"><div class="pc pc4e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4e.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger component</div><div class="t m0 x21 h5 yf1 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal</span><span class="fs0 ls0 ws1 v1">: cr<span class="_ _0"></span>eate a log file which r<span class="_ _0"></span>ecor<span class="_ _0"></span>ds the r<span class="_ _0"></span>equest method </span></div><div class="t m0 x24 h2 yf2 ff2 fs0 fc2 sc0 ls0 ws1">and the URL of the r<span class="_ _0"></span>equest coming into the server </div><div class="t m0 x21 h6 yf3 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws9 v1">Required</span><span class="fs0 ls0 ws1 v1">: JavaScript function which accepts the r<span class="_ _0"></span>equest </span></div><div class="t m0 x24 h2 yc3 ff2 fs0 fc2 sc0 ls0 ws1">and r<span class="_ _0"></span>esponse objects and the next() callback function</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">33</div></div></div>

    <div id="pf79" class="pf w0 h0 step slide flash" data-page-no="79" data-x="0" data-y="0"><div class="pc pc4e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg4f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger component</div><div class="t m0 x21 h5 yf1 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal</span><span class="fs0 ls0 ws1 v1">: cr<span class="_ _0"></span>eate a log file which r<span class="_ _0"></span>ecor<span class="_ _0"></span>ds the r<span class="_ _0"></span>equest method </span></div><div class="t m0 x24 h2 yf2 ff2 fs0 fc2 sc0 ls0 ws1">and the URL of the r<span class="_ _0"></span>equest coming into the server </div><div class="t m0 x21 h6 yf3 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws9 v1">Required</span><span class="fs0 ls0 ws1 v1">: JavaScript function which accepts the r<span class="_ _0"></span>equest </span></div><div class="t m0 x24 h2 yc3 ff2 fs0 fc2 sc0 ls0 ws1">and r<span class="_ _0"></span>esponse objects and the next() callback function</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">33</div><div class="t m0 x28 hd yf4 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div>
<div class="t m0 x28 hd yf5 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div>
<div class="t m0 x28 hd yf6 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff6 fca">//a middleware logger component</span></div>
<div class="t m0 x28 hd yf7 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) {</span></div>
<div class="t m0 x28 hd yf8 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">    console.<span class="fc8 ws4">log</span>(<span class="fc7 ws4">&apos;%s<span class="fcf">\t</span>%s<span class="fcf">\t</span>%s&apos;</span>, <span class="ff5 ws4">new</span> <span class="fc8 ws4">Date</span>(), </span></div>
<div class="t m0 x28 hd yf9 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">                request.method, request.url);</span></div>
<div class="t m0 x28 hd yfa ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">    <span class="fc8 ws4">next</span>();</span></div>
<div class="t m0 x28 hd yfb ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ls0">}</span></div>
<div class="t m0 x28 hd yfc ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">var app = <span class="fc8 ws4">connect</span>();</span></div>
<div class="t m0 x28 hd yfd ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div>
<div class="t m0 x28 hd yfe ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div></div></div>

    <div id="pf80" class="pf w0 h0 step slide flash" data-page-no="80" data-x="0" data-y="0"><div class="pc pc4e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg50.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger component</div><div class="t m0 x21 h5 yf1 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal</span><span class="fs0 ls0 ws1 v1">: cr<span class="_ _0"></span>eate a log file which r<span class="_ _0"></span>ecor<span class="_ _0"></span>ds the r<span class="_ _0"></span>equest method </span></div><div class="t m0 x24 h2 yf2 ff2 fs0 fc2 sc0 ls0 ws1">and the URL of the r<span class="_ _0"></span>equest coming into the server </div><div class="t m0 x21 h6 yf3 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws9 v1">Required</span><span class="fs0 ls0 ws1 v1">: JavaScript function which accepts the r<span class="_ _0"></span>equest </span></div><div class="t m0 x24 h2 yc3 ff2 fs0 fc2 sc0 ls0 ws1">and r<span class="_ _0"></span>esponse objects and the next() callback function</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">33</div><div class="t m0 x28 hd yf4 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div>
<div class="t m0 x28 hd yf5 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div>
<div class="t m0 x28 hd yf6 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff6 fca">//a middleware logger component</span></div>
<div class="t m0 x28 hd yf7 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) {</span></div>
<div class="t m0 x28 hd yf8 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">    console.<span class="fc8 ws4">log</span>(<span class="fc7 ws4">&apos;%s<span class="fcf">\t</span>%s<span class="fcf">\t</span>%s&apos;</span>, <span class="ff5 ws4">new</span> <span class="fc8 ws4">Date</span>(), </span></div>
<div class="t m0 x28 hd yf9 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">                request.method, request.url);</span></div>
<div class="t m0 x28 hd yfa ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">    <span class="fc8 ws4">next</span>();</span></div>
<div class="t m0 x28 hd yfb ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ls0">}</span></div>
<div class="t m0 x28 hd yfc ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">var app = <span class="fc8 ws4">connect</span>();</span></div>
<div class="t m0 x28 hd yfd ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div>
<div class="t m0 x28 hd yfe ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div><div class="c x55 yff w19 h4e"><div class="t m0 x11 h11 y100 ff1 fs3 fc1 sc0 ls0 ws1">control returns to the dispatcher</div></div></div></div>

     <div id="pf81" class="pf w0 h0 step slide flash" data-page-no="81" data-x="0" data-y="0"><div class="pc pc4e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg51.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger component</div><div class="t m0 x21 h5 yf1 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal</span><span class="fs0 ls0 ws1 v1">: cr<span class="_ _0"></span>eate a log file which r<span class="_ _0"></span>ecor<span class="_ _0"></span>ds the r<span class="_ _0"></span>equest method </span></div><div class="t m0 x24 h2 yf2 ff2 fs0 fc2 sc0 ls0 ws1">and the URL of the r<span class="_ _0"></span>equest coming into the server </div><div class="t m0 x21 h6 yf3 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls8 ws9 v1">Required</span><span class="fs0 ls0 ws1 v1">: JavaScript function which accepts the r<span class="_ _0"></span>equest </span></div><div class="t m0 x24 h2 yc3 ff2 fs0 fc2 sc0 ls0 ws1">and r<span class="_ _0"></span>esponse objects and the next() callback function</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">33</div><div class="t m0 x28 hd yf4 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div>
<div class="t m0 x28 hd yf5 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div>
<div class="t m0 x28 hd yf6 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff6 fca">//a middleware logger component</span></div>
<div class="t m0 x28 hd yf7 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) {</span></div>
<div class="t m0 x28 hd yf8 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">    console.<span class="fc8 ws4">log</span>(<span class="fc7 ws4">&apos;%s<span class="fcf">\t</span>%s<span class="fcf">\t</span>%s&apos;</span>, <span class="ff5 ws4">new</span> <span class="fc8 ws4">Date</span>(), </span></div>
<div class="t m0 x28 hd yf9 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">                request.method, request.url);</span></div>
<div class="t m0 x28 hd yfa ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">    <span class="fc8 ws4">next</span>();</span></div>
<div class="t m0 x28 hd yfb ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ls0">}</span></div>
<div class="t m0 x28 hd yfc ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2">var app = <span class="fc8 ws4">connect</span>() </span></div>
<div class="t m0 x28 hd yfd ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div>
<div class="t m0 x28 hd yfe ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div><div class="c x55 yff w19 h4e"><div class="t m0 x11 h11 y100 ff1 fs3 fc1 sc0 ls0 ws1">control returns to the dispatcher</div></div><div class="c x56 y101 w1a h4e"><div class="t m0 x11 hc y102 ff2 fs3 fc2 sc0 ls0 ws1">r<span class="_ _0"></span>egister middlewar<span class="_ _e"></span>e component</div></div></div></div>


     <div id="pf82" class="pf w0 h0 step slide flash" data-page-no="82" data-x="0" data-y="0"><div class="pc pc52 w0 h0">
     <video width=100% style="position: absolute; top: 120px; z-index: 2;"><source src="videos/connect.mov" type="video/mp4"></video>
     <img class="bi x0 y0 w0 h0" alt="" src="img/bg52.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">34</div><div class="c x0 y103 w0 h4f"><div class="t m0 x57 h48 y104 ff1 fs15 fc1 sc0 ls0 ws1">Example: a simple logger</div></div></div></div>

     <div id="pf84" class="pf w0 h0 step slide flash" data-page-no="84" data-x="0" data-y="0"><div class="pc pc54 w0 h0">
     <video width=100% style="position: absolute; top: 135px; z-index: 2;"><source src="videos/connect2.mov" type="video/mp4"></video>
     <img class="bi x0 y0 w0 h0" alt="" src="img/bg54.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">35</div><div class="c x0 y103 w0 h4f"><div class="t m0 x24 h48 y104 ff1 fs15 fc1 sc0 ls0 ws1">Example: a simple logger and “Hello W<span class="_ _0"></span>orld” response</div></div></div></div>


    <!--<div id="pf52" class="pf w0 h0 step slide flash" data-page-no="52" data-x="0" data-y="0"><div class="pc pc52 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg52.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">34</div><div class="c x0 y103 w0 h4f"><div class="t m0 x57 h48 y104 ff1 fs15 fc1 sc0 ls0 ws1">Example: a simple logger</div></div></div><div class="substep" data-bg-src="img/bg53.png"></div></div>


    <div id="pf54" class="pf w0 h0 step slide flash" data-page-no="54" data-x="0" data-y="0"><div class="pc pc54 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg54.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">35</div><div class="c x0 y103 w0 h4f"><div class="t m0 x24 h48 y104 ff1 fs15 fc1 sc0 ls0 ws1">Example: a simple logger and “Hello W<span class="_ _0"></span>orld” response</div></div></div><div class="substep" data-bg-src="img/bg55.png"></div></div>-->


    <div id="pf86" class="pf w0 h0 step slide flash" data-page-no="86" data-x="0" data-y="0"><div class="pc pc56 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg56.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger and <span class="_ _4"></span>“Hello </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws1">W<span class="_ _12"></span>orld” r<span class="_ _2"></span>esponse</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">36</div><div class="t m0 x58 hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div><div class="t m0 x58 hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x58 hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) { .... }</span></div><div class="t m0 x58 hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  4 </div><div class="t m0 x58 hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">function <span class="fc8 ws4">helloWorld</span>(request, response, next) {</span></div><div class="t m0 x58 hd y1a ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">    response.<span class="fc8 ws4">setHeader</span>(<span class="fc7 ws4">&apos;Content-Type&apos;</span>, </span></div><div class="t m0 x58 hd y1b ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                       <span class="fc7 ws4">&apos;text/plain&apos;</span>);</span></div><div class="t m0 x58 hd y1c ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    response.<span class="fc8 ws4">end</span><span class="ls4">(</span><span class="fc7">&apos;Hello World!&apos;</span>);</span></div><div class="t m0 x58 hd y1d ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2 ls0">}</span></div><div class="t m0 x58 hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 10 </div><div class="t m0 x58 hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">var app = <span class="fc8 ws4">connect</span>();</span></div><div class="t m0 x58 hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div><div class="t m0 x58 hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2 ws4">app.<span class="fc8">use</span>(helloWorld);</span></div><div class="t m0 x58 hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div></div></div>

    <div id="pf87" class="pf w0 h0 step slide flash" data-page-no="87" data-x="0" data-y="0"><div class="pc pc56 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg57.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger and <span class="_ _4"></span>“Hello </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws1">W<span class="_ _12"></span>orld” r<span class="_ _2"></span>esponse</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">36</div><div class="t m0 x58 hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div><div class="t m0 x58 hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x58 hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) { .... }</span></div><div class="t m0 x58 hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  4 </div><div class="t m0 x58 hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">function <span class="fc8 ws4">helloWorld</span>(request, response, next) {</span></div><div class="t m0 x58 hd y1a ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">    response.<span class="fc8 ws4">setHeader</span>(<span class="fc7 ws4">&apos;Content-Type&apos;</span>, </span></div><div class="t m0 x58 hd y1b ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                       <span class="fc7 ws4">&apos;text/plain&apos;</span>);</span></div><div class="t m0 x58 hd y1c ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    response.<span class="fc8 ws4">end</span><span class="ls4">(</span><span class="fc7">&apos;Hello World!&apos;</span>);</span></div><div class="t m0 x58 hd y1d ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2 ls0">}</span></div><div class="t m0 x58 hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 10 </div><div class="t m0 x58 hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">var app = <span class="fc8 ws4">connect</span>();</span></div><div class="t m0 x58 hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div><div class="t m0 x58 hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2 ws4">app.<span class="fc8">use</span>(helloWorld);</span></div><div class="t m0 x58 hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div><div class="c x59 y105 w1b h50"><div class="t m0 x18 h11 y106 ff1 fs3 fc1 sc0 ls0 ws1">No call to next! Control is </div><div class="t m0 x47 h11 y107 ff1 fs3 fc1 sc0 ls0 ws1">not returned to dispatcher</div></div></div></div>

    <div id="pf88" class="pf w0 h0 step slide flash" data-page-no="88" data-x="0" data-y="0"><div class="pc pc56 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg58.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger and <span class="_ _4"></span>“Hello </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws1">W<span class="_ _12"></span>orld” r<span class="_ _2"></span>esponse</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">36</div><div class="t m0 x58 hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div><div class="t m0 x58 hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x58 hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) { .... }</span></div><div class="t m0 x58 hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  4 </div><div class="t m0 x58 hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">function <span class="fc8 ws4">helloWorld</span>(request, response, next) {</span></div><div class="t m0 x58 hd y1a ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">    response.<span class="fc8 ws4">setHeader</span>(<span class="fc7 ws4">&apos;Content-Type&apos;</span>, </span></div><div class="t m0 x58 hd y1b ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                       <span class="fc7 ws4">&apos;text/plain&apos;</span>);</span></div><div class="t m0 x58 hd y1c ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    response.<span class="fc8 ws4">end</span><span class="ls4">(</span><span class="fc7">&apos;Hello World!&apos;</span>);</span></div><div class="t m0 x58 hd y1d ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2 ls0">}</span></div><div class="t m0 x58 hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 10 </div><div class="t m0 x58 hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">var app = <span class="fc8 ws4">connect</span>();</span></div><div class="t m0 x58 hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div><div class="t m0 x58 hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2 ws4">app.<span class="fc8">use</span>(helloWorld);</span></div><div class="t m0 x58 hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div><div class="c x59 y105 w1b h50"><div class="t m0 x18 h11 y106 ff1 fs3 fc1 sc0 ls0 ws1">No call to next! Control is </div><div class="t m0 x47 h11 y107 ff1 fs3 fc1 sc0 ls0 ws1">not returned to dispatcher</div></div><div class="c x5a y108 w19 h51"><div class="t m0 x17 h11 y109 ff1 fs3 fc2 sc0 ls0 ws1">any number of components can </div><div class="t m0 x5b h11 y10a ff1 fs3 fc2 sc0 ls6 ws1">be registered</div></div></div></div>

    <div id="pf89" class="pf w0 h0 step slide flash" data-page-no="89" data-x="0" data-y="0"><div class="pc pc56 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg59.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">A simple logger and <span class="_ _4"></span>“Hello </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws1">W<span class="_ _12"></span>orld” r<span class="_ _2"></span>esponse</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">36</div><div class="t m0 x58 hd y15 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var connect = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&apos;connect&apos;</span>);</span></div><div class="t m0 x58 hd y16 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x58 hd y17 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">function <span class="fc8 ws4">logger</span>(request, response, next) { .... }</span></div><div class="t m0 x58 hd y18 ff4 fs3 fc5 sc0 ls3 ws1">  4 </div><div class="t m0 x58 hd y19 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">function <span class="fc8 ws4">helloWorld</span>(request, response, next) {</span></div><div class="t m0 x58 hd y1a ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">    response.<span class="fc8 ws4">setHeader</span>(<span class="fc7 ws4">&apos;Content-Type&apos;</span>, </span></div><div class="t m0 x58 hd y1b ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                       <span class="fc7 ws4">&apos;text/plain&apos;</span>);</span></div><div class="t m0 x58 hd y1c ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2">    response.<span class="fc8 ws4">end</span><span class="ls4">(</span><span class="fc7">&apos;Hello World!&apos;</span>);</span></div><div class="t m0 x58 hd y1d ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc2 ls0">}</span></div><div class="t m0 x58 hd y1e ff4 fs3 fc5 sc0 ls3 ws1"> 10 </div><div class="t m0 x58 hd y1f ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">var app = <span class="fc8 ws4">connect</span>();</span></div><div class="t m0 x58 hd y20 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2 ws4">app.<span class="fc8">use</span>(logger);</span></div><div class="t m0 x58 hd y21 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2 ws4">app.<span class="fc8">use</span>(helloWorld);</span></div><div class="t m0 x58 hd y22 ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2 ws4">app.<span class="fc8">listen</span>(<span class="fcc">3001</span>);</span></div><div class="c x59 y105 w1b h50"><div class="t m0 x18 h11 y106 ff1 fs3 fc1 sc0 ls0 ws1">No call to next! Control is </div><div class="t m0 x47 h11 y107 ff1 fs3 fc1 sc0 ls0 ws1">not returned to dispatcher</div></div><div class="c x5a y108 w19 h51"><div class="t m0 x17 h11 y109 ff1 fs3 fc2 sc0 ls0 ws1">any number of components can </div><div class="t m0 x5b h11 y10a ff1 fs3 fc2 sc0 ls6 ws1">be registered</div></div><div class="c x5a y10b w19 h52"><div class="t m0 x22 h11 y10c ff1 fs3 fc2 sc0 ls0 ws1">their order matters</div></div></div></div>



    <div id="pf90" class="pf w0 h0 step slide flash" data-page-no="90" data-x="0" data-y="0"><div class="pc pc5a w0 h0">
    <video width=100% style="position: absolute; top: 150px; z-index: 2;"><source src="videos/express-middleware.mov" type="video/mp4"></video>
    <img class="bi x0 y0 w0 h0" alt="" src="img/bg5a.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">37</div><div class="c x0 y103 w0 h4f"><div class="t m0 x5c h48 y104 ff1 fs15 fc1 sc0 ls0 ws1">Example: an authorisation component in Express</div></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 8</div></div></div></div>



    <div id="pf92" class="pf w0 h0 step slide flash" data-page-no="92" data-x="0" data-y="0"><div class="pc pc5c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg5c.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">Making the components </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws8">configurable</div><div class="t m0 x35 h55 y10f ff2 fs3 fc2 sc0 ls1c">•<span class="ff1 fs0 fc9 ls2 ws2 v3">Goal</span><span class="fs0 ls0 ws1 v3">: middlewar<span class="_ _0"></span>e components should be r<span class="_ _0"></span>eusable acr<span class="_ _0"></span>oss </span></div><div class="t m0 x24 h2 y60 ff2 fs0 fc2 sc0 ls0 ws1">applications without additional engineering ef<span class="_ _0"></span>for<span class="_ _9"></span>t </div><div class="t m0 x35 h56 y110 ff2 fs3 fc2 sc0 ls1c">•<span class="ff1 fs0 fc9 ls8 ws9 v3">Approach</span><span class="fs0 ls0 ws1 v3">: wrap original middlewar<span class="_ _0"></span>e function in a setup </span></div><div class="t m0 x24 h2 y111 ff2 fs0 fc2 sc0 ls0 ws1">function which takes the parameters as input</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">38</div><div class="t m0 x5d hd y112 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">function <span class="fc8 ws4">setup</span>(options) {</span></div><div class="t m0 x5d hd ya0 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">    <span class="ff6 fca">// setup logic</span></span></div><div class="t m0 x5d hd y113 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">    <span class="ff5 ws4">return</span> <span class="fc8 ws4">function</span>(req, res, next) {</span></div><div class="t m0 x5d hd y114 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        <span class="ff6 fca">// middleware logic</span></span></div><div class="t m0 x5d hd y55 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">    }</span></div><div class="t m0 x5d hd y115 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2 ls0">}</span></div><div class="t m0 x5d hd y116 ff4 fs3 fc5 sc0 ls3 ws1">  7 </div><div class="t m0 x5d hd y117 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">app.<span class="fc8">use</span><span class="ws1">( </span><span class="fc8">setup</span><span class="ws1">({ param1 : </span><span class="fc7">&apos;value1&apos;</span><span class="ws1"> }) );</span></span></div></div></div>

    <div id="pf93" class="pf w0 h0 step slide flash" data-page-no="93" data-x="0" data-y="0"><div class="pc pc5c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg5d.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">Making the components </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws8">configurable</div><div class="t m0 x35 h55 y10f ff2 fs3 fc2 sc0 ls1c">•<span class="ff1 fs0 fc9 ls2 ws2 v3">Goal</span><span class="fs0 ls0 ws1 v3">: middlewar<span class="_ _0"></span>e components should be r<span class="_ _0"></span>eusable acr<span class="_ _0"></span>oss </span></div><div class="t m0 x24 h2 y60 ff2 fs0 fc2 sc0 ls0 ws1">applications without additional engineering ef<span class="_ _0"></span>for<span class="_ _9"></span>t </div><div class="t m0 x35 h56 y110 ff2 fs3 fc2 sc0 ls1c">•<span class="ff1 fs0 fc9 ls8 ws9 v3">Approach</span><span class="fs0 ls0 ws1 v3">: wrap original middlewar<span class="_ _0"></span>e function in a setup </span></div><div class="t m0 x24 h2 y111 ff2 fs0 fc2 sc0 ls0 ws1">function which takes the parameters as input</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">38</div><div class="t m0 x5d hd y112 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">function <span class="fc8 ws4">setup</span>(options) {</span></div><div class="t m0 x5d hd ya0 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">    <span class="ff6 fca">// setup logic</span></span></div><div class="t m0 x5d hd y113 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">    <span class="ff5 ws4">return</span> <span class="fc8 ws4">function</span>(req, res, next) {</span></div><div class="t m0 x5d hd y114 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        <span class="ff6 fca">// middleware logic</span></span></div><div class="t m0 x5d hd y55 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">    }</span></div><div class="t m0 x5d hd y115 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2 ls0">}</span></div><div class="t m0 x5d hd y116 ff4 fs3 fc5 sc0 ls3 ws1">  7 </div><div class="t m0 x5d hd y117 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">app.<span class="fc8">use</span><span class="ws1">( </span><span class="fc8">setup</span><span class="ws1">({ param1 : </span><span class="fc7">&apos;value1&apos;</span><span class="ws1"> }) );</span></span></div><div class="c x5e y118 w1d h57"><div class="t m0 x21 h11 y119 ff1 fs3 fc1 sc0 ls0 ws1">important: function call is made!</div></div></div></div>


    <div id="pf94" class="pf w0 h0 step slide flash" data-page-no="94" data-x="0" data-y="0"><div class="pc pc5e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg5e.png"><div class="t m0 x5f hb y7e ff3 fs5 fc2 sc0 ls0 ws3">Routing</div></div></div>


    <div id="pf95" class="pf w0 h0 step slide flash" data-page-no="95" data-x="0" data-y="0"><div class="pc pc5f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg5f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws8">Intr<span class="_ _5"></span>oduction</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">40</div></div></div>

    <div id="pf96" class="pf w0 h0 step slide flash" data-page-no="96" data-x="0" data-y="0"><div class="pc pc5f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg60.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws8">Intr<span class="_ _5"></span>oduction</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">40</div><div class="t m0 x21 h1b y11a ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Mechanism by which r<span class="_ _0"></span>equests (as specified by a URL </span></div>
<div class="t m0 x24 h1 y11b ff2 fs0 fc2 sc0 ls0 ws1">and HTTP method) <span class="ff1 fc9">are routed to the code </span>that handles </div>
<div class="t m0 x24 h2 y11c ff2 fs0 fc2 sc0 ls0 ws1">them </div>
<div class="t m0 x23 h58 y11d ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Distinguish <span class="ff4 lsc">GET /user</span> fr<span class="_ _0"></span>om <span class="ff4 lsc">POST /user</span> </span></div>
<div class="t m0 x23 h59 y11e ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v4">Distinguish <span class="ff4 lsc">GET /user</span> fr<span class="_ _0"></span>om <span class="ff4 lsc">GET /admin</span> </span></div></div></div>

    <div id="pf97" class="pf w0 h0 step slide flash" data-page-no="97" data-x="0" data-y="0"><div class="pc pc5f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg61.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws8">Intr<span class="_ _5"></span>oduction</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">40</div><div class="t m0 x21 h1b y11a ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Mechanism by which r<span class="_ _0"></span>equests (as specified by a URL </span></div>
<div class="t m0 x24 h1 y11b ff2 fs0 fc2 sc0 ls0 ws1">and HTTP method) <span class="ff1 fc9">are routed to the code </span>that handles </div>
<div class="t m0 x24 h2 y11c ff2 fs0 fc2 sc0 ls0 ws1">them </div>
<div class="t m0 x23 h58 y11d ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Distinguish <span class="ff4 lsc">GET /user</span> fr<span class="_ _0"></span>om <span class="ff4 lsc">POST /user</span> </span></div>
<div class="t m0 x23 h59 y11e ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v4">Distinguish <span class="ff4 lsc">GET /user</span> fr<span class="_ _0"></span>om <span class="ff4 lsc">GET /admin</span> </span></div><div class="t m0 x21 h5a y11f ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">In the past<span class="ff2 fc2">: file-based r<span class="_ _0"></span>outing </span></span></div>
<div class="t m0 x23 h5b y120 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">File <span class="ff4 lsc">contact.html </span>accessed thr<span class="_ _0"></span>ough <span class="ff8">!</span></span></div>
<div class="t m0 x2c h5c y121 ff4 fs0 fc2 sc0 lsc ws1">http://my_site/contact.html </div></div></div>

    <div id="pf98" class="pf w0 h0 step slide flash" data-page-no="98" data-x="0" data-y="0"><div class="pc pc5f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg62.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws8">Intr<span class="_ _5"></span>oduction</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">40</div><div class="t m0 x21 h1b y11a ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Mechanism by which r<span class="_ _0"></span>equests (as specified by a URL </span></div>
<div class="t m0 x24 h1 y11b ff2 fs0 fc2 sc0 ls0 ws1">and HTTP method) <span class="ff1 fc9">are routed to the code </span>that handles </div>
<div class="t m0 x24 h2 y11c ff2 fs0 fc2 sc0 ls0 ws1">them </div>
<div class="t m0 x23 h58 y11d ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Distinguish <span class="ff4 lsc">GET /user</span> fr<span class="_ _0"></span>om <span class="ff4 lsc">POST /user</span> </span></div>
<div class="t m0 x23 h59 y11e ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v4">Distinguish <span class="ff4 lsc">GET /user</span> fr<span class="_ _0"></span>om <span class="ff4 lsc">GET /admin</span> </span></div><div class="t m0 x21 h5a y11f ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">In the past<span class="ff2 fc2">: file-based r<span class="_ _0"></span>outing </span></span></div>
<div class="t m0 x23 h5b y120 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">File <span class="ff4 lsc">contact.html </span>accessed thr<span class="_ _0"></span>ough <span class="ff8">!</span></span></div>
<div class="t m0 x2c h5c y121 ff4 fs0 fc2 sc0 lsc ws1">http://my_site/contact.html </div><div class="t m0 x21 h5d y122 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v4">Moder<span class="_ _9"></span>n websites avoid file endings (<span class="ff4 lsc">*.asp, *.htm </span>…)</span></div></div></div>


    <!-- asq-6 <div id="pf99" class="pf w0 h0 step slide flash" data-page-no="99" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg63.png"></div></div>-->

    <div id="pf100" class="pf w0 h0 step slide flash" data-page-no="100" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg64.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div></div></div>

    <div id="pf101" class="pf w0 h0 step slide flash" data-page-no="101" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg65.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x21 h1b y123 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Y<span class="_ _f"></span>ou have used simple r<span class="_ _0"></span>outes alr<span class="_ _0"></span>eady</span></div></div></div>

    <div id="pf102" class="pf w0 h0 step slide flash" data-page-no="102" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg66.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x21 h1b y123 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Y<span class="_ _f"></span>ou have used simple r<span class="_ _0"></span>outes alr<span class="_ _0"></span>eady</span></div><div class="t m0 x21 h5 y124 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">Route handlers<span class="ff2 fc2"> ar<span class="_ _0"></span>e <span class="ff1 fc9 ls8">middleware</span></span></span></div></div></div>

    <div id="pf103" class="pf w0 h0 step slide flash" data-page-no="103" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg67.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x21 h1b y123 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Y<span class="_ _f"></span>ou have used simple r<span class="_ _0"></span>outes alr<span class="_ _0"></span>eady</span></div><div class="t m0 x21 h5 y124 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">Route handlers<span class="ff2 fc2"> ar<span class="_ _0"></span>e <span class="ff1 fc9 ls8">middleware</span></span></span></div><div class="t m0 x60 hd y125 ff6 fs3 fca sc0 ls3 ws1">//clients requests todos</div>
<div class="t m0 x60 hd y126 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div>
<div class="t m0 x61 hd y127 ff6 fs3 fca sc0 ls3 ws1">//hardcoded “A-B” testing</div>
<div class="t m0 x61 hd y128 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.5</span>) {</span></div>
<div class="t m0 x54 hd y129 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div>
<div class="t m0 x61 hd y12a ff4 fs3 fc2 sc0 ls0">}</div>
<div class="t m0 x61 hd y12b ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema A returned&quot;</span>);</div>
<div class="t m0 x61 hd y12c ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosA);</div>
<div class="t m0 x60 hd y12d ff4 fs3 fc2 sc0 ls3">});</div>
<div class="t m0 x60 hd y12e ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res,next) {</span></div>
<div class="t m0 x61 hd y12f ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema B returned&quot;</span>);</div>
<div class="t m0 x61 hd y130 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosB);</div>
<div class="t m0 x60 hd y131 ff4 fs3 fc2 sc0 ls3">});</div></div></div>

     <div id="pf104" class="pf w0 h0 step slide flash" data-page-no="104" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg68.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x21 h1b y123 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Y<span class="_ _f"></span>ou have used simple r<span class="_ _0"></span>outes alr<span class="_ _0"></span>eady</span></div><div class="t m0 x21 h5 y124 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">Route handlers<span class="ff2 fc2"> ar<span class="_ _0"></span>e <span class="ff1 fc9 ls8">middleware</span></span></span></div><div class="t m0 x60 hd y125 ff6 fs3 fca sc0 ls3 ws1">//clients requests todos</div>
<div class="t m0 x60 hd y126 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div>
<div class="t m0 x61 hd y127 ff6 fs3 fca sc0 ls3 ws1">//hardcoded “A-B” testing</div>
<div class="t m0 x61 hd y128 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.5</span>) {</span></div>
<div class="t m0 x54 hd y129 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div>
<div class="t m0 x61 hd y12a ff4 fs3 fc2 sc0 ls0">}</div>
<div class="t m0 x61 hd y12b ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema A returned&quot;</span>);</div>
<div class="t m0 x61 hd y12c ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosA);</div>
<div class="t m0 x60 hd y12d ff4 fs3 fc2 sc0 ls3">  ;</div>
<div class="t m0 x60 hd y12e ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res,next) {</span></div>
<div class="t m0 x61 hd y12f ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema B returned&quot;</span>);</div>
<div class="t m0 x61 hd y130 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosB);</div>
<div class="t m0 x60 hd y131 ff4 fs3 fc2 sc0 ls3">});</div><div class="c x0 y132 w1e h5e"><div class="t m0 x1b hc y133 ff2 fs3 fc1 sc0 ls0 ws1">T<span class="_ _11"></span>wo r<span class="_ _0"></span>oute handlers </div><div class="t m0 x1b hc y134 ff2 fs3 fc1 sc0 ls0 ws1">defined for a r<span class="_ _0"></span>oute</div></div></div></div>

    <div id="pf105" class="pf w0 h0 step slide flash" data-page-no="105" data-x="0" data-y="0"><div class="pc pc63 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg69.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x21 h1b y123 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Y<span class="_ _f"></span>ou have used simple r<span class="_ _0"></span>outes alr<span class="_ _0"></span>eady</span></div><div class="t m0 x21 h5 y124 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws1 v1">Route handlers<span class="ff2 fc2"> ar<span class="_ _0"></span>e <span class="ff1 fc9 ls8">middleware</span></span></span></div><div class="t m0 x60 hd y125 ff6 fs3 fca sc0 ls3 ws1">//clients requests todos</div>
<div class="t m0 x60 hd y126 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div>
<div class="t m0 x61 hd y127 ff6 fs3 fca sc0 ls3 ws1">//hardcoded “A-B” testing</div>
<div class="t m0 x61 hd y128 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.5</span>) {</span></div>
<div class="t m0 x54 hd y129 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div>
<div class="t m0 x61 hd y12a ff4 fs3 fc2 sc0 ls0">}</div>
<div class="t m0 x61 hd y12b ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema A returned&quot;</span>);</div>
<div class="t m0 x61 hd y12c ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosA);</div>
<div class="t m0 x60 hd y12d ff4 fs3 fc2 sc0 ls3">  ;</div>
<div class="t m0 x60 hd y12e ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res,next) {</span></div>
<div class="t m0 x61 hd y12f ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema B returned&quot;</span>);</div>
<div class="t m0 x61 hd y130 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosB);</div>
<div class="t m0 x60 hd y131 ff4 fs3 fc2 sc0 ls3">});</div><div class="c x0 y132 w1e h5e"><div class="t m0 x1b hc y133 ff2 fs3 fc1 sc0 ls0 ws1">T<span class="_ _11"></span>wo r<span class="_ _0"></span>oute handlers </div><div class="t m0 x1b hc y134 ff2 fs3 fc1 sc0 ls0 ws1">defined for a r<span class="_ _0"></span>oute</div></div><div class="c x62 y135 w1f h5f"><div class="t m0 x18 hc y136 ff2 fs3 fc2 sc0 ls0 ws1">half the r<span class="_ _0"></span>equests will move on</div></div></div></div>


<div id="asq-6" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="105a" data-timer="60">
    <div style="display: flex;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px; margin-top: 20px;"><code style="background-color: transparent;"><b>
        app.get('/user(name)?s?', function(req,res){
          res.send(…)
        });
</b></code></pre>
      </div>
      <asq-exercise style="margin-top: 40px; height: 300px; padding: 10px 20px; background: rgba(255, 255, 255, 0.8);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">Which route does this handler <u>not</u> match?</h4></asq-stem>
            <asq-option class="smaller" style="" name="A.">/Users</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="B.">/user</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="C.">/usernames</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="D." correct>/usersname</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@105567585@N06</div>
    </div>


    <div id="pf106" class="pf w0 h0 step slide flash" data-page-no="106" data-x="0" data-y="0"><div class="pc pc6a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6a.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x2d hd y137 ff6 fs3 fca sc0 ls3 ws1">//A-B-C testing</div><div class="t m0 x2d hd y138 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos&apos;</span><span class="ls0">,</span></div><div class="t m0 x63 hd y139 ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4 ws1">(req,res, next){</span></div><div class="t m0 x64 hd y13a ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.33</span>) {</span></div><div class="t m0 x65 hd y13b ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div><div class="t m0 x64 hd y13c ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x64 hd y13d ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema A returned&quot;</span>);</div><div class="t m0 x64 hd y13e ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosA);</div><div class="t m0 x63 hd y75 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x63 hd y13f ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4 ws1">(req,res, next){</span></div><div class="t m0 x64 hd y140 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.5</span>) {</span></div><div class="t m0 x65 hd y141 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div><div class="t m0 x64 hd y142 ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x64 hd y143 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema B returned&quot;</span>);</div><div class="t m0 x64 hd y144 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosB);</div><div class="t m0 x63 hd y145 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x63 hd y146 ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4">(req,res){</span></div><div class="t m0 x64 hd y147 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema C returned&quot;</span>);</div><div class="t m0 x64 hd y148 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosC);</div><div class="t m0 x63 hd y149 ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x2d hd y14a ff4 fs3 fc2 sc0 ls3">);</div></div></div>

    <div id="pf107" class="pf w0 h0 step slide flash" data-page-no="107" data-x="0" data-y="0"><div class="pc pc6a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6b.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x2d hd y137 ff6 fs3 fca sc0 ls3 ws1">//A-B-C testing</div><div class="t m0 x2d hd y138 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos&apos;</span><span class="ls0">,</span></div><div class="t m0 x63 hd y139 ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4 ws1">(req,res, next){</span></div><div class="t m0 x64 hd y13a ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.33</span>) {</span></div><div class="t m0 x65 hd y13b ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div><div class="t m0 x64 hd y13c ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x64 hd y13d ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema A returned&quot;</span>);</div><div class="t m0 x64 hd y13e ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosA);</div><div class="t m0 x63 hd y75 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x63 hd y13f ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4 ws1">(req,res, next){</span></div><div class="t m0 x64 hd y140 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.5</span>) {</span></div><div class="t m0 x65 hd y141 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div><div class="t m0 x64 hd y142 ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x64 hd y143 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema B returned&quot;</span>);</div><div class="t m0 x64 hd y144 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosB);</div><div class="t m0 x63 hd y145 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x63 hd y146 ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4">(req,res){</span></div><div class="t m0 x64 hd y147 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema C returned&quot;</span>);</div><div class="t m0 x64 hd y148 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosC);</div><div class="t m0 x63 hd y149 ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x2d hd y14a ff4 fs3 fc2 sc0 ls3">);</div><div class="c x66 y14b w20 h60"><div class="t m0 x67 hc y14c ff2 fs3 fc2 sc0 ls0 ws1">a single <span class="ff4 ls3 ws4">app.get()</span> can contain </div><div class="t m0 x68 hc y14d ff2 fs3 fc2 sc0 ls0 ws1">multiple handlers </div></div></div></div>

    <div id="pf108" class="pf w0 h0 step slide flash" data-page-no="108" data-x="0" data-y="0"><div class="pc pc6a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6c.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routes and Expr<span class="_ _2"></span>ess</div><div class="t m0 x2d hd y137 ff6 fs3 fca sc0 ls3 ws1">//A-B-C testing</div><div class="t m0 x2d hd y138 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos&apos;</span><span class="ls0">,</span></div><div class="t m0 x63 hd y139 ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4 ws1">(req,res, next){</span></div><div class="t m0 x64 hd y13a ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.33</span>) {</span></div><div class="t m0 x65 hd y13b ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div><div class="t m0 x64 hd y13c ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x64 hd y13d ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema A returned&quot;</span>);</div><div class="t m0 x64 hd y13e ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosA);</div><div class="t m0 x63 hd y75 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x63 hd y13f ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4 ws1">(req,res, next){</span></div><div class="t m0 x64 hd y140 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (Math.<span class="fc8 ws4">random</span>() &lt; <span class="fcc ws4">0.5</span>) {</span></div><div class="t m0 x65 hd y141 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2">();</span></span></div><div class="t m0 x64 hd y142 ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x64 hd y143 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema B returned&quot;</span>);</div><div class="t m0 x64 hd y144 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosB);</div><div class="t m0 x63 hd y145 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x63 hd y146 ff5 fs3 fc2 sc0 ls3 ws4">function<span class="ff4">(req,res){</span></div><div class="t m0 x64 hd y147 ff4 fs3 fc2 sc0 ls3 ws4">console.<span class="fc8">log</span><span class="ls4">(</span><span class="fc7 ws1">&quot;Todos in schema C returned&quot;</span>);</div><div class="t m0 x64 hd y148 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">json</span>(todosC);</div><div class="t m0 x63 hd y149 ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x2d hd y14a ff4 fs3 fc2 sc0 ls3">);</div><div class="c x66 y14b w20 h60"><div class="t m0 x67 hc y14c ff2 fs3 fc2 sc0 ls0 ws1">a single <span class="ff4 ls3 ws4">app.get()</span> can contain </div><div class="t m0 x68 hc y14d ff2 fs3 fc2 sc0 ls0 ws1">multiple handlers </div></div><div class="c x66 y14e w21 h61"><div class="t m0 x1b h11 y14f ff2 fs3 fc1 sc0 ls0 ws1">Idea: cr<span class="_ _0"></span>eate <span class="ff1">generic functions</span> </div><div class="t m0 x1b h11 y150 ff2 fs3 fc1 sc0 ls0 ws1">that can be dr<span class="_ _0"></span>opped into <span class="ff1 ls6">any </span></div><div class="t m0 x1b h11 y151 ff1 fs3 fc1 sc0 ls0 ws14">route</div></div></div></div>


    <div id="pf109" class="pf w0 h0 step slide flash" data-page-no="109" data-x="0" data-y="0"><div class="pc pc6d w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6d.png"><div class="t m0 x6 h4 y6 ff3 fs2 fc2 sc0 ls0 ws1">Routing paths &amp; r<span class="_ _2"></span>egular </div><div class="t m0 x6 h4 y7 ff3 fs2 fc2 sc0 ls0 ws8">expr<span class="_ _2"></span>essions</div><div class="t m0 x21 h62 y152 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Routes ar<span class="_ _0"></span>e conver<span class="_ _9"></span>ted into <span class="ff1 fc9 ls8">regular expressions</span> by </span></div><div class="t m0 x24 h2 y153 ff2 fs0 fc2 sc0 ls0 ws1">Expr<span class="_ _0"></span>ess (including simple ones like <span class="ff4 lsc wsa">/todos</span>) </div><div class="t m0 x21 h63 y154 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v3">Expr<span class="_ _0"></span>ess suppor<span class="_ _9"></span>ts only a <span class="ff1 fc9 ls8 ws9">subset</span> of the standar<span class="_ _0"></span>d r<span class="_ _0"></span>egex </span></div><div class="t m0 x24 h2 y155 ff2 fs0 fc2 sc0 ls0 ws1">meta-characters </div><div class="t m0 x21 h64 y156 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v4">A<span class="_ _0"></span>vailable r<span class="_ _0"></span>egex meta-characters: <span class="ff5 fc9 lsc">+ ? * ( ) []</span></span></div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">44</div><div class="c x38 y157 w22 h65"><div class="t m0 x35 h66 y158 ff2 fs18 fc2 sc0 ls0">+</div></div><div class="c x69 y157 w23 h65"><div class="t m0 x6a h66 y158 ff2 fs18 fc2 sc0 ls0 ws1">one or mor<span class="_ _0"></span>e occurr<span class="_ _0"></span>ences</div></div><div class="c x38 y159 w22 h67"><div class="t m0 x7 h66 y15a ff2 fs18 fc2 sc0 ls0">?</div></div><div class="c x69 y159 w23 h67"><div class="t m0 x6a h66 y15a ff2 fs18 fc2 sc0 ls0 ws1">zer<span class="_ _0"></span>o or one occurr<span class="_ _0"></span>ence</div></div><div class="c x38 y15b w22 h68"><div class="t m0 x7 h66 y15c ff2 fs18 fc2 sc0 ls0">*</div></div><div class="c x69 y15b w23 h68"><div class="t m0 x6a h66 y15d ff2 fs18 fc2 sc0 ls0 ws1">zer<span class="_ _0"></span>o or mor<span class="_ _0"></span>e occurr<span class="_ _e"></span>ences of </div><div class="t m0 x6a h66 y15e ff2 fs18 fc2 sc0 ls0 ws1">any character (wildcar<span class="_ _0"></span>d)</div></div><div class="c x38 y15f w22 h69"><div class="t m0 x2e h66 y160 ff2 fs18 fc2 sc0 ls0">[…]</div></div><div class="c x69 y15f w23 h69"><div class="t m0 x6a h66 y161 ff2 fs18 fc2 sc0 ls0 ws1">match anything inside for one </div><div class="t m0 x6a h66 y162 ff2 fs18 fc2 sc0 ls0 ws1">character position</div></div><div class="c x38 y163 w22 h6a"><div class="t m0 x2e h66 y164 ff2 fs18 fc2 sc0 ls0">(…)</div></div><div class="c x69 y163 w23 h6a"><div class="t m0 x6a h66 y164 ff2 fs18 fc2 sc0 ls0">boundaries</div></div></div></div>



    <div id="pf110" class="pf w0 h0 step slide flash" data-page-no="110" data-x="0" data-y="0"><div class="pc pc6e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6e.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x21 h1 y165 ff2 fs0 fc2 sc0 ls0 ws1">Enable <span class="ff1 fc9">variable input </span>as par<span class="_ _9"></span>t of the r<span class="_ _0"></span>oute</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">45</div><div class="t m0 x14 hd y166 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x4 hd y167 ff4 fs3 fc2 sc0 ls3 ws1">important: [<span class="fc7 ws4">&quot;TI1506&quot;</span><span class="ls4">,</span><span class="fc7 ws4">&quot;OOP&quot;</span>,<span class="fc7 ws4">&quot;Calculus&quot;</span>],</div><div class="t m0 x4 hd y7e ff4 fs3 fc2 sc0 ls3 ws1">urgent: [<span class="fc7 ws4">&quot;Dentist&quot;</span><span class="ls4">,</span><span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x4 hd y168 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x14 hd yf4 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x14 hd yf6 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x4 hd yf7 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type];</span></div><div class="t m0 x4 hd yf8 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span></div><div class="t m0 x6b hd yf9 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2 ws1">(); <span class="ff6 fca">// will eventually fall through to 404</span></span></span></div><div class="t m0 x4 hd yfa ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4 hd yfb ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x14 hd yfc ff4 fs3 fc2 sc0 ls3">});</div></div></div>

    <div id="pf111" class="pf w0 h0 step slide flash" data-page-no="111" data-x="0" data-y="0"><div class="pc pc6e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg6f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x21 h1 y165 ff2 fs0 fc2 sc0 ls0 ws1">Enable <span class="ff1 fc9">variable input </span>as par<span class="_ _9"></span>t of the r<span class="_ _0"></span>oute</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">45</div><div class="t m0 x14 hd y166 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x4 hd y167 ff4 fs3 fc2 sc0 ls3 ws1">important: [<span class="fc7 ws4">&quot;TI1506&quot;</span><span class="ls4">,</span><span class="fc7 ws4">&quot;OOP&quot;</span>,<span class="fc7 ws4">&quot;Calculus&quot;</span>],</div><div class="t m0 x4 hd y7e ff4 fs3 fc2 sc0 ls3 ws1">urgent: [<span class="fc7 ws4">&quot;Dentist&quot;</span><span class="ls4">,</span><span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x4 hd y168 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x14 hd yf4 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x14 hd yf6 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x4 hd yf7 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type];</span></div><div class="t m0 x4 hd yf8 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span></div><div class="t m0 x6b hd yf9 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2 ws1">(); <span class="ff6 fca">// will eventually fall through to 404</span></span></span></div><div class="t m0 x4 hd yfa ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4 hd yfb ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x14 hd yfc ff4 fs3 fc2 sc0 ls3">});</div></div></div>

    <div id="pf112" class="pf w0 h0 step slide flash" data-page-no="112" data-x="0" data-y="0"><div class="pc pc6e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg70.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x21 h1 y165 ff2 fs0 fc2 sc0 ls0 ws1">Enable <span class="ff1 fc9">variable input </span>as par<span class="_ _9"></span>t of the r<span class="_ _0"></span>oute</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">45</div><div class="t m0 x14 hd y166 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x4 hd y167 ff4 fs3 fc2 sc0 ls3 ws1">important: [<span class="fc7 ws4">&quot;TI1506&quot;</span><span class="ls4">,</span><span class="fc7 ws4">&quot;OOP&quot;</span>,<span class="fc7 ws4">&quot;Calculus&quot;</span>],</div><div class="t m0 x4 hd y7e ff4 fs3 fc2 sc0 ls3 ws1">urgent: [<span class="fc7 ws4">&quot;Dentist&quot;</span><span class="ls4">,</span><span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x4 hd y168 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x14 hd yf4 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x14 hd yf6 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x4 hd yf7 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type];</span></div><div class="t m0 x4 hd yf8 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span></div><div class="t m0 x6b hd yf9 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2 ws1">(); <span class="ff6 fca">// will eventually fall through to 404</span></span></span></div><div class="t m0 x4 hd yfa ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4 hd yfb ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x14 hd yfc ff4 fs3 fc2 sc0 ls3">});</div></div></div>

    <div id="pf113" class="pf w0 h0 step slide flash" data-page-no="113" data-x="0" data-y="0"><div class="pc pc6e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg71.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x21 h1 y165 ff2 fs0 fc2 sc0 ls0 ws1">Enable <span class="ff1 fc9">variable input </span>as par<span class="_ _9"></span>t of the r<span class="_ _0"></span>oute</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">45</div><div class="t m0 x14 hd y166 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x4 hd y167 ff4 fs3 fc2 sc0 ls3 ws1">important: [<span class="fc7 ws4">&quot;TI       </span><span class="ls4"> </span><span class="fc7 ws4">            </span> <span class="fc7 ws4">            </span>  </div><div class="t m0 x4 hd y7e ff4 fs3 fc2 sc0 ls3 ws1">urgent: [<span class="fc7 ws4">&quot;Denti</span><span class="ls4"></span><span class="fc7"></span></div><div class="t m0 x4 hd y168 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: [<span class="fc7 ws4">&quot;</span></div><div class="t m0 x14 hd yf4 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x14 hd yf6 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x4 hd yf7 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type];</span></div><div class="t m0 x4 hd yf8 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span></div><div class="t m0 x6b hd yf9 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2 ws1">(); <span class="ff6 fca">// will eventually fall through to 404</span></span></span></div><div class="t m0 x4 hd yfa ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4 hd yfb ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x14 hd yfc ff4 fs3 fc2 sc0 ls3">});</div><div class="c x6c y169 w24 h6b"><div class="t m0 x67 hc y16a ff2 fs3 fc2 sc0 ls0 ws1">Will match any string that does not </div><div class="t m0 x67 hc y16b ff2 fs3 fc2 sc0 ls0 ws1">contain <span class="ff4 ls1d">/</span>. It is available with key <span class="ff4 ls3 ws4">type</span> </div><div class="t m0 x67 hc y16c ff2 fs3 fc2 sc0 ls0 ws1">in the <span class="ff4 ls3 ws4">req.params</span> object.</div></div></div></div>

    <div id="pf114" class="pf w0 h0 step slide flash" data-page-no="114" data-x="0" data-y="0"><div class="pc pc6e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg72.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x21 h1 y165 ff2 fs0 fc2 sc0 ls0 ws1">Enable <span class="ff1 fc9">variable input </span>as par<span class="_ _9"></span>t of the r<span class="_ _0"></span>oute</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">45</div><div class="t m0 x14 hd y166 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x4 hd y167 ff4 fs3 fc2 sc0 ls3 ws1">important: [<span class="fc7 ws4">&quot;TI       </span><span class="ls4"> </span><span class="fc7 ws4">            </span> <span class="fc7 ws4">            </span>  </div><div class="t m0 x4 hd y7e ff4 fs3 fc2 sc0 ls3 ws1">urgent: [<span class="fc7 ws4">&quot;Denti</span><span class="ls4"></span><span class="fc7"></span></div><div class="t m0 x4 hd y168 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: [<span class="fc7 ws4">&quot;</span></div><div class="t m0 x14 hd yf4 ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x14 hd yf6 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x4 hd yf7 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type];</span></div><div class="t m0 x4 hd yf8 ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span></div><div class="t m0 x6b hd yf9 ff5 fs3 fc2 sc0 ls3 ws4">return<span class="ff4 ls4 ws1"> </span><span class="ff4 fc8">next<span class="fc2 ws1">(); <span class="ff6 fca">// will eventually fall through to 404</span></span></span></div><div class="t m0 x4 hd yfa ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4 hd yfb ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x14 hd yfc ff4 fs3 fc2 sc0 ls3">});</div><div class="c x6c y169 w24 h6b"><div class="t m0 x67 hc y16a ff2 fs3 fc2 sc0 ls0 ws1">Will match any string that does not </div><div class="t m0 x67 hc y16b ff2 fs3 fc2 sc0 ls0 ws1">contain <span class="ff4 ls1d">/</span>. It is available with key <span class="ff4 ls3 ws4">type</span> </div><div class="t m0 x67 hc y16c ff2 fs3 fc2 sc0 ls0 ws1">in the <span class="ff4 ls3 ws4">req.params</span> object.</div></div><div class="t m0 x6d h66 y16d ff2 fs18 fc9 sc0 ls0 ws1">localhost:3000/todos/impor<span class="_ _9"></span>tant </div>
<div class="t m0 x6d h66 y16e ff2 fs18 fc9 sc0 ls0 ws1">localhost:3000/todos/urgent </div>
<div class="t m0 x6d h66 y16f ff2 fs18 fc9 sc0 ls0 ws15">localhost:3000/todos/unimpor<span class="_ _9"></span>tant</div></div></div>


    <div id="pf115" class="pf w0 h0 step slide flash" data-page-no="115" data-x="0" data-y="0"><div class="pc pc73 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg73.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">46</div><div class="t m0 x4d hd y170 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x2c hd y171 ff4 fs3 fc2 sc0 ls3 ws1">important: {</div><div class="t m0 x6e hd y172 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;TI1506&quot;</span>],</div><div class="t m0 x6e hd y173 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: [<span class="fc7 ws4">&quot;OOP&quot;</span>, <span class="fc7 ws4">&quot;Calculus&quot;</span><span class="ls0">]</span></div><div class="t m0 x2c hd y174 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y175 ff4 fs3 fc2 sc0 ls3 ws1">urgent: {</div><div class="t m0 x6e hd y176 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Dentist&quot;</span>, <span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x6e hd y177 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd yf ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y178 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: {</div><div class="t m0 x6e hd ya1 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x6e hd y179 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd y17a ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4d hd y17b ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x4d hd y17c ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type/:level&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x2c hd y17d ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type][req.params.level];</span></div><div class="t m0 x2c hd y17e ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span>return<span class="ff4 ws1"> <span class="fc8 ws4">next<span class="fc2">();<span class="ls0">}</span></span></span></span></div><div class="t m0 x2c hd y17f ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x4d hd y180 ff4 fs3 fc2 sc0 ls3">});</div></div></div>

    <div id="pf116" class="pf w0 h0 step slide flash" data-page-no="116" data-x="0" data-y="0"><div class="pc pc73 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg74.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">46</div><div class="t m0 x4d hd y170 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x2c hd y171 ff4 fs3 fc2 sc0 ls3 ws1">important: {</div><div class="t m0 x6e hd y172 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;TI1506&quot;</span>],</div><div class="t m0 x6e hd y173 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: [<span class="fc7 ws4">&quot;OOP&quot;</span>, <span class="fc7 ws4">&quot;Calculus&quot;</span><span class="ls0">]</span></div><div class="t m0 x2c hd y174 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y175 ff4 fs3 fc2 sc0 ls3 ws1">urgent: {</div><div class="t m0 x6e hd y176 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Dentist&quot;</span>, <span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x6e hd y177 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd yf ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y178 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: {</div><div class="t m0 x6e hd ya1 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x6e hd y179 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd y17a ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4d hd y17b ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x4d hd y17c ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type/:level&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x2c hd y17d ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type][req.params.level];</span></div><div class="t m0 x2c hd y17e ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span>return<span class="ff4 ws1"> <span class="fc8 ws4">next<span class="fc2">();<span class="ls0">}</span></span></span></span></div><div class="t m0 x2c hd y17f ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x4d hd y180 ff4 fs3 fc2 sc0 ls3">});</div></div></div>

    <div id="pf117" class="pf w0 h0 step slide flash" data-page-no="117" data-x="0" data-y="0"><div class="pc pc73 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg75.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">46</div><div class="t m0 x4d hd y170 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x2c hd y171 ff4 fs3 fc2 sc0 ls3 ws1">important: {</div><div class="t m0 x6e hd y172 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;TI1506&quot;</span>],</div><div class="t m0 x6e hd y173 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: [<span class="fc7 ws4">&quot;OOP&quot;</span>, <span class="fc7 ws4">&quot;Calculus&quot;</span><span class="ls0">]</span></div><div class="t m0 x2c hd y174 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y175 ff4 fs3 fc2 sc0 ls3 ws1">urgent: {</div><div class="t m0 x6e hd y176 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Dentist&quot;</span>, <span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x6e hd y177 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd yf ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y178 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: {</div><div class="t m0 x6e hd ya1 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x6e hd y179 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd y17a ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4d hd y17b ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x4d hd y17c ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type/:level&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x2c hd y17d ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type][req.params.level];</span></div><div class="t m0 x2c hd y17e ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span>return<span class="ff4 ws1"> <span class="fc8 ws4">next<span class="fc2">();<span class="ls0">}</span></span></span></span></div><div class="t m0 x2c hd y17f ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x4d hd y180 ff4 fs3 fc2 sc0 ls3">});</div><div class="c x6f y181 w25 h6c"><div class="t m0 x67 hc y182 ff2 fs3 fc2 sc0 ls0 ws1">No r<span class="_ _0"></span>estrictions on the number of </div><div class="t m0 x67 hc y183 ff2 fs3 fc2 sc0 ls0 ws1">variable input</div></div></div></div>

    <div id="pf118" class="pf w0 h0 step slide flash" data-page-no="118" data-x="0" data-y="0"><div class="pc pc73 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg76.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Routing parameters</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">46</div><div class="t m0 x4d hd y170 ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todoTypes = {</span></div><div class="t m0 x2c hd y171 ff4 fs3 fc2 sc0 ls3 ws1">important: {</div><div class="t m0 x6e hd y172 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;TI1506&quot;</span>],</div><div class="t m0 x6e hd y173 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: [<span class="fc7 ws4">&quot;OOP&quot;</span>, <span class="fc7 ws4">&quot;Calculus&quot;</span><span class="ls0">]</span></div><div class="t m0 x2c hd y174 ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y175 ff4 fs3 fc2 sc0 ls3 ws1">urgent: {</div><div class="t m0 x6e hd y176 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Dentist&quot;</span>, <span class="fc7">&quot;Hotel booking&quot;</span>],</div><div class="t m0 x6e hd y177 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd yf ff4 fs3 fc2 sc0 ls3">},</div><div class="t m0 x2c hd y178 ff4 fs3 fc2 sc0 ls3 ws1">unimportant: {</div><div class="t m0 x6e hd ya1 ff4 fs3 fc2 sc0 ls3 ws1">today: [<span class="fc7 ws4">&quot;Groceries&quot;</span>],</div><div class="t m0 x6e hd y179 ff4 fs3 fc2 sc0 ls3 ws1">tomorrow: []</div><div class="t m0 x2c hd y17a ff4 fs3 fc2 sc0 ls0">}</div><div class="t m0 x4d hd y17b ff4 fs3 fc2 sc0 ls3">};</div><div class="t m0 x4d hd y17c ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/todos/:type/:level&apos;</span><span class="ws1">, </span><span class="ff5">function</span><span class="ws1"> (req, res, next) {</span></div><div class="t m0 x2c hd y17d ff5 fs3 fc2 sc0 ls3 ws4">var<span class="ff4 ws1"> todos = todoTypes[req.params.type][req.params.level];</span></div><div class="t m0 x2c hd y17e ff5 fs3 fc2 sc0 ls3 ws4">if<span class="ff4 ws1"> (!todos) {</span>return<span class="ff4 ws1"> <span class="fc8 ws4">next<span class="fc2">();<span class="ls0">}</span></span></span></span></div><div class="t m0 x2c hd y17f ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(todos);</div><div class="t m0 x4d hd y180 ff4 fs3 fc2 sc0 ls3">});</div><div class="c x6f y181 w25 h6c"><div class="t m0 x67 hc y182 ff2 fs3 fc2 sc0 ls0 ws1">No r<span class="_ _0"></span>estrictions on the number of </div><div class="t m0 x67 hc y183 ff2 fs3 fc2 sc0 ls0 ws1">variable input</div></div><div class="t m0 x70 h6d y184 ff2 fse fc9 sc0 ls0 ws16">localhost:3000/todos/impor<span class="_ _9"></span>tant/tomorr<span class="_ _0"></span>ow</div></div></div>


    <div id="asq-7" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="119" data-timer="60">
    <div style="display: flex;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.8); width: 1000px; margin-top: 20px;"><code style="background-color: transparent;"><b>
        app.get('/whaa+[dt]s+upp*', function(req,res){
          res.send(…)
        });
</b></code></pre>
      </div>
      <asq-exercise style="margin-top: 40px; height: 300px; padding: 10px 20px; background: rgba(255, 255, 255, 0.8);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">Which route does this handler <u>not</u> match?</h4></asq-stem>
            <asq-option class="smaller" style="" name="A." correct>/whaadtsuppp</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="B.">/whaaatssupp</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="C.">/Whaaadssup</asq-option>
     <asq-option class="smaller" style="margin-top: 20px;" name="D.">/whaaaaaaaaaadssup</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@105567585@N06</div>
    </div>

    <div id="pf120" class="pf w0 h0 step slide flash" data-page-no="120" data-x="0" data-y="0"><div class="pc pc77 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg78.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Organizing r<span class="_ _5"></span>outes</div>
<div class="t m0 x21 h6e y185 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v4">Keeping r<span class="_ _0"></span>outes in the main application file becomes </span></div>
<div class="t m0 x24 h2 y186 ff2 fs0 fc2 sc0 ls0 ws1">unwieldy as the code gr<span class="_ _0"></span>ows </div>
<div class="t m0 x21 h6f y187 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v5">Move r<span class="_ _0"></span>outes into a module and pass <span class="ff4 lsc wsa">app</span> instance into the </span></div>
<div class="t m0 x24 h2 y13f ff2 fs0 fc2 sc0 ls0">module</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">48</div>
<div class="t m0 x71 hd y38 ff4 fs3 fc2 sc0 ls3 ws1">module.exports = <span class="ff5 ws4">function</span>(app){</div>
<div class="t m0 x72 hd y2 ff4 fs3 fc2 sc0 ls3 ws4">app.<span class="fc8">get</span>(<span class="fc7">&apos;/&apos;</span><span class="ws1">, </span><span class="ff5">function</span>(req,res){</div>
<div class="t m0 x73 hd y39 ff4 fs3 fc2 sc0 ls3 ws4">res.<span class="fc8">send</span>(...);</div>
<div class="t m0 x72 hd y3a ff4 fs3 fc2 sc0 ls3">}))</div>
<div class="t m0 x72 hd y3b ff6 fs3 fca sc0 ls3">//...</div>
<div class="t m0 x71 hd y3c ff4 fs3 fc2 sc0 ls3">};</div>
<div class="t m0 x1f h30 y188 ff4 fse fc9 sc0 lse">routes.js</div>
<div class="t m0 x71 hd y189 ff4 fs3 fc8 sc0 ls3 ws4">require<span class="fc2">(<span class="fc7">&apos;./routes.js&apos;</span>)(app);</span></div>
<div class="t m0 x1f h30 y18a ff4 fse fc9 sc0 lse">my_app.js</div></div></div>


    <div id="pf121" class="pf w0 h0 step slide flash" data-page-no="121" data-x="0" data-y="0"><div class="pc pc79 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg79.png"><div class="t m0 x72 hb y7e ff3 fs5 fc2 sc0 ls0 ws3">T<span class="_ _13"></span>emplating</div><div class="t m0 x74 h70 y112 ff2 fs19 fc2 sc0 ls0 ws1">with EJS</div></div></div>


    <div id="pf122" class="pf w0 h0 step slide flash" data-page-no="122" data-x="0" data-y="0"><div class="pc pc7a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7a.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Expr<span class="_ _2"></span>ess and HTML …</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">50</div><div class="t m0 x14 hd y18b ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var express = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&quot;express&quot;</span>);</span></div><div class="t m0 x14 hd y18c ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var url = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&quot;url&quot;</span>);</span></div><div class="t m0 x14 hd y18d ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var http = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&quot;http&quot;</span>);</span></div><div class="t m0 x14 hd y18e ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x14 hd y18f ff4 fs3 fc5 sc0 ls3 ws1">  5 </div><div class="t m0 x14 hd y190 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc">2</span>];</span></div><div class="t m0 x14 hd y125 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">app = <span class="fc8 ws4">express</span>();</span></div><div class="t m0 x14 hd y126 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x14 hd y127 ff4 fs3 fc5 sc0 ls3 ws1">  9 </div><div class="t m0 x14 hd y128 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2 ws4">app.<span class="fc8">get</span><span class="ls4">(</span><span class="fc7">&quot;/greetme&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x14 hd y129 ff4 fs3 fc5 sc0 ls3 ws1"> 11  <span class="fc2">var query = url.<span class="fc8 ws4">parse</span>(req.url, true).query;</span></div><div class="t m0 x14 hd y12a ff4 fs3 fc5 sc0 ls3 ws1"> 12  <span class="fc2">var name = ( query[<span class="fc7 ws4">&quot;name&quot;</span>]!=undefined) ? query[</span></div><div class="t m0 x14 hd y12b ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">            <span class="fc7 ws4">&quot;name&quot;</span>] : <span class="fc7 ws4">&quot;Anonymous&quot;</span><span class="ls0">;</span></span></div><div class="t m0 x14 hd y12c ff4 fs3 fc5 sc0 ls3 ws1"> 14  <span class="fc2 ws4">res.<span class="fc8">send</span><span class="ls4">(</span><span class="fc7">&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;</span></span></div><div class="t m0 x14 hd y12d ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc7">          Greetings &quot;<span class="fc2 ws4">+name+</span>&quot;&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</span></div><div class="t m0 x14 hd y191 ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc7">          &quot;<span class="fc2">);</span></span></div><div class="t m0 x14 hd y12e ff4 fs3 fc5 sc0 ls3 ws1"> 17 <span class="fc2">});</span></div><div class="t m0 x14 hd y12f ff4 fs3 fc5 sc0 ls3 ws1"> 18 </div><div class="t m0 x14 hd y130 ff4 fs3 fc5 sc0 ls3 ws1"> 19 <span class="fc2 ws4">app.<span class="fc8">get</span><span class="ls4">(</span><span class="fc7">&quot;/goodbye&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x14 hd y131 ff4 fs3 fc5 sc0 ls3 ws1"> 20  <span class="fc2 ws4">res.<span class="fc8">send</span><span class="ls4">(</span></span><span class="fc7">&quot;Goodbye you!&quot;<span class="fc2">);</span></span></div><div class="t m0 x14 hd y192 ff4 fs3 fc5 sc0 ls3 ws1"> 21 <span class="fc2">});</span></div></div></div>

    <div id="pf123" class="pf w0 h0 step slide flash" data-page-no="123" data-x="0" data-y="0"><div class="pc pc7a w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7b.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Expr<span class="_ _2"></span>ess and HTML …</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">50</div><div class="t m0 x14 hd y18b ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var express = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&quot;express&quot;</span>);</span></div><div class="t m0 x14 hd y18c ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var url = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&quot;url&quot;</span>);</span></div><div class="t m0 x14 hd y18d ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var http = <span class="fc8 ws4">require</span><span class="ls4">(</span><span class="fc7 ws4">&quot;http&quot;</span>);</span></div><div class="t m0 x14 hd y18e ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x14 hd y18f ff4 fs3 fc5 sc0 ls3 ws1">  5 </div><div class="t m0 x14 hd y190 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc">2</span>];</span></div><div class="t m0 x14 hd y125 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">app = <span class="fc8 ws4">express</span>();</span></div><div class="t m0 x14 hd y126 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x14 hd y127 ff4 fs3 fc5 sc0 ls3 ws1">  9 </div><div class="t m0 x14 hd y128 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="fc2 ws4">app.<span class="fc8">get</span><span class="ls4">(</span><span class="fc7">&quot;/greetme&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req,</span></span></div><div class="t m0 x14 hd y129 ff4 fs3 fc5 sc0 ls3 ws1"> 11  <span class="fc2">var query = url.<span class="fc8 ws4">parse</span>(req.url, tr</span></div><div class="t m0 x14 hd y12a ff4 fs3 fc5 sc0 ls3 ws1"> 12  <span class="fc2">var name = ( query[<span class="fc7 ws4">&quot;name&quot;</span>]!=undef</span></div><div class="t m0 x14 hd y12b ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">            <span class="fc7 ws4">&quot;name&quot;</span>] : <span class="fc7 ws4">&quot;Anonymous&quot;</span><span class="ls0">;</span></span></div><div class="t m0 x14 hd y12c ff4 fs3 fc5 sc0 ls3 ws1"> 14  <span class="fc2 ws4">res.<span class="fc8">send</span><span class="ls4">(</span><span class="fc7">&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;</span></span></div><div class="t m0 x14 hd y12d ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc7">          Greetings &quot;<span class="fc2 ws4">+name+</span>&quot;&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;</span></div><div class="t m0 x14 hd y191 ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc7">          &quot;<span class="fc2">);</span></span></div><div class="t m0 x14 hd y12e ff4 fs3 fc5 sc0 ls3 ws1"> 17 <span class="fc2">});</span></div><div class="t m0 x14 hd y12f ff4 fs3 fc5 sc0 ls3 ws1"> 18 </div><div class="t m0 x14 hd y130 ff4 fs3 fc5 sc0 ls3 ws1"> 19 <span class="fc2 ws4">app.<span class="fc8">get</span><span class="ls4">(</span><span class="fc7">&quot;/goodbye&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x14 hd y131 ff4 fs3 fc5 sc0 ls3 ws1"> 20  <span class="fc2 ws4">res.<span class="fc8">send</span><span class="ls4">(</span></span><span class="fc7">&quot;Goodbye you!&quot;<span class="fc2">);</span></span></div><div class="t m0 x14 hd y192 ff4 fs3 fc5 sc0 ls3 ws1"> 21 <span class="fc2">});</span></div><div class="c x75 y193 w26 h71"><div class="t m0 x67 h11 y194 ff1 fs3 fc2 sc0 ls0 ws14">error-prone<span class="ff2 ws1">, <span class="ff1">not maintainable</span>, </span></div><div class="t m0 x67 hc y195 ff2 fs3 fc2 sc0 ls0 ws1">fails at anything larger than a </div><div class="t m0 x67 hc y196 ff2 fs3 fc2 sc0 ls0 ws1">toy pr<span class="_ _0"></span>oject.</div></div></div></div>


    <div id="pf124" class="pf w0 h0 step slide flash" data-page-no="124" data-x="0" data-y="0"><div class="pc pc7c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7c.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Instead … templates</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">51</div></div></div>

    <div id="pf125" class="pf w0 h0 step slide flash" data-page-no="125" data-x="0" data-y="0"><div class="pc pc7c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7d.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Instead … templates</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">51</div><div class="t m0 x35 h72 y197 ff2 fs3 fc2 sc0 ls1e">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal<span class="fc2 ls0 ws1">: <span class="ff2">write as little HTML “by hand” as possible</span></span></span></div></div></div>

    <div id="pf126" class="pf w0 h0 step slide flash" data-page-no="126" data-x="0" data-y="0"><div class="pc pc7c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7e.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Instead … templates</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">51</div><div class="t m0 x35 h72 y197 ff2 fs3 fc2 sc0 ls1e">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal<span class="fc2 ls0 ws1">: <span class="ff2">write as little HTML “by hand” as possible</span></span></span></div><div class="c x4d y198 w27 h73"><div class="t m0 x29 h74 y199 ff1 fse fc1 sc0 ls0 ws1">HTML<span class="_ _0"></span> template</div></div>
<div class="c x76 y198 w28 h73"><div class="t m0 x29 h74 y199 ff1 fse fc1 sc0 ls0 ws16">data</div></div>
<div class="c x77 y19a w29 h75"><div class="t m0 x67 h76 y19b ff2 fs1a fc2 sc0 ls0">+</div></div>
<div class="c x78 y19a w29 h75"><div class="t m0 x67 h76 y19b ff2 fs1a fc2 sc0 ls0">=</div></div>
<div class="c x79 y19c w2a h77"><div class="t m0 x7a h74 y19d ff1 fse fc1 sc0 ls1f ws1">rendered </div></div>
<div class="c x79 y19e w2a h78"><div class="t m0 x1e h74 y19f ff1 fse fc1 sc0 ls0 ws1">HTML<span class="_ _0"></span> view</div></div></div></div>

    <div id="pf127" class="pf w0 h0 step slide flash" data-page-no="127" data-x="0" data-y="0"><div class="pc pc7c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg7f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Instead … templates</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">51</div><div class="t m0 x35 h72 y197 ff2 fs3 fc2 sc0 ls1e">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal<span class="fc2 ls0 ws1">: <span class="ff2">write as little HTML “by hand” as possible</span></span></span></div><div class="c x4d y198 w27 h73"><div class="t m0 x29 h74 y199 ff1 fse fc1 sc0 ls0 ws1">HTML<span class="_ _0"></span> template</div></div>
<div class="c x76 y198 w28 h73"><div class="t m0 x29 h74 y199 ff1 fse fc1 sc0 ls0 ws16">data</div></div>
<div class="c x77 y19a w29 h75"><div class="t m0 x67 h76 y19b ff2 fs1a fc2 sc0 ls0">+</div></div>
<div class="c x78 y19a w29 h75"><div class="t m0 x67 h76 y19b ff2 fs1a fc2 sc0 ls0">=</div></div>
<div class="c x79 y19c w2a h77"><div class="t m0 x7a h74 y19d ff1 fse fc1 sc0 ls1f ws1">rendered </div></div>
<div class="c x79 y19e w2a h78"><div class="t m0 x1e h74 y19f ff1 fse fc1 sc0 ls0 ws1">HTML<span class="_ _0"></span> view</div></div><div class="t m0 x35 h79 y1a0 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">Keeps the code clean &amp; separates logic fr<span class="_ _0"></span>om <span class="ff8">!</span></span></div>
<div class="t m0 x7b h2 y1a1 ff2 fs0 fc2 sc0 ls0 ws1">pr<span class="_ _0"></span>esentation markup</div>
<div class="t m0 x35 h7a y1a2 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">Dif<span class="_ _0"></span>fer<span class="_ _0"></span>ent <span class="ff1 fc9">template engines</span> exist for node.js</span></div>
<div class="t m0 x35 h7b y1a3 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">W<span class="_ _0"></span>e focus on <span class="ff1 fc9 ws0">EJS<span class="fc2 ws1"> <span class="ff2 ws0">(</span></span>E</span>mbedded <span class="ff1 fc9 ls6">J</span><span class="ws0">ava<span class="ff1 fc9">S</span>cript)</span><span class="ff1 ls2">, <span class="fc9 ls0">a template </span></span></span></div>
<div class="t m0 x7b h1 y1a4 ff1 fs0 fc9 sc0 ls8 ws1">engine and language</div>
<div class="t m0 x35 h7c y1a5 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">Dif<span class="_ _0"></span>fer<span class="_ _0"></span>ent <span class="ff1 fc9 ls8 ws9">versions</span> of EJS exist</span></div></div></div>

    <div id="pf128" class="pf w0 h0 step slide flash" data-page-no="128" data-x="0" data-y="0"><div class="pc pc7c w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg80.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Instead … templates</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">51</div><div class="t m0 x35 h72 y197 ff2 fs3 fc2 sc0 ls1e">•<span class="ff1 fs0 fc9 ls2 ws2 v1">Goal<span class="fc2 ls0 ws1">: <span class="ff2">write as little HTML “by hand” as possible</span></span></span></div><div class="c x4d y198 w27 h73"><div class="t m0 x29 h74 y199 ff1 fse fc1 sc0 ls0 ws1">HTML<span class="_ _0"></span> template</div></div>
<div class="c x76 y198 w28 h73"><div class="t m0 x29 h74 y199 ff1 fse fc1 sc0 ls0 ws16">data</div></div>
<div class="c x77 y19a w29 h75"><div class="t m0 x67 h76 y19b ff2 fs1a fc2 sc0 ls0">+</div></div>
<div class="c x78 y19a w29 h75"><div class="t m0 x67 h76 y19b ff2 fs1a fc2 sc0 ls0">=</div></div>
<div class="c x79 y19c w2a h77"><div class="t m0 x7a h74 y19d ff1 fse fc1 sc0 ls1f ws1">rendered </div></div>
<div class="c x79 y19e w2a h78"><div class="t m0 x1e h74 y19f ff1 fse fc1 sc0 ls0 ws1">HTML<span class="_ _0"></span> view</div></div><div class="t m0 x35 h79 y1a0 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">Keeps the code clean &amp; separates logic fr<span class="_ _0"></span>om <span class="ff8">!</span></span></div>
<div class="t m0 x7b h2 y1a1 ff2 fs0 fc2 sc0 ls0 ws1">pr<span class="_ _0"></span>esentation markup</div>
<div class="t m0 x35 h7a y1a2 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">Dif<span class="_ _0"></span>fer<span class="_ _0"></span>ent <span class="ff1 fc9">template engines</span> exist for node.js</span></div>
<div class="t m0 x35 h7b y1a3 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">W<span class="_ _0"></span>e focus on <span class="ff1 fc9 ws0">EJS<span class="fc2 ws1"> <span class="ff2 ws0">(</span></span>E</span>mbedded <span class="ff1 fc9 ls6">J</span><span class="ws0">ava<span class="ff1 fc9">S</span>cript)</span><span class="ff1 ls2">, <span class="fc9 ls0">a template </span></span></span></div>
<div class="t m0 x7b h1 y1a4 ff1 fs0 fc9 sc0 ls8 ws1">engine and language</div>
<div class="t m0 x35 h7c y1a5 ff2 fs3 fc2 sc0 ls1e">•<span class="fs0 ls0 ws1 v1">Dif<span class="_ _0"></span>fer<span class="_ _0"></span>ent <span class="ff1 fc9 ls8 ws9">versions</span> of EJS exist</span></div><div class="c x7c y0 w2b h7d"><div class="t m0 x20 h7e y1a6 ff2 fs1b fc2 sc0 ls0 ws17">https://www<span class="_ _2"></span>.npmjs.com/package/ejs</div></div></div></div>


    <div id="pf129" class="pf w0 h0 step slide flash" data-page-no="129" data-x="0" data-y="0"><div class="pc pc81 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg81.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Model-Vie<span class="_ _c"></span>w-Contr<span class="_ _5"></span>oller (MVC)</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">52</div></div></div>

    <div id="pf130" class="pf w0 h0 step slide flash" data-page-no="130" data-x="0" data-y="0"><div class="pc pc81 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg82.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Model-Vie<span class="_ _c"></span>w-Contr<span class="_ _5"></span>oller (MVC)</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">52</div><div class="t m0 x21 h5 ye9 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Standar<span class="_ _0"></span>d design patter<span class="_ _9"></span>n to keep <span class="ff1 fc9 ls2 ws2">logic</span>, <span class="ff1 fc9 ws0">data</span> and </span></div>
<div class="t m0 x24 h1 y61 ff1 fs0 fc9 sc0 ls0 ws0">presentation<span class="ff2 fc2 ws1"> separate</span></div></div></div>

    <div id="pf131" class="pf w0 h0 step slide flash" data-page-no="131" data-x="0" data-y="0"><div class="pc pc81 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg83.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Model-Vie<span class="_ _c"></span>w-Contr<span class="_ _5"></span>oller (MVC)</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">52</div><div class="t m0 x21 h5 ye9 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Standar<span class="_ _0"></span>d design patter<span class="_ _9"></span>n to keep <span class="ff1 fc9 ls2 ws2">logic</span>, <span class="ff1 fc9 ws0">data</span> and </span></div>
<div class="t m0 x24 h1 y61 ff1 fs0 fc9 sc0 ls0 ws0">presentation<span class="ff2 fc2 ws1"> separate</span></div><div class="t m0 x21 h26 y1a7 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">User r<span class="_ _0"></span>equest of a r<span class="_ _0"></span>esour<span class="_ _0"></span>ce fr<span class="_ _0"></span>om the server triggers a </span></div>
<div class="t m0 x24 h2 y1a8 ff2 fs0 fc2 sc0 ls0 ws1">cascade of events: </div>
<div class="t m0 x68 h2 y1a9 ff2 fs0 fc2 sc0 ls0 ws18">1. <span class="ff1 fc9 ws0 v6">controller</span><span class="ws1 v6"> r<span class="_ _0"></span>equests application data fr<span class="_ _0"></span>om the <span class="ff1 fc9 ls8 ws9">model</span> </span></div>
<div class="t m0 x68 h2 y1aa ff2 fs0 fc2 sc0 ls0 ws18">2. <span class="ff1 fc9 ws0 v6">controller</span><span class="ws1 v6"> passes the data to the <span class="ff1 fc9 ls8 ws9">view</span> </span></div>
<div class="t m0 x68 h2 y1ab ff2 fs0 fc2 sc0 ls0 ws18">3. <span class="ff1 fc9 ls8 ws9 v6">view</span><span class="ws1 v6"> for<span class="_ _9"></span>mats the data for the user (template engines </span></div>
<div class="t m0 x7d h2 yf0 ff2 fs0 fc2 sc0 ls0 ws1">ar<span class="_ _0"></span>e used her<span class="_ _0"></span>e)</div></div></div>


    <div id="pf132" class="pf w0 h0 step slide flash" data-page-no="132" data-x="0" data-y="0"><div class="pc pc84 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg84.png"><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">53</div><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Model-Vie<span class="_ _c"></span>w-Contr<span class="_ _5"></span>oller (MVC)</div><div class="t m0 x47 h7f yd ff2 fs1c fc4 sc0 ls0 ws1">Image sour<span class="_ _0"></span>ce: Node.js in Action, page 265</div></div></div>


    <div id="pf133" class="pf w0 h0 step slide flash" data-page-no="133" data-x="0" data-y="0"><div class="pc pc85 w0 h0">
    <video width=100% style="position: absolute; top: 175px; z-index: 2;"><source src="videos/ejs1-console.mov" type="video/mp4"></video>
    <img class="bi x0 y0 w0 h0" alt="" src="img/bg85.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs I</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">54</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div></div></div>


    <div id="pf135" class="pf w0 h0 step slide flash" data-page-no="135" data-x="0" data-y="0"><div class="pc pc85 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg87.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs I</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">54</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x7e y1ae w2d h81"><div class="t m0 x49 hd y1af ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x49 hd y1b0 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7">&apos;&lt;%= message %&gt;&apos;</span><span class="ls0">;</span></span></div><div class="t m0 x49 hd y1b1 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {message: <span class="fc7">&apos;Hello template!&apos;</span>};</span></div><div class="t m0 x49 hd y1b2 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));<span class="ls0"> </span></span></span></div></div>
<div class="c x7e y1b3 w2e h82"><div class="t m0 x49 h1c y1b4 ff2 fs9 fc9 sc0 ls0 ws1">Star<span class="_ _14"></span>t on the console: <span class="ff5 ls20">node ejs1.js</span></div></div>
<div class="c x7f y1b5 w2f h83"><div class="t m0 x49 h84 y1b6 ff5 fs9 fc9 sc0 ls20">ejs1.js</div></div></div></div>

    <div id="pf136" class="pf w0 h0 step slide flash" data-page-no="136" data-x="0" data-y="0"><div class="pc pc85 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg88.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs I</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">54</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x7e y1ae w2d h81"><div class="t m0 x49 hd y1af ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x49 hd y1b0 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7">&apos;&lt;%= message %&gt;&apos;</span><span class="ls0">;</span></span></div><div class="t m0 x49 hd y1b1 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {message: <span class="fc7">&apos;Hello template!&apos;</span>};</span></div><div class="t m0 x49 hd y1b2 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));<span class="ls0"> </span></span></span></div></div>
<div class="c x7e y1b3 w2e h82"><div class="t m0 x49 h1c y1b4 ff2 fs9 fc9 sc0 ls0 ws1">Star<span class="_ _14"></span>t on the console: <span class="ff5 ls20">node ejs1.js</span></div></div>
<div class="c x7f y1b5 w2f h83"><div class="t m0 x49 h84 y1b6 ff5 fs9 fc9 sc0 ls20">ejs1.js</div></div><div class="c x50 y1b7 w30 h85"><div class="t m0 x18 h86 y1b8 ff4 fs3 fc2 sc0 ls3 ws1">&lt;%= <span class="ffa ls6">outputs the value into the </span></div><div class="t m0 x18 h86 y1b9 ffa fs3 fc2 sc0 ls0 ws1">template (HTML<span class="_ _c"></span> escaped)</div></div></div></div>


    <div id="pf137" class="pf w0 h0 step slide flash" data-page-no="137" data-x="0" data-y="0"><div class="pc pc89 w0 h0">
    <video width=100% style="position: absolute; top: 140px; z-index: 2;"><source src="videos/ejs2-console.mov" type="video/mp4"></video>
    <img class="bi x0 y0 w0 h0" alt="" src="img/bg89.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs II</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">55</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x0 y1ba w31 h87"><div class="t m0 x49 hd y1bb ff4 fs3 fc1 sc0 ls3 ws1">$ node -e &quot;require(&apos;repl&apos;).start({ignoreUndefined: true})&quot;</div></div></div></div>

    <div id="pf139" class="pf w0 h0 step slide flash" data-page-no="139" data-x="0" data-y="0"><div class="pc pc89 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg8b.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs II</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">55</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x0 y1ba w31 h87"><div class="t m0 x49 hd y1bb ff4 fs3 fc1 sc0 ls3 ws1">$ node -e &quot;require(&apos;repl&apos;).start({ignoreUndefined: true})&quot;</div></div><div class="c x0 y1bc w0 h32"><div class="t m0 x14 h88 y1bd ff2 fsf fc1 sc0 ls0 ws1">By default, ejs escapes special values in the context.</div></div></div></div>

    <div id="pf140" class="pf w0 h0 step slide flash" data-page-no="140" data-x="0" data-y="0"><div class="pc pc89 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg8c.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs II</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">55</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x0 y1ba w31 h87"><div class="t m0 x49 hd y1bb ff4 fs3 fc1 sc0 ls3 ws1">$ node -e &quot;require(&apos;repl&apos;).start({ignoreUndefined: true})&quot;</div></div><div class="c x0 y1bc w0 h32"><div class="t m0 x14 h88 y1bd ff2 fsf fc1 sc0 ls0 ws1">By default, ejs escapes special values in the context.</div></div><div class="c x51 y1be w32 h89"><div class="t m0 x49 hd y1bf ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x49 hd y1c0 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7">‘&lt;%- message %&gt;&apos;</span><span class="ls0">;</span></span></div><div class="t m0 x49 hd y1c1 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {message: <span class="fc7">&quot;&lt;script&gt;alert(&apos;</span></span></div><div class="t m0 x49 hd y1c2 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc7">              hi!’);&lt;/script&gt;&quot;<span class="fc2">};</span></span></div><div class="t m0 x49 hd y1c3 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div></div></div>

    <div id="pf141" class="pf w0 h0 step slide flash" data-page-no="141" data-x="0" data-y="0"><div class="pc pc89 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg8d.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A first look at ejs II</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">55</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x0 y1ba w31 h87"><div class="t m0 x49 hd y1bb ff4 fs3 fc1 sc0 ls3 ws1">$ node -e &quot;require(&apos;repl&apos;).start({ignoreUndefined: true})&quot;</div></div><div class="c x0 y1bc w0 h32"><div class="t m0 x14 h88 y1bd ff2 fsf fc1 sc0 ls0 ws1">By default, ejs escapes                                          ext.</div></div><div class="c x51 y1be w32 h89"><div class="t m0 x49 hd y1bf ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">requir</span><span class="fc7 ws4"></span> </span></div><div class="t m0 x49 hd y1c0 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7">‘&lt;%- message %&gt;&apos;</span><span class="ls0">;</span></span></div><div class="t m0 x49 hd y1c1 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {message: <span class="fc7">&quot;&lt;script&gt;alert(&apos;</span></span></div><div class="t m0 x49 hd y1c2 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc7">              hi!’);&lt;/script&gt;&quot;<span class="fc2">};</span></span></div><div class="t m0 x49 hd y1c3 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div><div class="c x56 y1c4 w33 h8a"><div class="t m0 x18 h86 y1c5 ff4 fs3 fc2 sc0 ls3 ws1">&lt;%- <span class="ffa ls6">outputs the value into the </span></div><div class="t m0 x18 hc y1c6 ffa fs3 fc2 sc0 ls6 ws1">template (unescaped); <span class="ff2 ls0">enables </span></div><div class="t m0 x18 hc y1c7 ff2 fs3 fc2 sc0 ls0 ws1">cr<span class="_ _0"></span>oss-site scripting attacks</div></div></div></div>


    <!-- asq-8 <div id="pf142" class="pf w0 h0 step slide flash" data-page-no="8e" data-x="0" data-y="0"><div class="pc pc8e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg8e.png"></div></div>-->

    <div id="pf143" class="pf w0 h0 step slide flash" data-page-no="143" data-x="0" data-y="0"><div class="pc pc8e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg8f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div>
<div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">57</div>
<div class="c x0 y1c9 w0 h8c"><div class="t m0 x80 hd y1ca ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1cb ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1cc ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">‘wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1cd ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> transformUpper = <span class="ff5 ws4">function</span> (inputString) { </span></div><div class="t m0 x80 hd y1ce ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                     <span class="ff5 ws4">return</span> inputString.<span class="fc8 ws4">toUpperCase</span>(); </span></div><div class="t m0 x80 hd y1cf ff4 fs3 fc2 sc0 ls1d ws1"> <span class="fc5 ls3"> 6<span class="fc2">   <span class="ls0">}</span></span></span></div><div class="t m0 x80 hd y1d0 ff4 fs3 fc5 sc0 ls3 ws1">  7 </div><div class="t m0 x80 hd y1d1 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input.join(&quot;, &quot;))</span></span></div><div class="t m0 x80 hd y1d2 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc7">               ; %&gt;&apos;<span class="fc2 ls0">;</span></span></div><div class="t m0 x80 hd y1d3 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1d4 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1d5 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  helperFunc: transformUpper</span></div><div class="t m0 x80 hd y1d6 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">};</span></div><div class="t m0 x80 hd y1d7 ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x80 hd y1d8 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div>
<div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div></div></div>

    <div id="pf144" class="pf w0 h0 step slide flash" data-page-no="144" data-x="0" data-y="0"><div class="pc pc8e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg90.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div>
<div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">57</div>
<div class="c x0 y1c9 w0 h8c"><div class="t m0 x80 hd y1ca ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1cb ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1cc ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">‘wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1cd ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> transformUpper = <span class="ff5 ws4">function</span> (inputString) { </span></div><div class="t m0 x80 hd y1ce ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                     <span class="ff5 ws4">return</span> inputString.<span class="fc8 ws4">toUpperCase</span>(); </span></div><div class="t m0 x80 hd y1cf ff4 fs3 fc2 sc0 ls1d ws1"> <span class="fc5 ls3"> <span class="fc2">   <span class="ls0"></span></span></span></div><div class="t m0 x80 hd y1d0 ff4 fs3 fc5 sc0 ls3 ws1">  </div><div class="t m0 x80 hd y1d1 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input.join(&quot;, &quot;))</span></span></div><div class="t m0 x80 hd y1d2 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc7">               ; %&gt;&apos;<span class="fc2 ls0">;</span></span></div><div class="t m0 x80 hd y1d3 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1d4 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1d5 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  helperFunc: transformUpper</span></div><div class="t m0 x80 hd y1d6 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">};</span></div><div class="t m0 x80 hd y1d7 ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x80 hd y1d8 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div>
<div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x20 y1d9 w34 h8d"><div class="t m0 x67 h11 y1da ff1 fs3 fc2 sc0 ls5 ws1">define <span class="ff2 ls0">your own function</span></div></div></div></div>

    <div id="pf145" class="pf w0 h0 step slide flash" data-page-no="145" data-x="0" data-y="0"><div class="pc pc8e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg91.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div>
<div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">57</div>
<div class="c x0 y1c9 w0 h8c"><div class="t m0 x80 hd y1ca ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1cb ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1cc ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">‘wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1cd ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> transformUpper = <span class="ff5 ws4">function</span> (inputString) { </span></div><div class="t m0 x80 hd y1ce ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                     <span class="ff5 ws4">return</span> inputString.<span class="fc8 ws4">toUpperCase</span>(); </span></div><div class="t m0 x80 hd y1cf ff4 fs3 fc2 sc0 ls1d ws1"> <span class="fc5 ls3"> <span class="fc2">   <span class="ls0"></span></span></span></div><div class="t m0 x80 hd y1d0 ff4 fs3 fc5 sc0 ls3 ws1">   </div><div class="t m0 x80 hd y1d1 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input.join(&quot;, &quot;))</span></span></div><div class="t m0 x80 hd y1d2 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc7">               ; %&gt;&apos;<span class="fc2 ls0">;</span></span></div><div class="t m0 x80 hd y1d3 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1d4 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1d5 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  helperFunc: transformUpper</span></div><div class="t m0 x80 hd y1d6 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">};</span></div><div class="t m0 x80 hd y1d7 ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x80 hd y1d8 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div>
<div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x20 y1d9 w34 h8d"><div class="t m0 x67 h11 y1da ff1 fs3 fc2 sc0 ls5 ws1">define <span class="ff2 ls0">your own function</span></div></div><div class="c x81 y1db w35 h8e"><div class="t m0 x67 hc y1dc ff2 fs3 fc2 sc0 ls0">function</div></div></div></div>

    <div id="pf146" class="pf w0 h0 step slide flash" data-page-no="146" data-x="0" data-y="0"><div class="pc pc8e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg92.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div>
<div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">57</div>
<div class="c x0 y1c9 w0 h8c"><div class="t m0 x80 hd y1ca ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1cb ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1cc ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">‘wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1cd ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> transformUpper = <span class="ff5 ws4">function</span> (inputString) { </span></div><div class="t m0 x80 hd y1ce ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                     <span class="ff5 ws4">return</span> inputString.<span class="fc8 ws4">toUpperCase</span>(); </span></div><div class="t m0 x80 hd y1cf ff4 fs3 fc2 sc0 ls1d ws1"> <span class="fc5 ls3"> <span class="fc2">   <span class="ls0"></span></span></span></div><div class="t m0 x80 hd y1d0 ff4 fs3 fc5 sc0 ls3 ws1">   </div><div class="t m0 x80 hd y1d1 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input.join(&quot;, &quot;))</span></span></div><div class="t m0 x80 hd y1d2 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc7">               ; %&gt;&apos;<span class="fc2 ls0">;</span></span></div><div class="t m0 x80 hd y1d3 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1d4 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1d5 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  helperFunc: transformUpper</span></div><div class="t m0 x80 hd y1d6 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">};</span></div><div class="t m0 x80 hd y1d7 ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x80 hd y1d8 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div>
<div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x20 y1d9 w34 h8d"><div class="t m0 x67 h11 y1da ff1 fs3 fc2 sc0 ls5 ws1">define <span class="ff2 ls0">your own function</span></div></div><div class="c x81 y1db w35 h8e"><div class="t m0 x67 hc y1dc ff2 fs3 fc2 sc0 ls0">function</div></div><div class="c x82 y1dd w36 h8e"><div class="t m0 x11 hc y1de ff2 fs3 fc2 sc0 ls0">array</div></div></div></div>

    <div id="pf147" class="pf w0 h0 step slide flash" data-page-no="147" data-x="0" data-y="0"><div class="pc pc8e w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg93.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div>
<div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">57</div>
<div class="c x0 y1c9 w0 h8c"><div class="t m0 x80 hd y1ca ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1cb ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1cc ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">‘wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1cd ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> transformUpper = <span class="ff5 ws4">function</span> (inputString) { </span></div><div class="t m0 x80 hd y1ce ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                     <span class="ff5 ws4">return</span> inputString.<span class="fc8 ws4">toUpperCase</span>(); </span></div><div class="t m0 x80 hd y1cf ff4 fs3 fc2 sc0 ls1d ws1"> <span class="fc5 ls3"> <span class="fc2">   <span class="ls0"></span></span></span></div><div class="t m0 x80 hd y1d0 ff4 fs3 fc5 sc0 ls3 ws1">   </div><div class="t m0 x80 hd y1d1 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input.join(&quot;, &quot;))</span></span></div><div class="t m0 x80 hd y1d2 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="fc7">               ; %&gt;&apos;<span class="fc2 ls0">;</span></span></div><div class="t m0 x80 hd y1d3 ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1d4 ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1d5 ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  helperFunc: transformUpper</span></div><div class="t m0 x80 hd y1d6 ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">};</span></div><div class="t m0 x80 hd y1d7 ff4 fs3 fc5 sc0 ls3 ws1"> 14 </div><div class="t m0 x80 hd y1d8 ff4 fs3 fc5 sc0 ls3 ws1"> 15 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div>
<div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x20 y1d9 w34 h8d"><div class="t m0 x67 h11 y1da ff1 fs3 fc2 sc0 ls5 ws1">define <span class="ff2 ls0">your own function</span></div></div><div class="c x81 y1db w35 h8e"><div class="t m0 x67 hc y1dc ff2 fs3 fc2 sc0 ls0">function</div></div><div class="c x82 y1dd w36 h8e"><div class="t m0 x11 hc y1de ff2 fs3 fc2 sc0 ls0">array</div></div><div class="c x83 y1df w37 h8d"><div class="t m0 x67 h11 y1e0 ff1 fs3 fc2 sc0 ls5 ws1">define <span class="ff2 ls0">the context object</span></div></div></div></div>

<div id="asq-8" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="147a" data-timer="60">
    <div style="display: flex;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.9); width: 1000px;"><code style="background-color: transparent;"><b>
1 var ejs = require('ejs');
2
3 var people = ['Wolverine', 'paul', 'picard'];
4 var X = function (input) { if(input){
5                                 return input[0];
6                            }
7                            return "";
8 }
9
10 var template = '<%= helperFunc(input); %>';
11 var context = {
12   input: people,
13   helperFunc: X
14 };
15
16 console.log(ejs.render(template, context));
</b></code></pre>
      </div>
      <asq-exercise style="margin-top: 10px; height: 300px; padding: 10px 20px; background: rgba(255, 255, 255, 0.9);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">What is shown in the console?</h4></asq-stem>
            <asq-option class="smaller" style="" name="A.">The first letter of each array element</asq-option>
     <asq-option class="smaller" style="margin-top: 10px;" name="B." correct>The first array element</asq-option>
     <asq-option class="smaller" style="margin-top: 10px;" name="C.">An empty string if the input is not null</asq-option>
     <asq-option class="smaller" style="margin-top: 10px;" name="D.">Nothing, line 13 produces an error</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@fknet</div>
    </div>

    <div id="pf148" class="pf w0 h0 step slide flash" data-page-no="148" data-x="0" data-y="0"><div class="pc pc94 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg94.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div><div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">58</div><div class="c x0 y1e1 w0 h8f"><div class="t m0 x80 hd y1e2 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1e3 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1e4 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">&apos;Wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1e5 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> first = <span class="ff5 ws4">function</span> (input) { <span class="ff5 ws4">if</span>(input){</span></div><div class="t m0 x80 hd y1e6 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                                <span class="ff5 ws4">return</span> input<span class="ff5 ws4">[0]</span><span class="ls0">;</span></span></div><div class="t m0 x80 hd y1e7 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">                              }</span></div><div class="t m0 x80 hd y1e8 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                              <span class="ff5 ws4">return</span><span class="ls4"> </span><span class="fc7 ws4">&quot;&quot;</span><span class="ls0">;</span></span></div><div class="t m0 x80 hd y1e9 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ls0">}</span></div><div class="t m0 x80 hd y1ea ff4 fs3 fc5 sc0 ls3 ws1">  9 </div><div class="t m0 x80 hd y1eb ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input); %&gt;&apos;</span><span class="ls0">;</span></span></div><div class="t m0 x80 hd y1ec ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1ed ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1ee ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">  helperFunc: first</span></div><div class="t m0 x80 hd y1ef ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2">};</span></div><div class="t m0 x80 hd y1f0 ff4 fs3 fc5 sc0 ls3 ws1"> 15 </div><div class="t m0 x80 hd y1f1 ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div></div></div>


    <div id="pf149" class="pf w0 h0 step slide flash" data-page-no="149" data-x="0" data-y="0"><div class="pc pc94 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg95.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs &amp; user<span class="_ _15"></span>-defined functions</div><div class="t m0 x21 h8b y1c8 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Often you want to make slight changes: <span class="ff1 fc9 ws0">transform</span> or <span class="ff1 fc9 ws0">filter</span></span></div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">58</div><div class="c x0 y1e1 w0 h8f"><div class="t m0 x80 hd y1e2 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">var</span><span class="fc2"> ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x80 hd y1e3 ff4 fs3 fc5 sc0 ls3 ws1">  2 </div><div class="t m0 x80 hd y1e4 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2 ws4">var</span><span class="fc2"> people = [<span class="fc7 ws4">&apos;Wolverine&apos;</span>, <span class="fc7 ws4">&apos;paul&apos;</span>, <span class="fc7 ws4">&apos;picard&apos;</span>];</span></div><div class="t m0 x80 hd y1e5 ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="ff5 fc2 ws4">var</span><span class="fc2"> first = <span class="ff5 ws4">function</span> (input) { <span class="ff5 ws4">if</span>(input){</span></div><div class="t m0 x80 hd y1e6 ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">                                <span class="ff5 ws4">return</span> input<span class="ff5 ws4">[0]</span><span class="ls0">;</span></span></div><div class="t m0 x80 hd y1e7 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">                              }</span></div><div class="t m0 x80 hd y1e8 ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">                              <span class="ff5 ws4">return</span><span class="ls4"> </span><span class="fc7 ws4">&quot;&quot;</span><span class="ls0">;</span></span></div><div class="t m0 x80 hd y1e9 ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ls0">}</span></div><div class="t m0 x80 hd y1ea ff4 fs3 fc5 sc0 ls3 ws1">  9 </div><div class="t m0 x80 hd y1eb ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="ff5 fc2 ws4">var</span><span class="fc2"> template = <span class="fc7">&apos;&lt;%= helperFunc(input); %&gt;&apos;</span><span class="ls0">;</span></span></div><div class="t m0 x80 hd y1ec ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="ff5 fc2 ws4">var</span><span class="fc2"> context = {</span></div><div class="t m0 x80 hd y1ed ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="fc2">  input: people,</span></div><div class="t m0 x80 hd y1ee ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="fc2">  helperFunc: first</span></div><div class="t m0 x80 hd y1ef ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="fc2">};</span></div><div class="t m0 x80 hd y1f0 ff4 fs3 fc5 sc0 ls3 ws1"> 15 </div><div class="t m0 x80 hd y1f1 ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="fc2 ws4">console.<span class="fc8">log</span>(ejs.<span class="fc8">render</span><span class="ws1">(template, context));</span></span></div></div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="c x84 y1f2 w34 h8d"><div class="t m0 x47 h11 y1f3 ff1 fs3 fc2 sc0 ls5 ws1">define <span class="ff2 ls0">your own function</span></div></div></div></div>


    <div id="pf150" class="pf w0 h0 step slide flash" data-page-no="150" data-x="0" data-y="0"><div class="pc pc96 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg96.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs and Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">59</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="t m0 x31 h66 y1f4 ff2 fs18 fc2 sc0 ls0 ws1">* The <span class="ff4 ls21 ws19">forEach()</span> method executes a pr<span class="_ _0"></span>ovided function once per array element.</div><div class="t m0 x85 hd y1f5 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x85 hd y1f6 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7 ws4">&apos;&lt;%<span class="ls0 ws1"> </span></span></span></div><div class="t m0 x85 hd y11c ff4 fs3 fc7 sc0 ls3 ws1">                    movies.forEach(function(movie){</div><div class="t m0 x86 hd y1f7 ff4 fs3 fc7 sc0 ls3 ws1">             console.log(movie.title+&quot;/&quot;+movie.release);</div><div class="t m0 x86 hd y1f8 ff4 fs3 fc7 sc0 ls3 ws1">          })</div><div class="t m0 x86 hd y94 ff4 fs3 fc7 sc0 ls3 ws1">          %&gt;&apos;<span class="fc2 ls0">;</span></div><div class="t m0 x85 hd y1f9 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {<span class="fc7 ws4">&apos;movies&apos;</span>: [</span></div><div class="t m0 x85 hd y1fa ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        {title:<span class="fc7">&apos;The Hobbit&apos;, </span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0 ws1a">},</span></span></span></div><div class="t m0 x85 hd y1fb ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7 ws4">X-Men&apos;</span></span>, release:<span class="fcd ws4">&apos;2016&apos;</span>},</span></div><div class="t m0 x85 hd y1fc ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7">Superman V&apos;, </span></span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0">}</span></span></span></div><div class="t m0 x85 hd y1fd ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">]};</span></div><div class="t m0 x85 hd y1fe ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">ejs.<span class="fc8">render</span><span class="ws1">(template, context);</span></span></div></div></div>

    <div id="pf151" class="pf w0 h0 step slide flash" data-page-no="151" data-x="0" data-y="0"><div class="pc pc96 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg97.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs and Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">59</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="t m0 x31 h66 y1f4 ff2 fs18 fc2 sc0 ls0 ws1">* The <span class="ff4 ls21 ws19">forEach()</span> method executes a pr<span class="_ _0"></span>ovided function once per array element.</div><div class="t m0 x85 hd y1f5 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x85 hd y1f6 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7 ws4">&apos;&lt;%<span class="ls0 ws1"> </span></span></span></div><div class="t m0 x85 hd y11c ff4 fs3 fc7 sc0 ls3 ws1">                    movies.forEach(function(movie){</div><div class="t m0 x86 hd y1f7 ff4 fs3 fc7 sc0 ls3 ws1">             console.log(movie.title+&quot;/&quot;+movie.release);</div><div class="t m0 x86 hd y1f8 ff4 fs3 fc7 sc0 ls3 ws1">          })</div><div class="t m0 x86 hd y94 ff4 fs3 fc7 sc0 ls3 ws1">          %&gt;&apos;<span class="fc2 ls0">;</span></div><div class="t m0 x85 hd y1f9 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {<span class="fc7 ws4">&apos;movies&apos;</span>: [</span></div><div class="t m0 x85 hd y1fa ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        {title:<span class="fc7">&apos;The Hobbit&apos;, </span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0 ws1a">},</span></span></span></div><div class="t m0 x85 hd y1fb ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7 ws4">X-Men&apos;</span></span>, release:<span class="fcd ws4">&apos;2016&apos;</span>},</span></div><div class="t m0 x85 hd y1fc ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7">Superman V&apos;, </span></span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0">}</span></span></span></div><div class="t m0 x85 hd y1fd ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">]};</span></div><div class="t m0 x85 hd y1fe ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">ejs.<span class="fc8">render</span><span class="ws1">(template, context);</span></span></div><div class="c x87 y1ff w38 h85"><div class="t m0 x18 hc y200 ffa fs3 fc2 sc0 ls0 ws14">use<span class="ff2 ws1">  <span class="ff4 ls3">&lt;% </span><span class="ffa">for control-flow </span></span></div><div class="t m0 x18 h86 y201 ffa fs3 fc2 sc0 ls6 ws1">purposes; no output </div></div></div></div>

    <div id="pf152" class="pf w0 h0 step slide flash" data-page-no="152" data-x="0" data-y="0"><div class="pc pc96 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg98.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs and Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">59</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="t m0 x31 h66 y1f4 ff2 fs18 fc2 sc0 ls0 ws1">* The <span class="ff4 ls21 ws19">forEach()</span> method executes a pr<span class="_ _0"></span>ovided function once per array element.</div><div class="t m0 x85 hd y1f5 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x85 hd y1f6 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7 ws4">&apos;&lt;%<span class="ls0 ws1"> </span></span></span></div><div class="t m0 x85 hd y11c ff4 fs3 fc7 sc0 ls3 ws1">                    movies.forEach(function(movie){</div><div class="t m0 x86 hd y1f7 ff4 fs3 fc7 sc0 ls3 ws1">             console.log(movie.title+&quot;/&quot;+movie.release);</div><div class="t m0 x86 hd y1f8 ff4 fs3 fc7 sc0 ls3 ws1">          })</div><div class="t m0 x86 hd y94 ff4 fs3 fc7 sc0 ls3 ws1">          %&gt;&apos;<span class="fc2 ls0">;</span></div><div class="t m0 x85 hd y1f9 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {<span class="fc7 ws4">&apos;movies&apos;</span>: [</span></div><div class="t m0 x85 hd y1fa ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        {title:<span class="fc7">&apos;The Hobbit&apos;, </span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0 ws1a">},</span></span></span></div><div class="t m0 x85 hd y1fb ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7 ws4">X-Men&apos;</span></span>, release:<span class="fcd ws4">&apos;2016&apos;</span>},</span></div><div class="t m0 x85 hd y1fc ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7">Superman V&apos;, </span></span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0">}</span></span></span></div><div class="t m0 x85 hd y1fd ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">]};</span></div><div class="t m0 x85 hd y1fe ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">ejs.<span class="fc8">render</span><span class="ws1">(template, context);</span></span></div><div class="c x87 y1ff w38 h85"><div class="t m0 x18 hc y200 ffa fs3 fc2 sc0 ls0 ws14">use<span class="ff2 ws1">  <span class="ff4 ls3">&lt;% </span><span class="ffa">for control-flow </span></span></div><div class="t m0 x18 h86 y201 ffa fs3 fc2 sc0 ls6 ws1">purposes; no output </div></div><div class="c x88 y202 w39 h90"><div class="t m0 x18 hd y203 ff4 fs3 fc1 sc0 ls3 ws4">Array.prototype.forEach()<span class="ls0">*</span></div></div></div></div>

    <div id="pf153" class="pf w0 h0 step slide flash" data-page-no="153" data-x="0" data-y="0"><div class="pc pc96 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg99.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs and Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">59</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="t m0 x31 h66 y1f4 ff2 fs18 fc2 sc0 ls0 ws1">* The <span class="ff4 ls21 ws19">forEach()</span> method executes a pr<span class="_ _0"></span>ovided function once per array element.</div><div class="t m0 x85 hd y1f5 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x85 hd y1f6 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7 ws4">&apos;&lt;%<span class="ls0 ws1"> </span></span></span></div><div class="t m0 x85 hd y11c ff4 fs3 fc7 sc0 ls3 ws1">                    movies.forEach(function(movie){</div><div class="t m0 x86 hd y1f7 ff4 fs3 fc7 sc0 ls3 ws1">             console.log(movie.title+&quot;/&quot;+movie.release);</div><div class="t m0 x86 hd y1f8 ff4 fs3 fc7 sc0 ls3 ws1">          })</div><div class="t m0 x86 hd y94 ff4 fs3 fc7 sc0 ls3 ws1">          %&gt;&apos;<span class="fc2 ls0">;</span></div><div class="t m0 x85 hd y1f9 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {<span class="fc7 ws4">&apos;movies&apos;</span>: [</span></div><div class="t m0 x85 hd y1fa ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        {title:<span class="fc7">&apos;The Hobbit&apos;, </span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0 ws1a">},</span></span></span></div><div class="t m0 x85 hd y1fb ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7 ws4">X-Men&apos;</span></span>, release:<span class="fcd ws4">&apos;2016&apos;</span>},</span></div><div class="t m0 x85 hd y1fc ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7">Superman V&apos;, </span></span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0">}</span></span></span></div><div class="t m0 x85 hd y1fd ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">]};</span></div><div class="t m0 x85 hd y1fe ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">ejs.<span class="fc8">render</span><span class="ws1">(template, context);</span></span></div><div class="c x87 y1ff w38 h85"><div class="t m0 x18 hc y200 ffa fs3 fc2 sc0 ls0 ws14">use<span class="ff2 ws1">  <span class="ff4 ls3">&lt;% </span><span class="ffa">for control-flow </span></span></div><div class="t m0 x18 h86 y201 ffa fs3 fc2 sc0 ls6 ws1">purposes; no output </div></div><div class="c x88 y202 w39 h90"><div class="t m0 x18 hd y203 ff4 fs3 fc1 sc0 ls3 ws4">Array.prototype.forEach()<span class="ls0">*</span></div></div><div class="c x89 y204 w3a h91"><div class="t m0 x18 h86 y205 ffa fs3 fc2 sc0 ls6 ws1">applied to each element</div></div></div></div>

    <div id="pf154" class="pf w0 h0 step slide flash" data-page-no="154" data-x="0" data-y="0"><div class="pc pc96 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg9a.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs and Ja<span class="_ _a"></span>vaScript</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">59</div><div class="c x2a y1ac w2c h80"><div class="t m0 x1f h11 y1ad ff1 fs3 fc1 sc0 ls0 ws1">npm install ejs</div></div><div class="t m0 x31 h66 y1f4 ff2 fs18 fc2 sc0 ls0 ws1">* The <span class="ff4 ls21 ws19">forEach()</span> method executes a pr<span class="_ _0"></span>ovided function once per array element.</div><div class="t m0 x85 hd y1f5 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="fc2">var ejs = <span class="fc8 ws4">require</span>(<span class="fc7 ws4">&apos;ejs&apos;</span>);</span></div><div class="t m0 x85 hd y1f6 ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="fc2">var template = <span class="fc7 ws4">&apos;&lt;%<span class="ls0 ws1"> </span></span></span></div><div class="t m0 x85 hd y11c ff4 fs3 fc7 sc0 ls3 ws1">                    movies.forEach(function(movie){</div><div class="t m0 x86 hd y1f7 ff4 fs3 fc7 sc0 ls3 ws1">             console.log(movie.title+&quot;/&quot;+movie.release);</div><div class="t m0 x86 hd y1f8 ff4 fs3 fc7 sc0 ls3 ws1">          })</div><div class="t m0 x86 hd y94 ff4 fs3 fc7 sc0 ls3 ws1">          %&gt;&apos;<span class="fc2 ls0">;</span></div><div class="t m0 x85 hd y1f9 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="fc2">var context = {<span class="fc7 ws4">&apos;movies&apos;</span>: [</span></div><div class="t m0 x85 hd y1fa ff4 fs3 fc5 sc0 ls3 ws1">  4 <span class="fc2">        {title:<span class="fc7">&apos;The Hobbit&apos;, </span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0 ws1a">},</span></span></span></div><div class="t m0 x85 hd y1fb ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7 ws4">X-Men&apos;</span></span>, release:<span class="fcd ws4">&apos;2016&apos;</span>},</span></div><div class="t m0 x85 hd y1fc ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="fc2">        {title:<span class="fcd">&apos;<span class="fc7">Superman V&apos;, </span></span><span class="ws4">release:<span class="fcc">2014</span><span class="ls0">}</span></span></span></div><div class="t m0 x85 hd y1fd ff4 fs3 fc5 sc0 ls3 ws1">  7 <span class="fc2">]};</span></div><div class="t m0 x85 hd y1fe ff4 fs3 fc5 sc0 ls3 ws1">  8 <span class="fc2 ws4">ejs.<span class="fc8">render</span><span class="ws1">(template, context);</span></span></div><div class="c x87 y1ff w38 h85"><div class="t m0 x18 hc y200 ffa fs3 fc2 sc0 ls0 ws14">use<span class="ff2 ws1">  <span class="ff4 ls3">&lt;% </span><span class="ffa">for control-flow </span></span></div><div class="t m0 x18 h86 y201 ffa fs3 fc2 sc0 ls6 ws1">purposes; no output </div></div><div class="c x88 y202 w39 h90"><div class="t m0 x18 hd y203 ff4 fs3 fc1 sc0 ls3 ws4">Array.prototype.forEach()<span class="ls0">*</span></div></div><div class="c x89 y204 w3a h91"><div class="t m0 x18 h86 y205 ffa fs3 fc2 sc0 ls6 ws1">applied to each element</div></div></div></div>


    <div id="asq-9" class="step flash flex-cc" data-x="0" data-y="0" data-page-no="155" data-timer="60">
    <div style="display: flex;">
     <pre class="x-small trans" style="background-color: rgba(255, 255, 255, 0.9); width: 1000px;"><code style="background-color: transparent;"><b>
var ejs = require('ejs');
var template =
      '<% if(user) {
        console.log("Hi "+user);
        if(user.age>=18){
          console.log("(adult)");
        }
        else {console.log("(minor)");}
      } %>';
var context = {user: 'Tom', age:26,
               address:'Mekelweg 4'};
ejs.render(template, context);
</b></code></pre>
      </div>
      <asq-exercise style="margin-top: 10px; height: 300px; padding: 10px 20px; background: rgba(255, 255, 255, 0.9);">
          <asq-stem></asq-stem>
          <asq-multi-choice-q>
            <asq-stem><h4 class="small" style="line-height: 1.2;">What is shown in the console?</h4></asq-stem>
            <asq-option class="smaller" style="" name="A.">Hi Tom (adult)</asq-option>
     <asq-option class="smaller" style="margin-top: 10px;" name="B." correct>Hi Tom (minor)</asq-option>
     <asq-option class="smaller" style="margin-top: 10px;" name="C.">Hi Tom</asq-option>
     <asq-option class="smaller" style="margin-top: 10px;" name="D.">Nothing is shown</asq-option>
          </asq-multi-choice-q>
      </asq-exercise>
      
      <div class="flickr-credit">flickr@stratman2</div>
    </div>

    <div id="pf156" class="pf w0 h0 step slide flash" data-page-no="156" data-x="0" data-y="0"><div class="pc pc9b w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg9c.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Configuring vie<span class="_ _c"></span>ws with expr<span class="_ _2"></span>ess</div>
<div class="t m0 x21 h5 yf1 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v1">Setting</span><span class="fs0 ls0 ws1 v1"> the <span class="ff1 fc9 ls8 ws9">views</span> dir<span class="_ _0"></span>ector<span class="_ _14"></span>y (the dir<span class="_ _0"></span>ector<span class="_ _9"></span>y containing <span class="ff8">!</span></span></div>
<div class="t m0 x24 h2 yf2 ff2 fs0 fc2 sc0 ls0 ws1">the templates) </div>
<div class="t m0 x21 h6 y206 ff2 fs3 fc2 sc0 ls1">•<span class="ff1 fs0 fc9 ls0 ws0 v1">Setting</span><span class="fs0 ls0 ws1 v1"> the <span class="ff1 fc9">template engine</span> </span></div>
<div class="t m0 x21 h7 y207 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">An application may make use of <span class="ff1 fc9 ls8">several template </span></span></div>
<div class="t m0 x24 h1 y17b ff1 fs0 fc9 sc0 ls8 ws9">engines<span class="ff2 fc2 ls0 ws1"> at the same time</span></div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">61</div>
<div class="t m0 x7d h2e y208 ff4 fsd fc2 sc0 lsd ws1">app.set(&apos;views&apos;, __dirname + &apos;/views&apos;);</div>
<div class="c x8a y209 w3b h92"><div class="t m0 x1b hc y20a ff2 fs3 fc1 sc0 ls0 ws1">dir<span class="_ _0"></span>ector<span class="_ _14"></span>y the currently executing </div><div class="t m0 x1b hc y20b ff2 fs3 fc1 sc0 ls0 ws1">script r<span class="_ _0"></span>esides in</div></div>
<div class="t m0 x5b h2e y20c ff4 fsd fc2 sc0 lsd ws1">app.set(&apos;view engine&apos;, &apos;ejs&apos;);</div></div></div>


    <div id="pf157" class="pf w0 h0 step slide flash" data-page-no="157" data-x="0" data-y="0"><div class="pc pc9d w0 h0">
    <video width=100% style="position: absolute; top: 120px; z-index: 2;"><source src="videos/ejs-visualstudio.mov" type="video/mp4"></video>
    <img class="bi x0 y0 w0 h0" alt="" src="img/bg9d.png"><div class="c x0 y103 w0 h4f"><div class="t m0 x8b h48 y104 ff1 fs15 fc1 sc0 ls0 ws1">Example: exposing data to views</div></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div></div></div>


    <div id="pf159" class="pf w0 h0 step slide flash" data-page-no="159" data-x="0" data-y="0"><div class="pc pc9f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bg9f.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Exposing data to vie<span class="_ _c"></span>ws</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">63</div><div class="t m0 x8c h84 y18b ff4 fs9 fc5 sc0 ls20 ws1">  1 <span class="fc2">var express = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;express&quot;</span>);</span></div><div class="t m0 x8c h84 y20d ff4 fs9 fc5 sc0 ls20 ws1">  2 <span class="fc2">var url = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;url&quot;</span>);</span></div><div class="t m0 x8c h84 y165 ff4 fs9 fc5 sc0 ls20 ws1">  3 <span class="fc2">var http = <span class="fc8 ws1b">require</span><span class="ls22">(</span><span class="fc7 ws1b">&quot;http&quot;</span>);</span></div><div class="t m0 x8c h84 y14 ff4 fs9 fc5 sc0 ls20 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x8c h84 y20e ff4 fs9 fc5 sc0 ls20 ws1">  5 </div><div class="t m0 x8c h84 y20f ff4 fs9 fc5 sc0 ls20 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc ls22">2</span>];</span></div><div class="t m0 x8c h84 y210 ff4 fs9 fc5 sc0 ls20 ws1">  7 <span class="fc2">app = <span class="fc8 ws1b">express</span>();</span></div><div class="t m0 x8c h84 y211 ff4 fs9 fc5 sc0 ls20 ws1">  8 <span class="fc2 ws1b">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x8c h84 y212 ff4 fs9 fc5 sc0 ls20 ws1">  9 </div><div class="t m0 x8c h84 y5 ff4 fs9 fc5 sc0 ls20 ws1"> 10 <span class="fc2">var todos = [];</span></div><div class="t m0 x8c h84 y213 ff4 fs9 fc5 sc0 ls20 ws1"> 11 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Midterm exam tomorrow&apos;</span>, </span></span></div><div class="t m0 x8c h84 y36 ff4 fs9 fc5 sc0 ls20 ws1"> 12 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;01/12/2015&apos;</span>  });</span></div><div class="t m0 x8c h84 y214 ff4 fs9 fc5 sc0 ls20 ws1"> 13 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Prepare for assignment </span></span></span></div><div class="t m0 x8c h84 y215 ff4 fs9 fc5 sc0 ls20 ws1"> 14 <span class="fc7">           5&apos;<span class="fc2">, dueDate: </span><span class="ws1b">&apos;05/01/2016&apos;</span><span class="fc2"> });</span></span></div><div class="t m0 x8c h84 y216 ff4 fs9 fc5 sc0 ls20 ws1"> 15 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Sign up for final exam&apos;</span>, </span></span></div><div class="t m0 x8c h84 y217 ff4 fs9 fc5 sc0 ls20 ws1"> 16 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;06/01/2016&apos;</span> });</span></div><div class="t m0 x8c h84 yb0 ff4 fs9 fc5 sc0 ls20 ws1"> 17 </div><div class="t m0 x8c h84 y144 ff4 fs9 fc5 sc0 ls20 ws1"> 18 </div><div class="t m0 x8c h84 y218 ff4 fs9 fc5 sc0 ls20 ws1"> 19 <span class="fc2 ws1b">app.<span class="fc8">set</span><span class="ls22">(</span><span class="fc7">&apos;views&apos;</span><span class="ws1">, __dirname + </span><span class="fc7">&apos;/views&apos;</span>);</span></div><div class="t m0 x8c h84 yfb ff4 fs9 fc5 sc0 ls20 ws1"> 20 <span class="fc2 ws1b">app.<span class="fc8">set</span><span class="ls22">(</span></span><span class="fc7">&apos;view engine&apos;<span class="fc2">, </span><span class="ws1b">&apos;ejs&apos;<span class="fc2">);</span></span></span></div><div class="t m0 x8c h84 y117 ff4 fs9 fc5 sc0 ls20 ws1"> 21 </div><div class="t m0 x8c h84 y219 ff4 fs9 fc5 sc0 ls20 ws1"> 22 <span class="fc2 ws1b">app.<span class="fc8">get</span><span class="ls22">(</span><span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x8c h84 y189 ff4 fs9 fc5 sc0 ls20 ws1"> 23 <span class="fc2">    res.<span class="fc8 ws1b">render</span><span class="ls22">(</span><span class="fc7 ws1b">&apos;todos&apos;</span>, <span class="ff5">{ title: <span class="fc7">&apos;My list of </span></span></span></div><div class="t m0 x8c h84 y21a ff5 fs9 fc5 sc0 ls20 ws1"> 24 <span class="fc7">               TODOs&apos;<span class="fc2">, todo_array: todos }<span class="ff4">);</span></span></span></div><div class="t m0 x8c h84 y21b ff4 fs9 fc5 sc0 ls20 ws1"> 25 <span class="fc2">});</span></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div></div></div>

    <div id="pf160" class="pf w0 h0 step slide flash" data-page-no="160" data-x="0" data-y="0"><div class="pc pc9f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga0.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Exposing data to vie<span class="_ _c"></span>ws</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">63</div><div class="t m0 x8c h84 y18b ff4 fs9 fc5 sc0 ls20 ws1">  1 <span class="fc2">var express = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;express&quot;</span>);</span></div><div class="t m0 x8c h84 y20d ff4 fs9 fc5 sc0 ls20 ws1">  2 <span class="fc2">var url = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;url&quot;</span>);</span></div><div class="t m0 x8c h84 y165 ff4 fs9 fc5 sc0 ls20 ws1">  3 <span class="fc2">var http = <span class="fc8 ws1b">require</span><span class="ls22">(</span><span class="fc7 ws1b">&quot;http&quot;</span>);</span></div><div class="t m0 x8c h84 y14 ff4 fs9 fc5 sc0 ls20 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x8c h84 y20e ff4 fs9 fc5 sc0 ls20 ws1">  5 </div><div class="t m0 x8c h84 y20f ff4 fs9 fc5 sc0 ls20 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc ls22">2</span>];</span></div><div class="t m0 x8c h84 y210 ff4 fs9 fc5 sc0 ls20 ws1">  7 <span class="fc2">app = <span class="fc8 ws1b">express</span>();</span></div><div class="t m0 x8c h84 y211 ff4 fs9 fc5 sc0 ls20 ws1">  8 <span class="fc2 ws1b">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x8c h84 y212 ff4 fs9 fc5 sc0 ls20 ws1">  9 </div><div class="t m0 x8c h84 y5 ff4 fs9 fc5 sc0 ls20 ws1"> 10 <span class="fc2">var todos = [];</span></div><div class="t m0 x8c h84 y213 ff4 fs9 fc5 sc0 ls20 ws1"> 11 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Midterm exam tomorrow&apos;</span>, </span></span></div><div class="t m0 x8c h84 y36 ff4 fs9 fc5 sc0 ls20 ws1"> 12 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;01/12/2015&apos;</span>  });</span></div><div class="t m0 x8c h84 y214 ff4 fs9 fc5 sc0 ls20 ws1"> 13 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Prepare for assignment </span></span></span></div><div class="t m0 x8c h84 y215 ff4 fs9 fc5 sc0 ls20 ws1"> 14 <span class="fc7">           5&apos;<span class="fc2">, dueDate: </span><span class="ws1b">&apos;05/01/2016&apos;</span><span class="fc2"> });</span></span></div><div class="t m0 x8c h84 y216 ff4 fs9 fc5 sc0 ls20 ws1"> 15 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Sign up for final exam&apos;</span>, </span></span></div><div class="t m0 x8c h84 y217 ff4 fs9 fc5 sc0 ls20 ws1"> 16 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;06/01/2016&apos;</span> });</span></div><div class="t m0 x8c h84 yb0 ff4 fs9 fc5 sc0 ls20 ws1"> 17 </div><div class="t m0 x8c h84 y144 ff4 fs9 fc5 sc0 ls20 ws1"> 18 </div><div class="t m0 x8c h84 y218 ff4 fs9 fc5 sc0 ls20 ws1"> 19 <span class="fc2 ws1b">app.<span class="fc8">set</span><span class="ls22">(</span><span class="fc7">&apos;views&apos;</span><span class="ws1">, __dirname + </span><span class="fc7">&apos;/views&apos;</span>);</span></div><div class="t m0 x8c h84 yfb ff4 fs9 fc5 sc0 ls20 ws1"> 20 <span class="fc2 ws1b">app.<span class="fc8">set</span><span class="ls22">(</span></span><span class="fc7">&apos;view engine&apos;<span class="fc2">, </span><span class="ws1b">&apos;ejs&apos;<span class="fc2">);</span></span></span></div><div class="t m0 x8c h84 y117 ff4 fs9 fc5 sc0 ls20 ws1"> 21 </div><div class="t m0 x8c h84 y219 ff4 fs9 fc5 sc0 ls20 ws1"> 22 <span class="fc2 ws1b">app.<span class="fc8">get</span><span class="ls22">(</span><span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x8c h84 y189 ff4 fs9 fc5 sc0 ls20 ws1"> 23 <span class="fc2">    res.<span class="fc8 ws1b">render</span><span class="ls22">(</span><span class="fc7 ws1b">&apos;todos&apos;</span>, <span class="ff5">{ title: <span class="fc7">&apos;My list of </span></span></span></div><div class="t m0 x8c h84 y21a ff5 fs9 fc5 sc0 ls20 ws1"> 24 <span class="fc7">               TODOs&apos;<span class="fc2">, todo_array: todos }<span class="ff4">);</span></span></span></div><div class="t m0 x8c h84 y21b ff4 fs9 fc5 sc0 ls20 ws1"> 25 <span class="fc2">});</span></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div><div class="c x8d y21c w3c h93"><div class="t m0 x67 h11 y21d ff1 fs3 fc1 sc0 ls0 ws1">the list of todos we want </div><div class="t m0 x67 h11 y21e ff1 fs3 fc1 sc0 ls0 ws1">to serve to the clients</div></div></div></div>

    <div id="pf161" class="pf w0 h0 step slide flash" data-page-no="161" data-x="0" data-y="0"><div class="pc pc9f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga1.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Exposing data to vie<span class="_ _c"></span>ws</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">63</div><div class="t m0 x8c h84 y18b ff4 fs9 fc5 sc0 ls20 ws1">  1 <span class="fc2">var express = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;express&quot;</span>);</span></div><div class="t m0 x8c h84 y20d ff4 fs9 fc5 sc0 ls20 ws1">  2 <span class="fc2">var url = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;url&quot;</span>);</span></div><div class="t m0 x8c h84 y165 ff4 fs9 fc5 sc0 ls20 ws1">  3 <span class="fc2">var http = <span class="fc8 ws1b">require</span><span class="ls22">(</span><span class="fc7 ws1b">&quot;http&quot;</span>);</span></div><div class="t m0 x8c h84 y14 ff4 fs9 fc5 sc0 ls20 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x8c h84 y20e ff4 fs9 fc5 sc0 ls20 ws1">  5 </div><div class="t m0 x8c h84 y20f ff4 fs9 fc5 sc0 ls20 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc ls22">2</span>];</span></div><div class="t m0 x8c h84 y210 ff4 fs9 fc5 sc0 ls20 ws1">  7 <span class="fc2">app = <span class="fc8 ws1b">express</span>();</span></div><div class="t m0 x8c h84 y211 ff4 fs9 fc5 sc0 ls20 ws1">  8 <span class="fc2 ws1b">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x8c h84 y212 ff4 fs9 fc5 sc0 ls20 ws1">  9 </div><div class="t m0 x8c h84 y5 ff4 fs9 fc5 sc0 ls20 ws1"> 10 <span class="fc2">var todos = [];</span></div><div class="t m0 x8c h84 y213 ff4 fs9 fc5 sc0 ls20 ws1"> 11 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Midterm exam tomorrow&apos;</span>, </span></span></div><div class="t m0 x8c h84 y36 ff4 fs9 fc5 sc0 ls20 ws1"> 12 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;01/12/2015&apos;</span>  });</span></div><div class="t m0 x8c h84 y214 ff4 fs9 fc5 sc0 ls20 ws1"> 13 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Prepare for assignment </span></span></span></div><div class="t m0 x8c h84 y215 ff4 fs9 fc5 sc0 ls20 ws1"> 14 <span class="fc7">           5&apos;<span class="fc2">, dueDate: </span><span class="ws1b">&apos;05/01/2016&apos;</span><span class="fc2"> });</span></span></div><div class="t m0 x8c h84 y216 ff4 fs9 fc5 sc0 ls20 ws1"> 15 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Sign up</span></span></span></div><div class="t m0 x8c h84 y217 ff4 fs9 fc5 sc0 ls20 ws1"> 16 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;06/01/2016</span></span></div><div class="t m0 x8c h84 yb0 ff4 fs9 fc5 sc0 ls20 ws1"> 17 </div><div class="t m0 x8c h84 y144 ff4 fs9 fc5 sc0 ls20 ws1"> 18 </div><div class="t m0 x8c h84 y218 ff4 fs9 fc5 sc0 ls20 ws1"> 19 <span class="fc2 ws1b">app.<span class="fc8">set</span><span class="ls22">(</span><span class="fc7">&apos;views&apos;</span><span class="ws1">, __dirname + </span><span class="fc7">&apos;/views&apos;</span>);</span></div><div class="t m0 x8c h84 yfb ff4 fs9 fc5 sc0 ls20 ws1"> 20 <span class="fc2 ws1b">app.<span class="fc8">set</span><span class="ls22">(</span></span><span class="fc7">&apos;view engine&apos;<span class="fc2">, </span><span class="ws1b">&apos;ejs&apos;<span class="fc2">);</span></span></span></div><div class="t m0 x8c h84 y117 ff4 fs9 fc5 sc0 ls20 ws1"> 21 </div><div class="t m0 x8c h84 y219 ff4 fs9 fc5 sc0 ls20 ws1"> 22 <span class="fc2 ws1b">app.<span class="fc8">get</span><span class="ls22">(</span><span class="fc7">&quot;/todos&quot;</span><span class="ws1">, </span><span class="fc8">function</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x8c h84 y189 ff4 fs9 fc5 sc0 ls20 ws1"> 23 <span class="fc2">    res.<span class="fc8 ws1b">render</span><span class="ls22">(</span><span class="fc7 ws1b">&apos;todos&apos;</span>, <span class="ff5">{ title: <span class="fc7">&apos;My list of </span></span></span></div><div class="t m0 x8c h84 y21a ff5 fs9 fc5 sc0 ls20 ws1"> 24 <span class="fc7">               TODOs&apos;<span class="fc2">, todo_array: todos }<span class="ff4">);</span></span></span></div><div class="t m0 x8c h84 y21b ff4 fs9 fc5 sc0 ls20 ws1"> 25 <span class="fc2">});</span></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div><div class="c x8d y21c w3c h93"><div class="t m0 x67 h11 y21d ff1 fs3 fc1 sc0 ls0 ws1">the list of todos we want </div><div class="t m0 x67 h11 y21e ff1 fs3 fc1 sc0 ls0 ws1">to serve to the clients</div></div><div class="c x1a y21f w3c h93"><div class="t m0 x67 hc y220 ff2 fs3 fc2 sc0 ls0 ws1">infor<span class="_ _14"></span>ming expr<span class="_ _0"></span>ess about </div><div class="t m0 x67 hc y221 ff2 fs3 fc2 sc0 ls0 ws1">the view templates</div></div></div></div>

    <div id="pf162" class="pf w0 h0 step slide flash" data-page-no="162" data-x="0" data-y="0"><div class="pc pc9f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga2.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Exposing data to vie<span class="_ _c"></span>ws</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">63</div><div class="t m0 x8c h84 y18b ff4 fs9 fc5 sc0 ls20 ws1">  1 <span class="fc2">var express = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;express&quot;</span>);</span></div><div class="t m0 x8c h84 y20d ff4 fs9 fc5 sc0 ls20 ws1">  2 <span class="fc2">var url = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;url&quot;</span>);</span></div><div class="t m0 x8c h84 y165 ff4 fs9 fc5 sc0 ls20 ws1">  3 <span class="fc2">var http = <span class="fc8 ws1b">require</span><span class="ls22">(</span><span class="fc7 ws1b">&quot;http&quot;</span>);</span></div><div class="t m0 x8c h84 y14 ff4 fs9 fc5 sc0 ls20 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x8c h84 y20e ff4 fs9 fc5 sc0 ls20 ws1">  5 </div><div class="t m0 x8c h84 y20f ff4 fs9 fc5 sc0 ls20 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc ls22">2</span>];</span></div><div class="t m0 x8c h84 y210 ff4 fs9 fc5 sc0 ls20 ws1">  7 <span class="fc2">app = <span class="fc8 ws1b">express</span>();</span></div><div class="t m0 x8c h84 y211 ff4 fs9 fc5 sc0 ls20 ws1">  8 <span class="fc2 ws1b">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x8c h84 y212 ff4 fs9 fc5 sc0 ls20 ws1">  9 </div><div class="t m0 x8c h84 y5 ff4 fs9 fc5 sc0 ls20 ws1"> 10 <span class="fc2">var todos = [];</span></div><div class="t m0 x8c h84 y213 ff4 fs9 fc5 sc0 ls20 ws1"> 11 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Midterm exam tomorrow&apos;</span>, </span></span></div><div class="t m0 x8c h84 y36 ff4 fs9 fc5 sc0 ls20 ws1"> 12 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;01/12/2015&apos;</span>  });</span></div><div class="t m0 x8c h84 y214 ff4 fs9 fc5 sc0 ls20 ws1"> 13 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Prepare for assignment </span></span></span></div><div class="t m0 x8c h84 y215 ff4 fs9 fc5 sc0 ls20 ws1"> 14 <span class="fc7">           5&apos;<span class="fc2">, dueDate: </span><span class="ws1b">&apos;05/01/2016&apos;</span><span class="fc2"> });</span></span></div><div class="t m0 x8c h84 y216 ff4 fs9 fc5 sc0 ls20 ws1"> 15 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Sign up</span></span></span></div><div class="t m0 x8c h84 y217 ff4 fs9 fc5 sc0 ls20 ws1"> 16 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;06/01/2016</span></span></div><div class="t m0 x8c h84 yb0 ff4 fs9 fc5 sc0 ls20 ws1"> 17 </div><div class="t m0 x8c h84 y144 ff4 fs9 fc5 sc0 ls20 ws1"> 18 </div><div class="t m0 x8c h84 y218 ff4 fs9 fc5 sc0 ls20 ws1"> 19 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span><span class="fc7">                     </span><span class="ws1">                  me + </span><span class="fc7">&apos;/views&apos;</span>);</span></div><div class="t m0 x8c h84 yfb ff4 fs9 fc5 sc0 ls20 ws1"> 20 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span></span><span class="fc7">                <span class="fc2">  </span><span class="ws1b"> ejs&apos;<span class="fc2">);</span></span></span></div><div class="t m0 x8c h84 y117 ff4 fs9 fc5 sc0 ls20 ws1"> 21 </div><div class="t m0 x8c h84 y219 ff4 fs9 fc5 sc0 ls20 ws1"> 22 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span><span class="fc7">                        </span><span class="ws1">                 </span><span class="fc8">                on</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x8c h84 y189 ff4 fs9 fc5 sc0 ls20 ws1"> 23 <span class="fc2">    res.<span class="fc8 ws1b">render</span><span class="ls22">(</span><span class="fc7 ws1b">&apos;todos&apos;</span>, <span class="ff5">{ title: <span class="fc7">&apos;My list of </span></span></span></div><div class="t m0 x8c h84 y21a ff5 fs9 fc5 sc0 ls20 ws1"> 24 <span class="fc7">               TODOs&apos;<span class="fc2">, todo_array: todos }<span class="ff4">);</span></span></span></div><div class="t m0 x8c h84 y21b ff4 fs9 fc5 sc0 ls20 ws1"> 25 <span class="fc2">});</span></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div><div class="c x8d y21c w3c h93"><div class="t m0 x67 h11 y21d ff1 fs3 fc1 sc0 ls0 ws1">the list of todos we want </div><div class="t m0 x67 h11 y21e ff1 fs3 fc1 sc0 ls0 ws1">to serve to the clients</div></div><div class="c x1a y21f w3c h93"><div class="t m0 x67 hc y220 ff2 fs3 fc2 sc0 ls0 ws1">infor<span class="_ _14"></span>ming expr<span class="_ _0"></span>ess about </div><div class="t m0 x67 hc y221 ff2 fs3 fc2 sc0 ls0 ws1">the view templates</div></div><div class="c x8e y222 w3d h93"><div class="t m0 x67 hc y223 ff4 fs3 fc2 sc0 ls3 ws4">render()<span class="ff2 ls0 ws1"> indicates </span></div><div class="t m0 x67 hc y224 ff2 fs3 fc2 sc0 ls0 ws1">the use of a template</div></div></div></div>

    <div id="pf163" class="pf w0 h0 step slide flash" data-page-no="163" data-x="0" data-y="0"><div class="pc pc9f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga3.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Exposing data to vie<span class="_ _c"></span>ws</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">63</div><div class="t m0 x8c h84 y18b ff4 fs9 fc5 sc0 ls20 ws1">  1 <span class="fc2">var express = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;express&quot;</span>);</span></div><div class="t m0 x8c h84 y20d ff4 fs9 fc5 sc0 ls20 ws1">  2 <span class="fc2">var url = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;url&quot;</span>);</span></div><div class="t m0 x8c h84 y165 ff4 fs9 fc5 sc0 ls20 ws1">  3 <span class="fc2">var http = <span class="fc8 ws1b">require</span><span class="ls22">(</span><span class="fc7 ws1b">&quot;http&quot;</span>);</span></div><div class="t m0 x8c h84 y14 ff4 fs9 fc5 sc0 ls20 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x8c h84 y20e ff4 fs9 fc5 sc0 ls20 ws1">  5 </div><div class="t m0 x8c h84 y20f ff4 fs9 fc5 sc0 ls20 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc ls22">2</span>];</span></div><div class="t m0 x8c h84 y210 ff4 fs9 fc5 sc0 ls20 ws1">  7 <span class="fc2">app = <span class="fc8 ws1b">express</span>();</span></div><div class="t m0 x8c h84 y211 ff4 fs9 fc5 sc0 ls20 ws1">  8 <span class="fc2 ws1b">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x8c h84 y212 ff4 fs9 fc5 sc0 ls20 ws1">  9 </div><div class="t m0 x8c h84 y5 ff4 fs9 fc5 sc0 ls20 ws1"> 10 <span class="fc2">var todos = [];</span></div><div class="t m0 x8c h84 y213 ff4 fs9 fc5 sc0 ls20 ws1"> 11 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Midterm exam tomorrow&apos;</span>, </span></span></div><div class="t m0 x8c h84 y36 ff4 fs9 fc5 sc0 ls20 ws1"> 12 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;01/12/2015&apos;</span>  });</span></div><div class="t m0 x8c h84 y214 ff4 fs9 fc5 sc0 ls20 ws1"> 13 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Prepare for assignment </span></span></span></div><div class="t m0 x8c h84 y215 ff4 fs9 fc5 sc0 ls20 ws1"> 14 <span class="fc7">           5&apos;<span class="fc2">, dueDate: </span><span class="ws1b">&apos;05/01/2016&apos;</span><span class="fc2"> });</span></span></div><div class="t m0 x8c h84 y216 ff4 fs9 fc5 sc0 ls20 ws1"> 15 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Sign up</span></span></span></div><div class="t m0 x8c h84 y217 ff4 fs9 fc5 sc0 ls20 ws1"> 16 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;06/01/2016</span></span></div><div class="t m0 x8c h84 yb0 ff4 fs9 fc5 sc0 ls20 ws1"> 17 </div><div class="t m0 x8c h84 y144 ff4 fs9 fc5 sc0 ls20 ws1"> 18 </div><div class="t m0 x8c h84 y218 ff4 fs9 fc5 sc0 ls20 ws1"> 19 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span><span class="fc7">                     </span><span class="ws1">                  me + </span><span class="fc7">&apos;/views&apos;</span>);</span></div><div class="t m0 x8c h84 yfb ff4 fs9 fc5 sc0 ls20 ws1"> 20 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span></span><span class="fc7">                <span class="fc2">  </span><span class="ws1b"> ej   <span class="fc2">  </span></span></span></div><div class="t m0 x8c h84 y117 ff4 fs9 fc5 sc0 ls20 ws1"> 21 </div><div class="t m0 x8c h84 y219 ff4 fs9 fc5 sc0 ls20 ws1"> 22 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span><span class="fc7">                        </span><span class="ws1">                 </span><span class="fc8">                on</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x8c h84 y189 ff4 fs9 fc5 sc0 ls20 ws1"> 23 <span class="fc2">    res.<span class="fc8 ws1b">render</span><span class="ls22">(</span><span class="fc7 ws1b">&apos;todos&apos;</span>, <span class="ff5">{ title: <span class="fc7">&apos;My list of </span></span></span></div><div class="t m0 x8c h84 y21a ff5 fs9 fc5 sc0 ls20 ws1"> 24 <span class="fc7">               TODOs&apos;<span class="fc2">, todo_array: todos }<span class="ff4">);</span></span></span></div><div class="t m0 x8c h84 y21b ff4 fs9 fc5 sc0 ls20 ws1"> 25 <span class="fc2">});</span></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div><div class="c x8d y21c w3c h93"><div class="t m0 x67 h11 y21d ff1 fs3 fc1 sc0 ls0 ws1">the list of todos we want </div><div class="t m0 x67 h11 y21e ff1 fs3 fc1 sc0 ls0 ws1">to serve to the clients</div></div><div class="c x1a y21f w3c h93"><div class="t m0 x67 hc y220 ff2 fs3 fc2 sc0 ls0 ws1">infor<span class="_ _14"></span>ming expr<span class="_ _0"></span>ess about </div><div class="t m0 x67 hc y221 ff2 fs3 fc2 sc0 ls0 ws1">the view templates</div></div><div class="c x8e y222 w3d h93"><div class="t m0 x67 hc y223 ff4 fs3 fc2 sc0 ls3 ws4">render()<span class="ff2 ls0 ws1"> indicates </span></div><div class="t m0 x67 hc y224 ff2 fs3 fc2 sc0 ls0 ws1">the use of a template</div></div><div class="c x8f y225 w3e h94"><div class="t m0 x67 hc y226 ff2 fs3 fc2 sc0 ls0 ws1">variables of the template</div></div></div></div>

    <div id="pf164" class="pf w0 h0 step slide flash" data-page-no="164" data-x="0" data-y="0"><div class="pc pc9f w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga4.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">Exposing data to vie<span class="_ _c"></span>ws</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">63</div><div class="t m0 x8c h84 y18b ff4 fs9 fc5 sc0 ls20 ws1">  1 <span class="fc2">var express = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;express&quot;</span>);</span></div><div class="t m0 x8c h84 y20d ff4 fs9 fc5 sc0 ls20 ws1">  2 <span class="fc2">var url = <span class="fc8 ws1b">require</span>(<span class="fc7 ws1b">&quot;url&quot;</span>);</span></div><div class="t m0 x8c h84 y165 ff4 fs9 fc5 sc0 ls20 ws1">  3 <span class="fc2">var http = <span class="fc8 ws1b">require</span><span class="ls22">(</span><span class="fc7 ws1b">&quot;http&quot;</span>);</span></div><div class="t m0 x8c h84 y14 ff4 fs9 fc5 sc0 ls20 ws1">  4 <span class="fc2">var app;</span></div><div class="t m0 x8c h84 y20e ff4 fs9 fc5 sc0 ls20 ws1">  5 </div><div class="t m0 x8c h84 y20f ff4 fs9 fc5 sc0 ls20 ws1">  6 <span class="fc2">var port = process.argv[<span class="fcc ls22">2</span>];</span></div><div class="t m0 x8c h84 y210 ff4 fs9 fc5 sc0 ls20 ws1">  7 <span class="fc2">app = <span class="fc8 ws1b">express</span>();</span></div><div class="t m0 x8c h84 y211 ff4 fs9 fc5 sc0 ls20 ws1">  8 <span class="fc2 ws1b">http.<span class="fc8">createServer</span>(app).<span class="fc8">listen</span>(port);</span></div><div class="t m0 x8c h84 y212 ff4 fs9 fc5 sc0 ls20 ws1">  9 </div><div class="t m0 x8c h84 y5 ff4 fs9 fc5 sc0 ls20 ws1"> 10 <span class="fc2">var todos = [];</span></div><div class="t m0 x8c h84 y213 ff4 fs9 fc5 sc0 ls20 ws1"> 11 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Midterm exam tomorrow&apos;</span>, </span></span></div><div class="t m0 x8c h84 y36 ff4 fs9 fc5 sc0 ls20 ws1"> 12 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;01/12/2015&apos;</span>  });</span></div><div class="t m0 x8c h84 y214 ff4 fs9 fc5 sc0 ls20 ws1"> 13 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Prepare for assignment </span></span></span></div><div class="t m0 x8c h84 y215 ff4 fs9 fc5 sc0 ls20 ws1"> 14 <span class="fc7">           5&apos;<span class="fc2">, dueDate: </span><span class="ws1b">&apos;05/01/2016&apos;</span><span class="fc2"> });</span></span></div><div class="t m0 x8c h84 y216 ff4 fs9 fc5 sc0 ls20 ws1"> 15 <span class="fc2 ws1b">todos.<span class="fc8">push</span><span class="ws1">({ message: <span class="fc7">&apos;Sign up</span> </span></span></div><div class="t m0 x8c h84 y217 ff4 fs9 fc5 sc0 ls20 ws1"> 16 <span class="fc2">           dueDate: <span class="fc7 ws1b">&apos;06/01/2016</span></span></div><div class="t m0 x8c h84 yb0 ff4 fs9 fc5 sc0 ls20 ws1"> 17 </div><div class="t m0 x8c h84 y144 ff4 fs9 fc5 sc0 ls20 ws1"> 18 </div><div class="t m0 x8c h84 y218 ff4 fs9 fc5 sc0 ls20 ws1"> 19 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span><span class="fc7">                     </span><span class="ws1">                  me + </span><span class="fc7">&apos;/views&apos;</span>);</span></div><div class="t m0 x8c h84 yfb ff4 fs9 fc5 sc0 ls20 ws1"> 20 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span></span><span class="fc7">                <span class="fc2">  </span><span class="ws1b"> ej    <span class="fc2">  </span></span></span></div><div class="t m0 x8c h84 y117 ff4 fs9 fc5 sc0 ls20 ws1"> 21 </div><div class="t m0 x8c h84 y219 ff4 fs9 fc5 sc0 ls20 ws1"> 22 <span class="fc2 ws1b">app <span class="fc8">   </span><span class="ls22"> </span><span class="fc7">                        </span><span class="ws1">                 </span><span class="fc8">                on</span><span class="ws1"> (req, res) {</span></span></div><div class="t m0 x8c h84 y189 ff4 fs9 fc5 sc0 ls20 ws1"> 23 <span class="fc2">    res.<span class="fc8 ws1b">render</span><span class="ls22">(</span><span class="fc7 ws1b">&apos;todos&apos;</span>, <span class="ff5">{ title: <span class="fc7">&apos;My list of </span></span></span></div><div class="t m0 x8c h84 y21a ff5 fs9 fc5 sc0 ls20 ws1"> 24 <span class="fc7">                  Os&apos;<span class="fc2">, todo_array: todos }<span class="ff4">);</span></span></span></div><div class="t m0 x8c h84 y21b ff4 fs9 fc5 sc0 ls20 ws1"> 25 <span class="fc2">}) </span></div><div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div><div class="c x8d y21c w3c h93"><div class="t m0 x67 h11 y21d ff1 fs3 fc1 sc0 ls0 ws1">the list of todos we want </div><div class="t m0 x67 h11 y21e ff1 fs3 fc1 sc0 ls0 ws1">to serve to the clients</div></div><div class="c x1a y21f w3c h93"><div class="t m0 x67 hc y220 ff2 fs3 fc2 sc0 ls0 ws1">infor<span class="_ _14"></span>ming expr<span class="_ _0"></span>ess about </div><div class="t m0 x67 hc y221 ff2 fs3 fc2 sc0 ls0 ws1">the view templates</div></div><div class="c x8e y222 w3d h93"><div class="t m0 x67 hc y223 ff4 fs3 fc2 sc0 ls3 ws4">render()<span class="ff2 ls0 ws1"> indicates </span></div><div class="t m0 x67 hc y224 ff2 fs3 fc2 sc0 ls0 ws1">the use of a template</div></div><div class="c x8f y225 w3e h94"><div class="t m0 x67 hc y226 ff2 fs3 fc2 sc0 ls0 ws1">variables of the template</div></div><div class="c x90 y227 w3f h94"><div class="t m0 x2f hc y228 ff2 fs3 fc2 sc0 ls0 ws1">template to use</div></div></div></div>


    <!-- asq-10 <div id="pf165" class="pf w0 h0 step slide flash" data-page-no="a5" data-x="0" data-y="0"><div class="pc pca5 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga5.png"></div></div>-->

    <div id="pf166" class="pf w0 h0 step slide flash" data-page-no="166" data-x="0" data-y="0"><div class="pc pca5 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga6.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">ejs template file</div>
<div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">65</div>
<div class="t m0 x5b hd y229 ff4 fs3 fc5 sc0 ls3 ws1">  1 <span class="ff5 fc2 ws4">&lt;!DOCTYPE</span><span class="fc2"> html<span class="ff5 ls0">&gt;</span></span></div>
<div class="t m0 x5b hd y22a ff4 fs3 fc5 sc0 ls3 ws1">  2 <span class="ff5 fc2">&lt;html&gt;</span></div>
<div class="t m0 x5b hd y1f5 ff4 fs3 fc5 sc0 ls3 ws1">  3 <span class="ff5 fc2">&lt;head&gt;</span></div>
<div class="t m0 x5b hd y1f6 ff4 fs3 fc5 sc0 ls3 ws1">  4  <span class="ff5 fc2 ws4">&lt;title&gt;&lt;%=</span><span class="fc2"> title <span class="ff5">%&gt;&lt;/title&gt;</span></span></div>
<div class="t m0 x5b hd y11c ff4 fs3 fc5 sc0 ls3 ws1">  5 <span class="ff5 fc2">&lt;/head&gt;</span></div>
<div class="t m0 x5b hd y1f7 ff4 fs3 fc5 sc0 ls3 ws1">  6 <span class="ff5 fc2">&lt;body&gt;</span></div>
<div class="t m0 x5b hd y1f8 ff4 fs3 fc5 sc0 ls3 ws1">  7  <span class="ff5 fc2 ws4">&lt;h1&gt;<span class="ff4">TODOs</span>&lt;/h1&gt;</span></div>
<div class="t m0 x5b hd y94 ff4 fs3 fc5 sc0 ls3 ws1">  8  <span class="ff5 fc2">&lt;div&gt;</span></div>
<div class="t m0 x5b hd y1f9 ff4 fs3 fc5 sc0 ls3 ws1">  9 <span class="_ _b"> </span><span class="ff5 fc2 ws4">&lt;%</span><span class="fc2"> todo_array.forEach(function(todo) { <span class="ff5">%&gt;</span></span></div>
<div class="t m0 x5b hd y1fa ff4 fs3 fc5 sc0 ls3 ws1"> 10 <span class="_ _b"> </span><span class="ff5 fc2">&lt;div&gt;</span></div>
<div class="t m0 x5b hd y1fb ff4 fs3 fc5 sc0 ls3 ws1"> 11 <span class="_ _16"> </span><span class="ff5 fc2">&lt;h3&gt;&lt;%= <span class="ff4">todo.dueDate </span>%&gt;&lt;/h3&gt;</span></div>
<div class="t m0 x5b hd y1fc ff4 fs3 fc5 sc0 ls3 ws1"> 12 <span class="_ _16"> </span><span class="ff5 fc2">&lt;p&gt;&lt;%= <span class="ff4">todo.message </span>%&gt;&lt;/p&gt;</span></div>
<div class="t m0 x5b hd y1fd ff4 fs3 fc5 sc0 ls3 ws1"> 13 <span class="_ _b"> </span><span class="ff5 fc2">&lt;/div&gt;</span></div>
<div class="t m0 x5b hd y1fe ff4 fs3 fc5 sc0 ls3 ws1"> 14 <span class="_ _b"> </span><span class="ff5 fc2 ws4">&lt;%</span><span class="fc2"> }) <span class="ff5">%&gt;</span></span></div>
<div class="t m0 x5b hd y22b ff4 fs3 fc5 sc0 ls3 ws1"> 15  <span class="ff5 fc2">&lt;/div&gt;</span></div>
<div class="t m0 x5b hd y22c ff4 fs3 fc5 sc0 ls3 ws1"> 16 <span class="ff5 fc2">&lt;/body&gt;</span></div>
<div class="t m0 x5b hd y22d ff4 fs3 fc5 sc0 ls3 ws1"> 17 <span class="ff5 fc2">&lt;/html&gt;</span></div>
<div class="c x0 y10d w1c h53"><div class="t m3 x11 h54 y10e ff1 fs17 fc1 sc0 ls0 ws1">Example 7</div></div>
<div class="c x91 y22e w40 h95"><div class="t m0 x1b h11 y22f ff2 fs3 fc1 sc0 ls0 ws1">JavaScript between &lt;% %&gt; is <span class="ff1 ls6 ws5">executed</span>.</div></div>
<div class="c x91 y230 w40 h96"><div class="t m0 x1b h11 y231 ff2 fs3 fc2 sc0 ls0 ws1">JavaScript between &lt;%= %&gt; <span class="ff1 ls6">adds </span></div><div class="t m0 x1b h11 y232 ff1 fs3 fc2 sc0 ls0 ws14">output<span class="ff2 ws1"> to the r<span class="_ _0"></span>esult file.</span></div></div></div></div>


    <div id="pf167" class="pf w0 h0 step slide flash" data-page-no="167" data-x="0" data-y="0"><div class="pc pca7 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga7.png"><div class="t m0 x6 h4 y10 ff3 fs2 fc2 sc0 ls0 ws1">A last w<span class="_ _2"></span>or<span class="_ _c"></span>d on templates</div><div class="t m0 x21 h5 yf1 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">ejs r<span class="_ _0"></span>etains the <span class="ff1 fc9">original HTML<span class="_ _0"></span> tags</span></span></div><div class="t m0 x21 h6 y233 ff2 fs3 fc2 sc0 ls1">•<span class="fs0 ls0 ws1 v1">Other template languages do not, <span class="ff1 fc9 ls8 ws9">Jade</span> is a popular </span></div><div class="t m0 x24 h2 y234 ff2 fs0 fc2 sc0 ls0 ws1">example her<span class="_ _0"></span>e - which one to choose depends on your </div><div class="t m0 x24 h2 yc3 ff2 fs0 fc2 sc0 ls0 ws1">personal pr<span class="_ _0"></span>efer<span class="_ _0"></span>ences</div><div class="t m0 x26 ha yd ff2 fs4 fc2 sc0 ls0">66</div><div class="c x92 y235 w41 h97"><div class="t m0 x47 hc y236 ff2 fs3 fc1 sc0 ls0 ws1">Jade template</div></div><div class="c x93 y235 w42 h97"><div class="t m0 x67 hc y236 ff2 fs3 fc1 sc0 ls0 ws1">r<span class="_ _0"></span>ender<span class="_ _e"></span>ed HTML</div></div><div class="t m0 x94 h1c y57 ff2 fs9 fc3 sc0 ls0 ws1">Sour<span class="_ _0"></span>ce: http://jade-lang.com/</div></div></div>


    <div id="pf168" class="pf w0 h0 step slide flash" data-page-no="168" data-x="0" data-y="0"><div class="pc pca8 w0 h0"><img class="bi x0 y0 w0 h0" alt="" src="img/bga8.png"><div class="t m0 x6d hb y213 ff3 fs5 fc2 sc0 ls0 ws1">End of Lectur<span class="_ _5"></span>e</div></div></div>

</div>
<script src="frameworkData/impress.js"></script>
<script src="frameworkData/main.js"></script>
<script src="js/highlight.min.js"></script>
<script src="bower_components/impress-step-timer/impress-step-timer.js"></script>
<script type="text/javascript">

// syntax highlighting
if (typeof hljs != "undefined") {
  hljs.initHighlightingOnLoad();
} 
        
var aSlide = document.querySelectorAll('.pc')[0];
            var slideElem = document.getElementsByClassName("slide")[0];
            
            var maxWidth = slideElem.offsetWidth;
            var slideWidth = aSlide.offsetWidth;
            var maxHeight = slideElem.offsetHeight;
            var slideHeight = aSlide.offsetHeight;

            var scaleW = maxWidth / slideWidth;
            var scaleH = maxHeight / slideHeight;

            var css = document.createElement("style");
            css.type = "text/css";
            css.innerHTML = ".pc { transform: scale("+scaleW+", "+scaleH+"); position: relative;} .slide { overflow: hidden; }";
            /* css.innerHTML = ".pc { transform: scale("+scaleW+"); margin-left: "+slideElem.style.borderRadius+"px }"; */
            document.body.appendChild(css);
        
document.addEventListener("impress:substepenter", function (event){
            event.target.parentElement.querySelector(".pc img").src=event.target.getAttribute('data-bg-src');
        });

    </script>
</body></html>